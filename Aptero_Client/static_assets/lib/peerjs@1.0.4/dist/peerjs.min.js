<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for peerjs"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2019-09-05T10:14:28.309Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - peerjs</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"peerjs","packageVersion":"1.0.4","availableVersions":["0.2.0","0.3.1","0.3.2","0.3.4","0.3.5","0.3.6","0.3.8","0.3.9","0.3.10","0.3.12","0.3.13","0.3.14","0.3.15","0.3.16","0.3.17","0.3.18","0.3.19","0.3.20","0.3.21","0.3.22","0.3.23","0.3.24","1.0.0","1.0.1","1.0.2","1.0.3","1.0.4"],"filename":"/dist/peerjs.min.js","target":{"path":"/dist/peerjs.min.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-eR0sgSlM4L+NmkW1CGhQlMybRTMovK0+J/u8y/mER3nOWOlwCiggr+mfQkpK+N1B","language":"JavaScript","size":62102,"uri":null,"highlights":["parcelRequire=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r,t,n</span>)</span>{<span class=\"code-keyword\">var</span> i,o=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> parcelRequire&amp;&amp;parcelRequire,u=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">require</span>&amp;&amp;<span class=\"code-built_in\">require</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">if</span>(!r[t]){<span class=\"code-keyword\">if</span>(!e[t]){<span class=\"code-keyword\">var</span> i=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> parcelRequire&amp;&amp;parcelRequire;<span class=\"code-keyword\">if</span>(!n&amp;&amp;i)<span class=\"code-keyword\">return</span> i(t,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(o)<span class=\"code-keyword\">return</span> o(t,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(u&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t)<span class=\"code-keyword\">return</span> u(t);<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot find module '\"</span>+t+<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">throw</span> c.code=<span class=\"code-string\">\"MODULE_NOT_FOUND\"</span>,c}p.resolve=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> e[t][<span class=\"code-number\">1</span>][r]||r},p.cache={};<span class=\"code-keyword\">var</span> l=r[t]=<span class=\"code-keyword\">new</span> f.Module(t);e[t][<span class=\"code-number\">0</span>].call(l.exports,p,l,l.exports,<span class=\"code-keyword\">this</span>)}<span class=\"code-keyword\">return</span> r[t].exports;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> f(p.resolve(e))}}f.isParcelRequire=!<span class=\"code-number\">0</span>,f.Module=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.id=e,<span class=\"code-keyword\">this</span>.bundle=f,<span class=\"code-keyword\">this</span>.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,t</span>)</span>{e[r]=[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{r.exports=t},{}]};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;t.length;c++)<span class=\"code-keyword\">try</span>{f(t[c])}<span class=\"code-keyword\">catch</span>(e){i||(i=e)}<span class=\"code-keyword\">if</span>(t.length){<span class=\"code-keyword\">var</span> l=f(t[t.length<span class=\"code-number\">-1</span>]);<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?<span class=\"code-built_in\">module</span>.exports=l:<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l}):n&amp;&amp;(<span class=\"code-keyword\">this</span>[n]=l)}<span class=\"code-keyword\">if</span>(parcelRequire=f,i)<span class=\"code-keyword\">throw</span> i;<span class=\"code-keyword\">return</span> f}({<span class=\"code-string\">\"vHo1\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-keyword\">var</span> e={};e.useBlobBuilder=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Blob([]),!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}(),e.useArrayBufferView=!e.useBlobBuilder&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">new</span> Blob([<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([])]).size}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}(),<span class=\"code-built_in\">module</span>.exports.binaryFeatures=e;<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">module</span>.exports.BlobBuilder;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._pieces=[],<span class=\"code-keyword\">this</span>._parts=[]}<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>&amp;&amp;(r=<span class=\"code-built_in\">module</span>.exports.BlobBuilder=<span class=\"code-built_in\">window</span>.WebKitBlobBuilder||<span class=\"code-built_in\">window</span>.MozBlobBuilder||<span class=\"code-built_in\">window</span>.MSBlobBuilder||<span class=\"code-built_in\">window</span>.BlobBuilder),t.prototype.append=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e?<span class=\"code-keyword\">this</span>._pieces.push(e):(<span class=\"code-keyword\">this</span>.flush(),<span class=\"code-keyword\">this</span>._parts.push(e))},t.prototype.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._pieces.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">this</span>._pieces);e.useArrayBufferView||(r=r.buffer),<span class=\"code-keyword\">this</span>._parts.push(r),<span class=\"code-keyword\">this</span>._pieces=[]}},t.prototype.getBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.flush(),e.useBlobBuilder){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> r,i=<span class=\"code-number\">0</span>,u=<span class=\"code-keyword\">this</span>._parts.length;i&lt;u;i++)t.append(<span class=\"code-keyword\">this</span>._parts[i]);<span class=\"code-keyword\">return</span> t.getBlob()}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Blob(<span class=\"code-keyword\">this</span>._parts)},<span class=\"code-built_in\">module</span>.exports.BufferBuilder=t;\n","},{}],<span class=\"code-string\">\"lHOc\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./bufferbuilder\"</span>).BufferBuilder,e=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./bufferbuilder\"</span>).binaryFeatures,i={<span class=\"code-attr\">unpack</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> r(t).unpack()},<span class=\"code-attr\">pack</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> n;<span class=\"code-keyword\">return</span> e.pack(t),e.getBuffer()}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.index=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.dataBuffer=t,<span class=\"code-keyword\">this</span>.dataView=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">this</span>.dataBuffer),<span class=\"code-keyword\">this</span>.length=<span class=\"code-keyword\">this</span>.dataBuffer.byteLength}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder=<span class=\"code-keyword\">new</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.charCodeAt(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> e&lt;=<span class=\"code-number\">2047</span>?<span class=\"code-string\">\"00\"</span>:e&lt;=<span class=\"code-number\">65535</span>?<span class=\"code-string\">\"000\"</span>:e&lt;=<span class=\"code-number\">2097151</span>?<span class=\"code-string\">\"0000\"</span>:e&lt;=<span class=\"code-number\">67108863</span>?<span class=\"code-string\">\"00000\"</span>:<span class=\"code-string\">\"000000\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t.length&gt;<span class=\"code-number\">600</span>?<span class=\"code-keyword\">new</span> Blob([t]).size:t.replace(<span class=\"code-regexp\">/[^\\u0000-\\u007F]/g</span>,u).length}<span class=\"code-built_in\">module</span>.exports=i,r.prototype.unpack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,e=<span class=\"code-keyword\">this</span>.unpack_uint8();<span class=\"code-keyword\">if</span>(e&lt;<span class=\"code-number\">128</span>)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">if</span>((<span class=\"code-number\">224</span>^e)&lt;<span class=\"code-number\">32</span>)<span class=\"code-keyword\">return</span>(<span class=\"code-number\">224</span>^e)<span class=\"code-number\">-32</span>;<span class=\"code-keyword\">if</span>((t=<span class=\"code-number\">160</span>^e)&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_raw(t);<span class=\"code-keyword\">if</span>((t=<span class=\"code-number\">176</span>^e)&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_string(t);<span class=\"code-keyword\">if</span>((t=<span class=\"code-number\">144</span>^e)&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_array(t);<span class=\"code-keyword\">if</span>((t=<span class=\"code-number\">128</span>^e)&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_map(t);<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span> <span class=\"code-number\">192</span>:<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">193</span>:<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">194</span>:<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">195</span>:<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">202</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_float();<span class=\"code-keyword\">case</span> <span class=\"code-number\">203</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_double();<span class=\"code-keyword\">case</span> <span class=\"code-number\">204</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_uint8();<span class=\"code-keyword\">case</span> <span class=\"code-number\">205</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_uint16();<span class=\"code-keyword\">case</span> <span class=\"code-number\">206</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_uint32();<span class=\"code-keyword\">case</span> <span class=\"code-number\">207</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_uint64();<span class=\"code-keyword\">case</span> <span class=\"code-number\">208</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_int8();<span class=\"code-keyword\">case</span> <span class=\"code-number\">209</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_int16();<span class=\"code-keyword\">case</span> <span class=\"code-number\">210</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_int32();<span class=\"code-keyword\">case</span> <span class=\"code-number\">211</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.unpack_int64();<span class=\"code-keyword\">case</span> <span class=\"code-number\">212</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">213</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">214</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">215</span>:<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">216</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint16(),<span class=\"code-keyword\">this</span>.unpack_string(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">217</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),<span class=\"code-keyword\">this</span>.unpack_string(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">218</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint16(),<span class=\"code-keyword\">this</span>.unpack_raw(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">219</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),<span class=\"code-keyword\">this</span>.unpack_raw(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">220</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint16(),<span class=\"code-keyword\">this</span>.unpack_array(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">221</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),<span class=\"code-keyword\">this</span>.unpack_array(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">222</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint16(),<span class=\"code-keyword\">this</span>.unpack_map(t);<span class=\"code-keyword\">case</span> <span class=\"code-number\">223</span>:<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),<span class=\"code-keyword\">this</span>.unpack_map(t)}},r.prototype.unpack_uint8=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">255</span>&amp;<span class=\"code-keyword\">this</span>.dataView[<span class=\"code-keyword\">this</span>.index];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index++,t},r.prototype.unpack_uint16=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.read(<span class=\"code-number\">2</span>),e=<span class=\"code-number\">256</span>*(<span class=\"code-number\">255</span>&amp;t[<span class=\"code-number\">0</span>])+(<span class=\"code-number\">255</span>&amp;t[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index+=<span class=\"code-number\">2</span>,e},r.prototype.unpack_uint32=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.read(<span class=\"code-number\">4</span>),e=<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*t[<span class=\"code-number\">0</span>]+t[<span class=\"code-number\">1</span>])+t[<span class=\"code-number\">2</span>])+t[<span class=\"code-number\">3</span>];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index+=<span class=\"code-number\">4</span>,e},r.prototype.unpack_uint64=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.read(<span class=\"code-number\">8</span>),e=<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*(<span class=\"code-number\">256</span>*t[<span class=\"code-number\">0</span>]+t[<span class=\"code-number\">1</span>])+t[<span class=\"code-number\">2</span>])+t[<span class=\"code-number\">3</span>])+t[<span class=\"code-number\">4</span>])+t[<span class=\"code-number\">5</span>])+t[<span class=\"code-number\">6</span>])+t[<span class=\"code-number\">7</span>];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index+=<span class=\"code-number\">8</span>,e},r.prototype.unpack_int8=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint8();<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-number\">128</span>?t:t<span class=\"code-number\">-256</span>},r.prototype.unpack_int16=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint16();<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-number\">32768</span>?t:t<span class=\"code-number\">-65536</span>},r.prototype.unpack_int32=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32();<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">31</span>)?t:t-<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>)},r.prototype.unpack_int64=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint64();<span class=\"code-keyword\">return</span> t&lt;<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">63</span>)?t:t-<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">64</span>)},r.prototype.unpack_raw=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.length&lt;<span class=\"code-keyword\">this</span>.index+t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"BinaryPackFailure: index is out of range \"</span>+<span class=\"code-keyword\">this</span>.index+<span class=\"code-string\">\" \"</span>+t+<span class=\"code-string\">\" \"</span>+<span class=\"code-keyword\">this</span>.length);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.dataBuffer.slice(<span class=\"code-keyword\">this</span>.index,<span class=\"code-keyword\">this</span>.index+t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index+=t,e},r.prototype.unpack_string=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,i,r=<span class=\"code-keyword\">this</span>.read(t),n=<span class=\"code-number\">0</span>,u=<span class=\"code-string\">\"\"</span>;n&lt;t;)(e=r[n])&lt;<span class=\"code-number\">128</span>?(u+=<span class=\"code-built_in\">String</span>.fromCharCode(e),n++):(<span class=\"code-number\">192</span>^e)&lt;<span class=\"code-number\">32</span>?(i=(<span class=\"code-number\">192</span>^e)&lt;&lt;<span class=\"code-number\">6</span>|<span class=\"code-number\">63</span>&amp;r[n+<span class=\"code-number\">1</span>],u+=<span class=\"code-built_in\">String</span>.fromCharCode(i),n+=<span class=\"code-number\">2</span>):(i=(<span class=\"code-number\">15</span>&amp;e)&lt;&lt;<span class=\"code-number\">12</span>|(<span class=\"code-number\">63</span>&amp;r[n+<span class=\"code-number\">1</span>])&lt;&lt;<span class=\"code-number\">6</span>|<span class=\"code-number\">63</span>&amp;r[n+<span class=\"code-number\">2</span>],u+=<span class=\"code-built_in\">String</span>.fromCharCode(i),n+=<span class=\"code-number\">3</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.index+=t,u},r.prototype.unpack_array=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(t),i=<span class=\"code-number\">0</span>;i&lt;t;i++)e[i]=<span class=\"code-keyword\">this</span>.unpack();<span class=\"code-keyword\">return</span> e},r.prototype.unpack_map=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e={},i=<span class=\"code-number\">0</span>;i&lt;t;i++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.unpack(),n=<span class=\"code-keyword\">this</span>.unpack();e[r]=n}<span class=\"code-keyword\">return</span> e},r.prototype.unpack_float=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),e=(t&gt;&gt;<span class=\"code-number\">23</span>&amp;<span class=\"code-number\">255</span>)<span class=\"code-number\">-127</span>;<span class=\"code-keyword\">return</span>(<span class=\"code-number\">0</span>==t&gt;&gt;<span class=\"code-number\">31</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>)*(<span class=\"code-number\">8388607</span>&amp;t|<span class=\"code-number\">8388608</span>)*<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,e<span class=\"code-number\">-23</span>)},r.prototype.unpack_double=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.unpack_uint32(),e=<span class=\"code-keyword\">this</span>.unpack_uint32(),i=(t&gt;&gt;<span class=\"code-number\">20</span>&amp;<span class=\"code-number\">2047</span>)<span class=\"code-number\">-1023</span>;<span class=\"code-keyword\">return</span>(<span class=\"code-number\">0</span>==t&gt;&gt;<span class=\"code-number\">31</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>)*((<span class=\"code-number\">1048575</span>&amp;t|<span class=\"code-number\">1048576</span>)*<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,i<span class=\"code-number\">-20</span>)+e*<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,i<span class=\"code-number\">-52</span>))},r.prototype.read=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.index;<span class=\"code-keyword\">if</span>(e+t&lt;=<span class=\"code-keyword\">this</span>.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dataView.subarray(e,e+t);<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"BinaryPackFailure: read index out of range\"</span>)},n.prototype.getBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.bufferBuilder.getBuffer()},n.prototype.pack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">typeof</span> t;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==i)<span class=\"code-keyword\">this</span>.pack_string(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==i)<span class=\"code-built_in\">Math</span>.floor(t)===t?<span class=\"code-keyword\">this</span>.pack_integer(t):<span class=\"code-keyword\">this</span>.pack_double(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"boolean\"</span>==i)!<span class=\"code-number\">0</span>===t?<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">195</span>):!<span class=\"code-number\">1</span>===t&amp;&amp;<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">194</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==i)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">192</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"object\"</span>!=i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Type \"'</span>+i+<span class=\"code-string\">'\" not yet supported'</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">192</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> r=t.constructor;<span class=\"code-keyword\">if</span>(r==<span class=\"code-built_in\">Array</span>)<span class=\"code-keyword\">this</span>.pack_array(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r==Blob||r==File)<span class=\"code-keyword\">this</span>.pack_bin(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r==<span class=\"code-built_in\">ArrayBuffer</span>)e.useArrayBufferView?<span class=\"code-keyword\">this</span>.pack_bin(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t)):<span class=\"code-keyword\">this</span>.pack_bin(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"BYTES_PER_ELEMENT\"</span><span class=\"code-keyword\">in</span> t)e.useArrayBufferView?<span class=\"code-keyword\">this</span>.pack_bin(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.buffer)):<span class=\"code-keyword\">this</span>.pack_bin(t.buffer);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r==<span class=\"code-built_in\">Object</span>)<span class=\"code-keyword\">this</span>.pack_object(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(r==<span class=\"code-built_in\">Date</span>)<span class=\"code-keyword\">this</span>.pack_string(t.toString());<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> t.toBinaryPack)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Type \"'</span>+r.toString()+<span class=\"code-string\">'\" not yet supported'</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(t.toBinaryPack())}}}<span class=\"code-keyword\">this</span>.bufferBuilder.flush()},n.prototype.pack_bin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.length||t.byteLength||t.size;<span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">this</span>.pack_uint8(<span class=\"code-number\">160</span>+e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">65535</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">218</span>),<span class=\"code-keyword\">this</span>.pack_uint16(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(e&lt;=<span class=\"code-number\">4294967295</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid length\"</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">219</span>),<span class=\"code-keyword\">this</span>.pack_uint32(e)}<span class=\"code-keyword\">this</span>.bufferBuilder.append(t)},n.prototype.pack_string=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=a(t);<span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">this</span>.pack_uint8(<span class=\"code-number\">176</span>+e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">65535</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">216</span>),<span class=\"code-keyword\">this</span>.pack_uint16(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(e&lt;=<span class=\"code-number\">4294967295</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid length\"</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">217</span>),<span class=\"code-keyword\">this</span>.pack_uint32(e)}<span class=\"code-keyword\">this</span>.bufferBuilder.append(t)},n.prototype.pack_array=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.length;<span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">this</span>.pack_uint8(<span class=\"code-number\">144</span>+e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">65535</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">220</span>),<span class=\"code-keyword\">this</span>.pack_uint16(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(e&lt;=<span class=\"code-number\">4294967295</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid length\"</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">221</span>),<span class=\"code-keyword\">this</span>.pack_uint32(e)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e;i++)<span class=\"code-keyword\">this</span>.pack(t[i])},n.prototype.pack_integer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-32</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">127</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">255</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">204</span>),<span class=\"code-keyword\">this</span>.pack_uint8(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">-128</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">127</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">208</span>),<span class=\"code-keyword\">this</span>.pack_int8(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">65535</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">205</span>),<span class=\"code-keyword\">this</span>.pack_uint16(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">-32768</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">32767</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">209</span>),<span class=\"code-keyword\">this</span>.pack_int16(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">4294967295</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">206</span>),<span class=\"code-keyword\">this</span>.pack_uint32(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">-2147483648</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">2147483647</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">210</span>),<span class=\"code-keyword\">this</span>.pack_int32(t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">-0x8000000000000000</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">0x8000000000000000</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">211</span>),<span class=\"code-keyword\">this</span>.pack_int64(t);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">0</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">0x10000000000000000</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid integer\"</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">207</span>),<span class=\"code-keyword\">this</span>.pack_uint64(t)}},n.prototype.pack_double=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-number\">0</span>&amp;&amp;(e=<span class=\"code-number\">1</span>,t=-t);<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-built_in\">Math</span>.log(t)/<span class=\"code-built_in\">Math</span>.LN2),r=t/<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,i)<span class=\"code-number\">-1</span>,n=<span class=\"code-built_in\">Math</span>.floor(r*<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">52</span>)),u=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>),a=e&lt;&lt;<span class=\"code-number\">31</span>|i+<span class=\"code-number\">1023</span>&lt;&lt;<span class=\"code-number\">20</span>|n/u&amp;<span class=\"code-number\">1048575</span>,p=n%u;<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">203</span>),<span class=\"code-keyword\">this</span>.pack_int32(a),<span class=\"code-keyword\">this</span>.pack_int32(p)},n.prototype.pack_object=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>.keys(t).length;<span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">15</span>)<span class=\"code-keyword\">this</span>.pack_uint8(<span class=\"code-number\">128</span>+e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">65535</span>)<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">222</span>),<span class=\"code-keyword\">this</span>.pack_uint16(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(e&lt;=<span class=\"code-number\">4294967295</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid length\"</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">223</span>),<span class=\"code-keyword\">this</span>.pack_uint32(e)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> t)t.hasOwnProperty(i)&amp;&amp;(<span class=\"code-keyword\">this</span>.pack(i),<span class=\"code-keyword\">this</span>.pack(t[i]))},n.prototype.pack_uint8=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder.append(t)},n.prototype.pack_uint16=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder.append(t&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;t)},n.prototype.pack_uint32=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">4294967295</span>&amp;t;<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">24</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;e)},n.prototype.pack_uint64=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t/<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>),i=t%<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">24</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;e),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">4278190080</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">24</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;i)},n.prototype.pack_int8=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;t)},n.prototype.pack_int16=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;t)&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;t)},n.prototype.pack_int32=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.bufferBuilder.append(t&gt;&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;t)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;t)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;t)},n.prototype.pack_int64=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.floor(t/<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>)),i=t%<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>);<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">24</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;e),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">4278190080</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">24</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">16711680</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">16</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append((<span class=\"code-number\">65280</span>&amp;i)&gt;&gt;&gt;<span class=\"code-number\">8</span>),<span class=\"code-keyword\">this</span>.bufferBuilder.append(<span class=\"code-number\">255</span>&amp;i)};\n","},{<span class=\"code-string\">\"./bufferbuilder\"</span>:<span class=\"code-string\">\"vHo1\"</span>}],<span class=\"code-string\">\"sXtV\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),exports.RTCSessionDescription=<span class=\"code-built_in\">window</span>.RTCSessionDescription||<span class=\"code-built_in\">window</span>.mozRTCSessionDescription,exports.RTCPeerConnection=<span class=\"code-built_in\">window</span>.RTCPeerConnection||<span class=\"code-built_in\">window</span>.mozRTCPeerConnection||<span class=\"code-built_in\">window</span>.webkitRTCPeerConnection,exports.RTCIceCandidate=<span class=\"code-built_in\">window</span>.RTCIceCandidate||<span class=\"code-built_in\">window</span>.mozRTCIceCandidate;\n","},{}],<span class=\"code-string\">\"BHXf\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-keyword\">var</span> global = <span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>];\n","<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>],n=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importStar||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.__esModule)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> n={};<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e)<span class=\"code-built_in\">Object</span>.hasOwnProperty.call(e,r)&amp;&amp;(n[r]=e[r]);<span class=\"code-keyword\">return</span> n.default=e,n};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> r=n(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"js-binarypack\"</span>)),t=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./adapter\"</span>),a={<span class=\"code-attr\">iceServers</span>:[{<span class=\"code-attr\">urls</span>:<span class=\"code-string\">\"stun:stun.l.google.com:19302\"</span>}],<span class=\"code-attr\">sdpSemantics</span>:<span class=\"code-string\">\"unified-plan\"</span>},o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">return</span> e.noop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.validateId=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!e||<span class=\"code-regexp\">/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/</span>.test(e)},e.chunk=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,t=[],a=n.size,o=<span class=\"code-built_in\">Math</span>.ceil(a/e.chunkedMTU),i=r=<span class=\"code-number\">0</span>;i&lt;a;){<span class=\"code-keyword\">var</span> u=<span class=\"code-built_in\">Math</span>.min(a,i+e.chunkedMTU),c=n.slice(i,u),d={<span class=\"code-attr\">__peerData</span>:<span class=\"code-keyword\">this</span>._dataCount,<span class=\"code-attr\">n</span>:r,<span class=\"code-attr\">data</span>:c,<span class=\"code-attr\">total</span>:o};t.push(d),i=u,r++}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._dataCount++,t},e.blobToArrayBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> FileReader;r.onload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n(e.target.result)},r.readAsArrayBuffer(e)},e.blobToBinaryString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> FileReader;r.onload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n(e.target.result)},r.readAsBinaryString(e)},e.binaryStringToArrayBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.length),r=<span class=\"code-number\">0</span>;r&lt;e.length;r++)n[r]=<span class=\"code-number\">255</span>&amp;e.charCodeAt(r);<span class=\"code-keyword\">return</span> n.buffer},e.randomToken=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.random().toString(<span class=\"code-number\">36</span>).substr(<span class=\"code-number\">2</span>)},e.isSecure=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"https:\"</span>===location.protocol},e.CLOUD_HOST=<span class=\"code-string\">\"0.peerjs.com\"</span>,e.CLOUD_PORT=<span class=\"code-number\">443</span>,e.chunkedBrowsers={<span class=\"code-attr\">Chrome</span>:<span class=\"code-number\">1</span>},e.chunkedMTU=<span class=\"code-number\">16300</span>,e.defaultConfig=a,e.browser=(n=<span class=\"code-built_in\">window</span>).mozRTCPeerConnection?<span class=\"code-string\">\"Firefox\"</span>:n.webkitRTCPeerConnection?<span class=\"code-string\">\"Chrome\"</span>:n.RTCPeerConnection?<span class=\"code-string\">\"Supported\"</span>:<span class=\"code-string\">\"Unsupported\"</span>,e.supports=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.RTCPeerConnection)<span class=\"code-keyword\">return</span>{};<span class=\"code-keyword\">var</span> e,n,r=!<span class=\"code-number\">0</span>,o=!<span class=\"code-number\">0</span>,i=!<span class=\"code-number\">1</span>,u=!<span class=\"code-number\">1</span>,c=!!<span class=\"code-built_in\">window</span>.webkitRTCPeerConnection;<span class=\"code-keyword\">try</span>{e=<span class=\"code-keyword\">new</span> t.RTCPeerConnection(a,{<span class=\"code-attr\">optional</span>:[{<span class=\"code-attr\">RtpDataChannels</span>:!<span class=\"code-number\">0</span>}]})}<span class=\"code-keyword\">catch</span>(l){r=!<span class=\"code-number\">1</span>,o=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">try</span>{n=e.createDataChannel(<span class=\"code-string\">\"_PEERJSTEST\"</span>)}<span class=\"code-keyword\">catch</span>(l){r=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">try</span>{n.binaryType=<span class=\"code-string\">\"blob\"</span>,i=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">catch</span>(l){}<span class=\"code-keyword\">var</span> d=<span class=\"code-keyword\">new</span> t.RTCPeerConnection(a,{});<span class=\"code-keyword\">try</span>{u=d.createDataChannel(<span class=\"code-string\">\"_PEERJSRELIABLETEST\"</span>,{}).ordered}<span class=\"code-keyword\">catch</span>(l){}d.close()}<span class=\"code-keyword\">return</span> o&amp;&amp;(o=!!e.addStream),e&amp;&amp;e.close(),{<span class=\"code-attr\">audioVideo</span>:o,<span class=\"code-attr\">data</span>:r,<span class=\"code-attr\">binaryBlob</span>:i,<span class=\"code-attr\">binary</span>:u,<span class=\"code-attr\">reliable</span>:u,<span class=\"code-attr\">sctp</span>:u,<span class=\"code-attr\">onnegotiationneeded</span>:c}}(),e.pack=r.pack,e.unpack=r.unpack,e._dataCount=<span class=\"code-number\">1</span>,e}();exports.util=o;\n","},{<span class=\"code-string\">\"js-binarypack\"</span>:<span class=\"code-string\">\"lHOc\"</span>,<span class=\"code-string\">\"./adapter\"</span>:<span class=\"code-string\">\"sXtV\"</span>}],<span class=\"code-string\">\"2JJl\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty,t=<span class=\"code-string\">\"~\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">this</span>.fn=e,<span class=\"code-keyword\">this</span>.context=t,<span class=\"code-keyword\">this</span>.once=n||!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e,n,o,s,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> o)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"The listener must be a function\"</span>);<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">new</span> r(o,s||e,i),f=t?t+n:n;<span class=\"code-keyword\">return</span> e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-number\">0</span>==--e._eventsCount?e._events=<span class=\"code-keyword\">new</span> n:<span class=\"code-keyword\">delete</span> e._events[t]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._events=<span class=\"code-keyword\">new</span> n,<span class=\"code-keyword\">this</span>._eventsCount=<span class=\"code-number\">0</span>}<span class=\"code-built_in\">Object</span>.create&amp;&amp;(n.prototype=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span>),(<span class=\"code-keyword\">new</span> n).__proto__||(t=!<span class=\"code-number\">1</span>)),i.prototype.eventNames=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,r,o=[];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._eventsCount)<span class=\"code-keyword\">return</span> o;<span class=\"code-keyword\">for</span>(r <span class=\"code-keyword\">in</span> n=<span class=\"code-keyword\">this</span>._events)e.call(n,r)&amp;&amp;o.push(t?r.slice(<span class=\"code-number\">1</span>):r);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.getOwnPropertySymbols?o.concat(<span class=\"code-built_in\">Object</span>.getOwnPropertySymbols(n)):o},i.prototype.listeners=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=t?t+e:e,r=<span class=\"code-keyword\">this</span>._events[n];<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">if</span>(r.fn)<span class=\"code-keyword\">return</span>[r.fn];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>,s=r.length,i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(s);o&lt;s;o++)i[o]=r[o].fn;<span class=\"code-keyword\">return</span> i},i.prototype.listenerCount=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=t?t+e:e,r=<span class=\"code-keyword\">this</span>._events[n];<span class=\"code-keyword\">return</span> r?r.fn?<span class=\"code-number\">1</span>:r.length:<span class=\"code-number\">0</span>},i.prototype.emit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,r,o,s,i</span>)</span>{<span class=\"code-keyword\">var</span> c=t?t+e:e;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>._events[c])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> f,u,a=<span class=\"code-keyword\">this</span>._events[c],l=<span class=\"code-built_in\">arguments</span>.length;<span class=\"code-keyword\">if</span>(a.fn){<span class=\"code-keyword\">switch</span>(a.once&amp;&amp;<span class=\"code-keyword\">this</span>.removeListener(e,a.fn,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>),l){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context,n),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context,n,r),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context,n,r,o),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context,n,r,o,s),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">return</span> a.fn.call(a.context,n,r,o,s,i),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">for</span>(u=<span class=\"code-number\">1</span>,f=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(l<span class=\"code-number\">-1</span>);u&lt;l;u++)f[u<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[u];a.fn.apply(a.context,f)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> v,h=a.length;<span class=\"code-keyword\">for</span>(u=<span class=\"code-number\">0</span>;u&lt;h;u++)<span class=\"code-keyword\">switch</span>(a[u].once&amp;&amp;<span class=\"code-keyword\">this</span>.removeListener(e,a[u].fn,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>),l){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:a[u].fn.call(a[u].context);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:a[u].fn.call(a[u].context,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:a[u].fn.call(a[u].context,n,r);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:a[u].fn.call(a[u].context,n,r,o);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(!f)<span class=\"code-keyword\">for</span>(v=<span class=\"code-number\">1</span>,f=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(l<span class=\"code-number\">-1</span>);v&lt;l;v++)f[v<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[v];a[u].fn.apply(a[u].context,f)}}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},i.prototype.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> o(<span class=\"code-keyword\">this</span>,e,t,n,!<span class=\"code-number\">1</span>)},i.prototype.once=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> o(<span class=\"code-keyword\">this</span>,e,t,n,!<span class=\"code-number\">0</span>)},i.prototype.removeListener=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,r,o</span>)</span>{<span class=\"code-keyword\">var</span> i=t?t+e:e;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>._events[i])<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> s(<span class=\"code-keyword\">this</span>,i),<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> c=<span class=\"code-keyword\">this</span>._events[i];<span class=\"code-keyword\">if</span>(c.fn)c.fn!==n||o&amp;&amp;!c.once||r&amp;&amp;c.context!==r||s(<span class=\"code-keyword\">this</span>,i);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,u=[],a=c.length;f&lt;a;f++)(c[f].fn!==n||o&amp;&amp;!c[f].once||r&amp;&amp;c[f].context!==r)&amp;&amp;u.push(c[f]);u.length?<span class=\"code-keyword\">this</span>._events[i]=<span class=\"code-number\">1</span>===u.length?u[<span class=\"code-number\">0</span>]:u:s(<span class=\"code-keyword\">this</span>,i)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},i.prototype.removeAllListeners=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span> e?(r=t?t+e:e,<span class=\"code-keyword\">this</span>._events[r]&amp;&amp;s(<span class=\"code-keyword\">this</span>,r)):(<span class=\"code-keyword\">this</span>._events=<span class=\"code-keyword\">new</span> n,<span class=\"code-keyword\">this</span>._eventsCount=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>&amp;&amp;(<span class=\"code-built_in\">module</span>.exports=i);\n","},{}],<span class=\"code-string\">\"8WOs\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__read||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r,e</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;r[<span class=\"code-built_in\">Symbol</span>.iterator];<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">var</span> t,n,l=o.call(r),i=[];<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||e-- &gt;<span class=\"code-number\">0</span>)&amp;&amp;!(t=l.next()).done;)i.push(t.value)}<span class=\"code-keyword\">catch</span>(s){n={<span class=\"code-attr\">error</span>:s}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{t&amp;&amp;!t.done&amp;&amp;(o=l.return)&amp;&amp;o.call(l)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">throw</span> n.error}}<span class=\"code-keyword\">return</span> i},e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__spread||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],o=<span class=\"code-number\">0</span>;o&lt;<span class=\"code-built_in\">arguments</span>.length;o++)e=e.concat(r(<span class=\"code-built_in\">arguments</span>[o]));<span class=\"code-keyword\">return</span> e};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> o,t=<span class=\"code-string\">\"PeerJS: \"</span>;!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{r[r.Disabled=<span class=\"code-number\">0</span>]=<span class=\"code-string\">\"Disabled\"</span>,r[r.Errors=<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"Errors\"</span>,r[r.Warnings=<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"Warnings\"</span>,r[r.All=<span class=\"code-number\">3</span>]=<span class=\"code-string\">\"All\"</span>}(o=exports.LogLevel||(exports.LogLevel={}));<span class=\"code-keyword\">var</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._logLevel=o.Disabled}<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(r.prototype,<span class=\"code-string\">\"logLevel\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._logLevel},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">this</span>._logLevel=r},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),r.prototype.log=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-built_in\">arguments</span>.length;t++)r[t]=<span class=\"code-built_in\">arguments</span>[t];<span class=\"code-keyword\">this</span>._logLevel&gt;=o.All&amp;&amp;<span class=\"code-keyword\">this</span>._print.apply(<span class=\"code-keyword\">this</span>,e([o.All],r))},r.prototype.warn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-built_in\">arguments</span>.length;t++)r[t]=<span class=\"code-built_in\">arguments</span>[t];<span class=\"code-keyword\">this</span>._logLevel&gt;=o.Warnings&amp;&amp;<span class=\"code-keyword\">this</span>._print.apply(<span class=\"code-keyword\">this</span>,e([o.Warnings],r))},r.prototype.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],t=<span class=\"code-number\">0</span>;t&lt;<span class=\"code-built_in\">arguments</span>.length;t++)r[t]=<span class=\"code-built_in\">arguments</span>[t];<span class=\"code-keyword\">this</span>._logLevel&gt;=o.Errors&amp;&amp;<span class=\"code-keyword\">this</span>._print.apply(<span class=\"code-keyword\">this</span>,e([o.Errors],r))},r.prototype.setLogFunction=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">this</span>._print=r},r.prototype._print=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],l=<span class=\"code-number\">1</span>;l&lt;<span class=\"code-built_in\">arguments</span>.length;l++)n[l<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[l];<span class=\"code-keyword\">var</span> i=e([t],n);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> i)i[s]<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>&amp;&amp;(i[s]=<span class=\"code-string\">\"(\"</span>+i[s].name+<span class=\"code-string\">\") \"</span>+i[s].message);r&gt;=o.All?<span class=\"code-built_in\">console</span>.log.apply(<span class=\"code-built_in\">console</span>,e(i)):r&gt;=o.Warnings?<span class=\"code-built_in\">console</span>.warn.apply(<span class=\"code-built_in\">console</span>,e([<span class=\"code-string\">\"WARNING\"</span>],i)):r&gt;=o.Errors&amp;&amp;<span class=\"code-built_in\">console</span>.error.apply(<span class=\"code-built_in\">console</span>,e([<span class=\"code-string\">\"ERROR\"</span>],i))},r}();exports.default=<span class=\"code-keyword\">new</span> n;\n","},{}],<span class=\"code-string\">\"9ZRY\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e,r,n,o,t,a,i;<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Open=<span class=\"code-string\">\"open\"</span>,e.Stream=<span class=\"code-string\">\"stream\"</span>,e.Data=<span class=\"code-string\">\"data\"</span>,e.Close=<span class=\"code-string\">\"close\"</span>,e.Error=<span class=\"code-string\">\"error\"</span>,e.IceStateChanged=<span class=\"code-string\">\"iceStateChanged\"</span>}(e=exports.ConnectionEventType||(exports.ConnectionEventType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Data=<span class=\"code-string\">\"data\"</span>,e.Media=<span class=\"code-string\">\"media\"</span>}(r=exports.ConnectionType||(exports.ConnectionType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Open=<span class=\"code-string\">\"open\"</span>,e.Close=<span class=\"code-string\">\"close\"</span>,e.Connection=<span class=\"code-string\">\"connection\"</span>,e.Call=<span class=\"code-string\">\"call\"</span>,e.Disconnected=<span class=\"code-string\">\"disconnected\"</span>,e.Error=<span class=\"code-string\">\"error\"</span>}(n=exports.PeerEventType||(exports.PeerEventType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.BrowserIncompatible=<span class=\"code-string\">\"browser-incompatible\"</span>,e.Disconnected=<span class=\"code-string\">\"disconnected\"</span>,e.InvalidID=<span class=\"code-string\">\"invalid-id\"</span>,e.InvalidKey=<span class=\"code-string\">\"invalid-key\"</span>,e.Network=<span class=\"code-string\">\"network\"</span>,e.PeerUnavailable=<span class=\"code-string\">\"peer-unavailable\"</span>,e.SslUnavailable=<span class=\"code-string\">\"ssl-unavailable\"</span>,e.ServerError=<span class=\"code-string\">\"server-error\"</span>,e.SocketError=<span class=\"code-string\">\"socket-error\"</span>,e.SocketClosed=<span class=\"code-string\">\"socket-closed\"</span>,e.UnavailableID=<span class=\"code-string\">\"unavailable-id\"</span>,e.WebRTC=<span class=\"code-string\">\"webrtc\"</span>}(o=exports.PeerErrorType||(exports.PeerErrorType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Binary=<span class=\"code-string\">\"binary\"</span>,e.BinaryUTF8=<span class=\"code-string\">\"binary-utf8\"</span>,e.JSON=<span class=\"code-string\">\"json\"</span>}(t=exports.SerializationType||(exports.SerializationType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Message=<span class=\"code-string\">\"message\"</span>,e.Disconnected=<span class=\"code-string\">\"disconnected\"</span>,e.Error=<span class=\"code-string\">\"error\"</span>,e.Close=<span class=\"code-string\">\"close\"</span>}(a=exports.SocketEventType||(exports.SocketEventType={})),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.Heartbeat=<span class=\"code-string\">\"HEARTBEAT\"</span>,e.Candidate=<span class=\"code-string\">\"CANDIDATE\"</span>,e.Offer=<span class=\"code-string\">\"OFFER\"</span>,e.Answer=<span class=\"code-string\">\"ANSWER\"</span>,e.Open=<span class=\"code-string\">\"OPEN\"</span>,e.Error=<span class=\"code-string\">\"ERROR\"</span>,e.IdTaken=<span class=\"code-string\">\"ID-TAKEN\"</span>,e.InvalidKey=<span class=\"code-string\">\"INVALID-KEY\"</span>,e.Leave=<span class=\"code-string\">\"LEAVE\"</span>,e.Expire=<span class=\"code-string\">\"EXPIRE\"</span>}(i=exports.ServerMessageType||(exports.ServerMessageType={}));\n","},{}],<span class=\"code-string\">\"wJlv\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__extends||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,s</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.__proto__=t}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> t)t.hasOwnProperty(s)&amp;&amp;(e[s]=t[s])})(t,s)};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,s</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}e(t,s),t.prototype=<span class=\"code-literal\">null</span>===s?<span class=\"code-built_in\">Object</span>.create(s):(n.prototype=s.prototype,<span class=\"code-keyword\">new</span> n)}}(),t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__read||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> s=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator];<span class=\"code-keyword\">if</span>(!s)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> n,r,o=s.call(e),i=[];<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||t-- &gt;<span class=\"code-number\">0</span>)&amp;&amp;!(n=o.next()).done;)i.push(n.value)}<span class=\"code-keyword\">catch</span>(c){r={<span class=\"code-attr\">error</span>:c}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{n&amp;&amp;!n.done&amp;&amp;(s=o.return)&amp;&amp;s.call(o)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">throw</span> r.error}}<span class=\"code-keyword\">return</span> i},s=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__spread||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],s=<span class=\"code-number\">0</span>;s&lt;<span class=\"code-built_in\">arguments</span>.length;s++)e=e.concat(t(<span class=\"code-built_in\">arguments</span>[s]));<span class=\"code-keyword\">return</span> e},n=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__values||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator],s=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> t?t.call(e):{<span class=\"code-attr\">next</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;s&gt;=e.length&amp;&amp;(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>),{<span class=\"code-attr\">value</span>:e&amp;&amp;e[s++],<span class=\"code-attr\">done</span>:!e}}}},r=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importDefault||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.__esModule?e:{<span class=\"code-attr\">default</span>:e}};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"eventemitter3\"</span>),i=r(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),c=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./enums\"</span>),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e,s,n,r,o,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">5e3</span>);<span class=\"code-keyword\">var</span> c=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;c.pingInterval=i,c._disconnected=!<span class=\"code-number\">1</span>,c._messagesQueue=[];<span class=\"code-keyword\">var</span> a=e?<span class=\"code-string\">\"wss://\"</span>:<span class=\"code-string\">\"ws://\"</span>;<span class=\"code-keyword\">return</span> c._wsUrl=a+s+<span class=\"code-string\">\":\"</span>+n+r+<span class=\"code-string\">\"peerjs?key=\"</span>+o,c}<span class=\"code-keyword\">return</span> e(r,t),r.prototype.start=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>._id=e,<span class=\"code-keyword\">this</span>._wsUrl+=<span class=\"code-string\">\"&amp;id=\"</span>+e+<span class=\"code-string\">\"&amp;token=\"</span>+t,<span class=\"code-keyword\">this</span>._startWebSocket()},r.prototype._startWebSocket=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._socket||(<span class=\"code-keyword\">this</span>._socket=<span class=\"code-keyword\">new</span> WebSocket(<span class=\"code-keyword\">this</span>._wsUrl),<span class=\"code-keyword\">this</span>._socket.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> s;<span class=\"code-keyword\">try</span>{s=<span class=\"code-built_in\">JSON</span>.parse(t.data)}<span class=\"code-keyword\">catch</span>(n){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> i.default.log(<span class=\"code-string\">\"Invalid server message\"</span>,t.data)}e.emit(c.SocketEventType.Message,s)},<span class=\"code-keyword\">this</span>._socket.onclose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i.default.log(<span class=\"code-string\">\"Socket closed.\"</span>,t),e._disconnected=!<span class=\"code-number\">0</span>,clearTimeout(e._wsPingTimer),e.emit(c.SocketEventType.Disconnected)},<span class=\"code-keyword\">this</span>._socket.onopen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e._disconnected||(e._sendQueuedMessages(),i.default.log(<span class=\"code-string\">\"Socket open\"</span>),e._scheduleHeartbeat())})},r.prototype._scheduleHeartbeat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._wsPingTimer=setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e._sendHeartbeat()},<span class=\"code-keyword\">this</span>.pingInterval)},r.prototype._sendHeartbeat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._wsOpen()){<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">JSON</span>.stringify({<span class=\"code-attr\">type</span>:c.ServerMessageType.Heartbeat});<span class=\"code-keyword\">this</span>._socket.send(e),<span class=\"code-keyword\">this</span>._scheduleHeartbeat()}<span class=\"code-keyword\">else</span> i.default.log(<span class=\"code-string\">\"Cannot send heartbeat, because socket closed\"</span>)},r.prototype._wsOpen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>._socket&amp;&amp;<span class=\"code-number\">1</span>==<span class=\"code-keyword\">this</span>._socket.readyState},r.prototype._sendQueuedMessages=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,r=s(<span class=\"code-keyword\">this</span>._messagesQueue);<span class=\"code-keyword\">this</span>._messagesQueue=[];<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=n(r),i=o.next();!i.done;i=o.next()){<span class=\"code-keyword\">var</span> c=i.value;<span class=\"code-keyword\">this</span>.send(c)}}<span class=\"code-keyword\">catch</span>(a){e={<span class=\"code-attr\">error</span>:a}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{i&amp;&amp;!i.done&amp;&amp;(t=o.return)&amp;&amp;t.call(o)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">throw</span> e.error}}},r.prototype.send=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>._disconnected)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._id)<span class=\"code-keyword\">if</span>(e.type){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._wsOpen()){<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">JSON</span>.stringify(e);<span class=\"code-keyword\">this</span>._socket.send(t)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.emit(c.SocketEventType.Error,<span class=\"code-string\">\"Invalid message\"</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._messagesQueue.push(e)},r.prototype.close=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{!<span class=\"code-keyword\">this</span>._disconnected&amp;&amp;<span class=\"code-keyword\">this</span>._socket&amp;&amp;(<span class=\"code-keyword\">this</span>._socket.close(),<span class=\"code-keyword\">this</span>._disconnected=!<span class=\"code-number\">0</span>,clearTimeout(<span class=\"code-keyword\">this</span>._wsPingTimer))},r}(o.EventEmitter);exports.Socket=a;\n","},{<span class=\"code-string\">\"eventemitter3\"</span>:<span class=\"code-string\">\"2JJl\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>,<span class=\"code-string\">\"./enums\"</span>:<span class=\"code-string\">\"9ZRY\"</span>}],<span class=\"code-string\">\"T9kO\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-keyword\">var</span> global = <span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>];\n","<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>],r=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"js-binarypack\"</span>),t={<span class=\"code-attr\">debug</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">inherits</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{e.super_=r,e.prototype=<span class=\"code-built_in\">Object</span>.create(r.prototype,{<span class=\"code-attr\">constructor</span>:{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">writable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}})},<span class=\"code-attr\">extend</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> r)r.hasOwnProperty(t)&amp;&amp;(e[t]=r[t]);<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">pack</span>:r.pack,<span class=\"code-attr\">unpack</span>:r.unpack,<span class=\"code-attr\">log</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(t.debug){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-built_in\">arguments</span>.length;r++)e[r]=<span class=\"code-built_in\">arguments</span>[r];e.unshift(<span class=\"code-string\">\"Reliable: \"</span>),<span class=\"code-built_in\">console</span>.log.apply(<span class=\"code-built_in\">console</span>,e)}},<span class=\"code-attr\">setZeroTimeout</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r=[],t=<span class=\"code-string\">\"zero-timeout-message\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">n</span>)</span>{n.source==e&amp;&amp;n.data==t&amp;&amp;(n.stopPropagation&amp;&amp;n.stopPropagation(),r.length&amp;&amp;r.shift()())}<span class=\"code-keyword\">return</span> e.addEventListener?e.addEventListener(<span class=\"code-string\">\"message\"</span>,n,!<span class=\"code-number\">0</span>):e.attachEvent&amp;&amp;e.attachEvent(<span class=\"code-string\">\"onmessage\"</span>,n),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{r.push(n),e.postMessage(t,<span class=\"code-string\">\"*\"</span>)}}(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">blobToArrayBuffer</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> FileReader;t.onload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r(e.target.result)},t.readAsArrayBuffer(e)},<span class=\"code-attr\">blobToBinaryString</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> FileReader;t.onload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r(e.target.result)},t.readAsBinaryString(e)},<span class=\"code-attr\">binaryStringToArrayBuffer</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.length),t=<span class=\"code-number\">0</span>;t&lt;e.length;t++)r[t]=<span class=\"code-number\">255</span>&amp;e.charCodeAt(t);<span class=\"code-keyword\">return</span> r.buffer},<span class=\"code-attr\">randomToken</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.random().toString(<span class=\"code-number\">36</span>).substr(<span class=\"code-number\">2</span>)}};<span class=\"code-built_in\">module</span>.exports=t;\n","},{<span class=\"code-string\">\"js-binarypack\"</span>:<span class=\"code-string\">\"lHOc\"</span>}],<span class=\"code-string\">\"aYFJ\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">n,i</span>)</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-keyword\">this</span> <span class=\"code-keyword\">instanceof</span> e))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> e(n);<span class=\"code-keyword\">this</span>._dc=n,t.debug=i,<span class=\"code-keyword\">this</span>._outgoing={},<span class=\"code-keyword\">this</span>._incoming={},<span class=\"code-keyword\">this</span>._received={},<span class=\"code-keyword\">this</span>._window=<span class=\"code-number\">1e3</span>,<span class=\"code-keyword\">this</span>._mtu=<span class=\"code-number\">500</span>,<span class=\"code-keyword\">this</span>._interval=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._count=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._queue=[],<span class=\"code-keyword\">this</span>._setupDC()}e.prototype.send=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=t.pack(e);n.size&lt;<span class=\"code-keyword\">this</span>._mtu?<span class=\"code-keyword\">this</span>._handleSend([<span class=\"code-string\">\"no\"</span>,n]):(<span class=\"code-keyword\">this</span>._outgoing[<span class=\"code-keyword\">this</span>._count]={<span class=\"code-attr\">ack</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">chunks</span>:<span class=\"code-keyword\">this</span>._chunk(n)},t.debug&amp;&amp;(<span class=\"code-keyword\">this</span>._outgoing[<span class=\"code-keyword\">this</span>._count].timer=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>),<span class=\"code-keyword\">this</span>._sendWindowedChunks(<span class=\"code-keyword\">this</span>._count),<span class=\"code-keyword\">this</span>._count+=<span class=\"code-number\">1</span>)},e.prototype._setupInterval=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._timeout=setInterval(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t._queue.shift();<span class=\"code-keyword\">if</span>(e._multiple)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>,i=e.length;n&lt;i;n+=<span class=\"code-number\">1</span>)t._intervalSend(e[n]);<span class=\"code-keyword\">else</span> t._intervalSend(e)},<span class=\"code-keyword\">this</span>._interval)},e.prototype._intervalSend=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;e=t.pack(e),t.blobToBinaryString(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{n._dc.send(t)}),<span class=\"code-number\">0</span>===n._queue.length&amp;&amp;(clearTimeout(n._timeout),n._timeout=<span class=\"code-literal\">null</span>)},e.prototype._processAcks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>._outgoing)<span class=\"code-keyword\">this</span>._outgoing.hasOwnProperty(t)&amp;&amp;<span class=\"code-keyword\">this</span>._sendWindowedChunks(t)},e.prototype._handleSend=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=!<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>._queue.length;n&lt;i;n+=<span class=\"code-number\">1</span>){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>._queue[n];o===t?e=!<span class=\"code-number\">1</span>:o._multiple&amp;&amp;<span class=\"code-number\">-1</span>!==o.indexOf(t)&amp;&amp;(e=!<span class=\"code-number\">1</span>)}e&amp;&amp;(<span class=\"code-keyword\">this</span>._queue.push(t),<span class=\"code-keyword\">this</span>._timeout||<span class=\"code-keyword\">this</span>._setupInterval())},e.prototype._setupDC=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._dc.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> i=n.data;<span class=\"code-keyword\">if</span>(i.constructor===<span class=\"code-built_in\">String</span>){<span class=\"code-keyword\">var</span> o=t.binaryStringToArrayBuffer(i);i=t.unpack(o),e._handleMessage(i)}}},e.prototype._handleMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n,i=e[<span class=\"code-number\">1</span>],o=<span class=\"code-keyword\">this</span>._incoming[i],s=<span class=\"code-keyword\">this</span>._outgoing[i];<span class=\"code-keyword\">switch</span>(e[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"no\"</span>:<span class=\"code-keyword\">var</span> a=i;a&amp;&amp;<span class=\"code-keyword\">this</span>.onmessage(t.unpack(a));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"end\"</span>:<span class=\"code-keyword\">if</span>(n=o,<span class=\"code-keyword\">this</span>._received[i]=e[<span class=\"code-number\">2</span>],!n)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">this</span>._ack(i);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ack\"</span>:<span class=\"code-keyword\">if</span>(n=s){<span class=\"code-keyword\">var</span> h=e[<span class=\"code-number\">2</span>];n.ack=<span class=\"code-built_in\">Math</span>.max(h,n.ack),n.ack&gt;=n.chunks.length?(t.log(<span class=\"code-string\">\"Time: \"</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>-n.timer),<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._outgoing[i]):<span class=\"code-keyword\">this</span>._processAcks()}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"chunk\"</span>:<span class=\"code-keyword\">if</span>(!(n=o)){<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._received[i])<span class=\"code-keyword\">break</span>;n={<span class=\"code-attr\">ack</span>:[<span class=\"code-string\">\"ack\"</span>,i,<span class=\"code-number\">0</span>],<span class=\"code-attr\">chunks</span>:[]},<span class=\"code-keyword\">this</span>._incoming[i]=n}<span class=\"code-keyword\">var</span> r=e[<span class=\"code-number\">2</span>],u=e[<span class=\"code-number\">3</span>];n.chunks[r]=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(u),r===n.ack[<span class=\"code-number\">2</span>]&amp;&amp;<span class=\"code-keyword\">this</span>._calculateNextAck(i),<span class=\"code-keyword\">this</span>._ack(i);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">this</span>._handleSend(e)}},e.prototype._chunk=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],i=e.size,o=<span class=\"code-number\">0</span>;o&lt;i;){<span class=\"code-keyword\">var</span> s=<span class=\"code-built_in\">Math</span>.min(i,o+<span class=\"code-keyword\">this</span>._mtu),a={<span class=\"code-attr\">payload</span>:e.slice(o,s)};n.push(a),o=s}<span class=\"code-keyword\">return</span> t.log(<span class=\"code-string\">\"Created\"</span>,n.length,<span class=\"code-string\">\"chunks.\"</span>),n},e.prototype._ack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._incoming[t].ack;<span class=\"code-keyword\">this</span>._received[t]===e[<span class=\"code-number\">2</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>._complete(t),<span class=\"code-keyword\">this</span>._received[t]=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._handleSend(e)},e.prototype._calculateNextAck=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._incoming[t],n=e.chunks,i=<span class=\"code-number\">0</span>,o=n.length;i&lt;o;i+=<span class=\"code-number\">1</span>)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n[i])<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span>(e.ack[<span class=\"code-number\">2</span>]=i);e.ack[<span class=\"code-number\">2</span>]=n.length},e.prototype._sendWindowedChunks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.log(<span class=\"code-string\">\"sendWindowedChunks for: \"</span>,e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._outgoing[e],i=n.chunks,o=[],s=<span class=\"code-built_in\">Math</span>.min(n.ack+<span class=\"code-keyword\">this</span>._window,i.length),a=n.ack;a&lt;s;a+=<span class=\"code-number\">1</span>)i[a].sent&amp;&amp;a!==n.ack||(i[a].sent=!<span class=\"code-number\">0</span>,o.push([<span class=\"code-string\">\"chunk\"</span>,e,a,i[a].payload]));n.ack+<span class=\"code-keyword\">this</span>._window&gt;=i.length&amp;&amp;o.push([<span class=\"code-string\">\"end\"</span>,e,i.length]),o._multiple=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._handleSend(o)},e.prototype._complete=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.log(<span class=\"code-string\">\"Completed called for\"</span>,e);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,i=<span class=\"code-keyword\">this</span>._incoming[e].chunks,o=<span class=\"code-keyword\">new</span> Blob(i);t.blobToArrayBuffer(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.onmessage(t.unpack(e))}),<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._incoming[e]},e.higherBandwidthSDP=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=navigator.appVersion.match(<span class=\"code-regexp\">/Chrome\\/(.*?) /</span>);<span class=\"code-keyword\">if</span>(e&amp;&amp;(e=<span class=\"code-built_in\">parseInt</span>(e[<span class=\"code-number\">1</span>].split(<span class=\"code-string\">\".\"</span>).shift()))&lt;<span class=\"code-number\">31</span>){<span class=\"code-keyword\">var</span> n=t.split(<span class=\"code-string\">\"b=AS:30\"</span>);<span class=\"code-keyword\">if</span>(n.length&gt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> n[<span class=\"code-number\">0</span>]+<span class=\"code-string\">\"b=AS:102400\"</span>+n[<span class=\"code-number\">1</span>]}<span class=\"code-keyword\">return</span> t},e.prototype.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{},<span class=\"code-built_in\">module</span>.exports=e;\n","},{<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"T9kO\"</span>}],<span class=\"code-string\">\"HCdX\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-built_in\">Object</span>.assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,t=<span class=\"code-number\">1</span>,o=<span class=\"code-built_in\">arguments</span>.length;t&lt;o;t++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> n=<span class=\"code-built_in\">arguments</span>[t])<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(n,i)&amp;&amp;(e[i]=n[i]);<span class=\"code-keyword\">return</span> e}).apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},n=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__awaiter||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n,t,o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span>(t||(t=<span class=\"code-built_in\">Promise</span>))(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{s(o.next(e))}<span class=\"code-keyword\">catch</span>(n){r(n)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{s(o.throw(e))}<span class=\"code-keyword\">catch</span>(n){r(n)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e</span>)</span>{e.done?i(e.value):<span class=\"code-keyword\">new</span> t(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{n(e.value)}).then(c,a)}s((o=o.apply(e,n||[])).next())})},t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__generator||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> t,o,i,r,c={<span class=\"code-attr\">label</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">sent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&amp;i[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">throw</span> i[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span> i[<span class=\"code-number\">1</span>]},<span class=\"code-attr\">trys</span>:[],<span class=\"code-attr\">ops</span>:[]};<span class=\"code-keyword\">return</span> r={<span class=\"code-attr\">next</span>:a(<span class=\"code-number\">0</span>),<span class=\"code-attr\">throw</span>:a(<span class=\"code-number\">1</span>),<span class=\"code-attr\">return</span>:a(<span class=\"code-number\">2</span>)},<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;(r[<span class=\"code-built_in\">Symbol</span>.iterator]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}),r;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Generator is already executing.\"</span>);<span class=\"code-keyword\">for</span>(;c;)<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">if</span>(t=<span class=\"code-number\">1</span>,o&amp;&amp;(i=<span class=\"code-number\">2</span>&amp;r[<span class=\"code-number\">0</span>]?o.return:r[<span class=\"code-number\">0</span>]?o.throw||((i=o.return)&amp;&amp;i.call(o),<span class=\"code-number\">0</span>):o.next)&amp;&amp;!(i=i.call(o,r[<span class=\"code-number\">1</span>])).done)<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">switch</span>(o=<span class=\"code-number\">0</span>,i&amp;&amp;(r=[<span class=\"code-number\">2</span>&amp;r[<span class=\"code-number\">0</span>],i.value]),r[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:i=r;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span> c.label++,{<span class=\"code-attr\">value</span>:r[<span class=\"code-number\">1</span>],<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>};<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:c.label++,o=r[<span class=\"code-number\">1</span>],r=[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:r=c.ops.pop(),c.trys.pop();<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(!(i=(i=c.trys).length&gt;<span class=\"code-number\">0</span>&amp;&amp;i[i.length<span class=\"code-number\">-1</span>])&amp;&amp;(<span class=\"code-number\">6</span>===r[<span class=\"code-number\">0</span>]||<span class=\"code-number\">2</span>===r[<span class=\"code-number\">0</span>])){c=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===r[<span class=\"code-number\">0</span>]&amp;&amp;(!i||r[<span class=\"code-number\">1</span>]&gt;i[<span class=\"code-number\">0</span>]&amp;&amp;r[<span class=\"code-number\">1</span>]&lt;i[<span class=\"code-number\">3</span>])){c.label=r[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">6</span>===r[<span class=\"code-number\">0</span>]&amp;&amp;c.label&lt;i[<span class=\"code-number\">1</span>]){c.label=i[<span class=\"code-number\">1</span>],i=r;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(i&amp;&amp;c.label&lt;i[<span class=\"code-number\">2</span>]){c.label=i[<span class=\"code-number\">2</span>],c.ops.push(r);<span class=\"code-keyword\">break</span>}i[<span class=\"code-number\">2</span>]&amp;&amp;c.ops.pop(),c.trys.pop();<span class=\"code-keyword\">continue</span>}r=n.call(e,c)}<span class=\"code-keyword\">catch</span>(a){r=[<span class=\"code-number\">6</span>,a],o=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">finally</span>{t=i=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">5</span>&amp;r[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">throw</span> r[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:r[<span class=\"code-number\">0</span>]?r[<span class=\"code-number\">1</span>]:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>}}([r,a])}}},o=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importStar||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.__esModule)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> n={};<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> e)<span class=\"code-built_in\">Object</span>.hasOwnProperty.call(e,t)&amp;&amp;(n[t]=e[t]);<span class=\"code-keyword\">return</span> n.default=e,n},i=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importDefault||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.__esModule?e:{<span class=\"code-attr\">default</span>:e}};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> r=o(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"reliable\"</span>)),c=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),a=i(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),s=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./adapter\"</span>),l=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./enums\"</span>),d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.connection=e}<span class=\"code-keyword\">return</span> o.prototype.startConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>._startPeerConnection();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.connection.peerConnection=n,<span class=\"code-keyword\">this</span>.connection.type===l.ConnectionType.Media&amp;&amp;e._stream&amp;&amp;<span class=\"code-keyword\">this</span>._addTracksToConnection(e._stream,n),e.originator){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.connection.type===l.ConnectionType.Data){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.connection,o={};c.util.supports.sctp||(o={<span class=\"code-attr\">reliable</span>:e.reliable});<span class=\"code-keyword\">var</span> i=n.createDataChannel(t.label,o);t.initialize(i)}<span class=\"code-keyword\">this</span>._makeOffer()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.handleSDP(<span class=\"code-string\">\"OFFER\"</span>,e.sdp)},o.prototype._startPeerConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.default.log(<span class=\"code-string\">\"Creating RTCPeerConnection.\"</span>);<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">this</span>.connection.type!==l.ConnectionType.Data||c.util.supports.sctp?<span class=\"code-keyword\">this</span>.connection.type===l.ConnectionType.Media&amp;&amp;(e={<span class=\"code-attr\">optional</span>:[{<span class=\"code-attr\">DtlsSrtpKeyAgreement</span>:!<span class=\"code-number\">0</span>}]}):e={<span class=\"code-attr\">optional</span>:[{<span class=\"code-attr\">RtpDataChannels</span>:!<span class=\"code-number\">0</span>}]};<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> s.RTCPeerConnection(<span class=\"code-keyword\">this</span>.connection.provider.options.config,e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._setupListeners(n),n},o.prototype._setupListeners=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.connection.peer,o=<span class=\"code-keyword\">this</span>.connection.connectionId,i=<span class=\"code-keyword\">this</span>.connection.type,r=<span class=\"code-keyword\">this</span>.connection.provider;a.default.log(<span class=\"code-string\">\"Listening for ICE candidates.\"</span>),e.onicecandidate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.candidate&amp;&amp;(a.default.log(<span class=\"code-string\">\"Received ICE candidates for:\"</span>,t),r.socket.send({<span class=\"code-attr\">type</span>:l.ServerMessageType.Candidate,<span class=\"code-attr\">payload</span>:{<span class=\"code-attr\">candidate</span>:e.candidate,<span class=\"code-attr\">type</span>:i,<span class=\"code-attr\">connectionId</span>:o},<span class=\"code-attr\">dst</span>:t}))},e.oniceconnectionstatechange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">switch</span>(e.iceConnectionState){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"failed\"</span>:a.default.log(<span class=\"code-string\">\"iceConnectionState is failed, closing connections to \"</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Negotiation of connection to \"</span>+t+<span class=\"code-string\">\" failed.\"</span>)),n.connection.close();<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"closed\"</span>:a.default.log(<span class=\"code-string\">\"iceConnectionState is closed, closing connections to \"</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Connection to \"</span>+t+<span class=\"code-string\">\" closed.\"</span>)),n.connection.close();<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"disconnected\"</span>:a.default.log(<span class=\"code-string\">\"iceConnectionState is disconnected, closing connections to \"</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Connection to \"</span>+t+<span class=\"code-string\">\" disconnected.\"</span>)),n.connection.close();<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"completed\"</span>:e.onicecandidate=c.util.noop}n.connection.emit(l.ConnectionEventType.IceStateChanged,e.iceConnectionState)},a.default.log(<span class=\"code-string\">\"Listening for data channel\"</span>),e.ondatachannel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.default.log(<span class=\"code-string\">\"Received data channel\"</span>);<span class=\"code-keyword\">var</span> n=e.channel;r.getConnection(t,o).initialize(n)},a.default.log(<span class=\"code-string\">\"Listening for remote stream\"</span>),e.ontrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.default.log(<span class=\"code-string\">\"Received remote stream\"</span>);<span class=\"code-keyword\">var</span> i=e.streams[<span class=\"code-number\">0</span>],c=r.getConnection(t,o);<span class=\"code-keyword\">if</span>(c.type===l.ConnectionType.Media){<span class=\"code-keyword\">var</span> s=c;n._addStreamToMediaConnection(i,s)}}},o.prototype.cleanup=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.default.log(<span class=\"code-string\">\"Cleaning up PeerConnection to \"</span>+<span class=\"code-keyword\">this</span>.connection.peer);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.connection.peerConnection;<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">this</span>.connection.peerConnection=<span class=\"code-literal\">null</span>,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{};<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"closed\"</span>!==e.signalingState,t=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.connection.type===l.ConnectionType.Data){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.connection.dataChannel;o&amp;&amp;(t=!!o.readyState&amp;&amp;<span class=\"code-string\">\"closed\"</span>!==o.readyState)}(n||t)&amp;&amp;e.close()}},o.prototype._makeOffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,o,i,s,d,p,u;<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:n=<span class=\"code-keyword\">this</span>.connection.peerConnection,o=<span class=\"code-keyword\">this</span>.connection.provider,t.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">7</span>,,<span class=\"code-number\">8</span>]),[<span class=\"code-number\">4</span>,n.createOffer(<span class=\"code-keyword\">this</span>.connection.options.constraints)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:i=t.sent(),a.default.log(<span class=\"code-string\">\"Created offer.\"</span>),c.util.supports.sctp||<span class=\"code-keyword\">this</span>.connection.type!==l.ConnectionType.Data||(d=<span class=\"code-keyword\">this</span>.connection).reliable&amp;&amp;(i.sdp=r.higherBandwidthSDP(i.sdp)),<span class=\"code-keyword\">this</span>.connection.options.sdpTransform&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.connection.options.sdpTransform&amp;&amp;(i.sdp=<span class=\"code-keyword\">this</span>.connection.options.sdpTransform(i.sdp)||i.sdp),t.label=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">3</span>,<span class=\"code-number\">5</span>,,<span class=\"code-number\">6</span>]),[<span class=\"code-number\">4</span>,n.setLocalDescription(i)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span> t.sent(),a.default.log(<span class=\"code-string\">\"Set localDescription:\"</span>,i,<span class=\"code-string\">\"for:\"</span>+<span class=\"code-keyword\">this</span>.connection.peer),s={<span class=\"code-attr\">sdp</span>:i,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.connection.type,<span class=\"code-attr\">connectionId</span>:<span class=\"code-keyword\">this</span>.connection.connectionId,<span class=\"code-attr\">metadata</span>:<span class=\"code-keyword\">this</span>.connection.metadata,<span class=\"code-attr\">browser</span>:c.util.browser},<span class=\"code-keyword\">this</span>.connection.type===l.ConnectionType.Data&amp;&amp;(d=<span class=\"code-keyword\">this</span>.connection,s=e({},s,{<span class=\"code-attr\">label</span>:d.label,<span class=\"code-attr\">reliable</span>:d.reliable,<span class=\"code-attr\">serialization</span>:d.serialization})),o.socket.send({<span class=\"code-attr\">type</span>:l.ServerMessageType.Offer,<span class=\"code-attr\">payload</span>:s,<span class=\"code-attr\">dst</span>:<span class=\"code-keyword\">this</span>.connection.peer}),[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer\"</span>!=(p=t.sent())&amp;&amp;(o.emitError(l.PeerErrorType.WebRTC,p),a.default.log(<span class=\"code-string\">\"Failed to setLocalDescription, \"</span>,p)),[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">3</span>,<span class=\"code-number\">8</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:<span class=\"code-keyword\">return</span> u=t.sent(),o.emitError(l.PeerErrorType.WebRTC,u),a.default.log(<span class=\"code-string\">\"Failed to createOffer, \"</span>,u),[<span class=\"code-number\">3</span>,<span class=\"code-number\">8</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">8</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},o.prototype._makeAnswer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,n,o,i,s;<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:e=<span class=\"code-keyword\">this</span>.connection.peerConnection,n=<span class=\"code-keyword\">this</span>.connection.provider,t.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">7</span>,,<span class=\"code-number\">8</span>]),[<span class=\"code-number\">4</span>,e.createAnswer()];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:o=t.sent(),a.default.log(<span class=\"code-string\">\"Created answer.\"</span>),c.util.supports.sctp||<span class=\"code-keyword\">this</span>.connection.type!==l.ConnectionType.Data||<span class=\"code-keyword\">this</span>.connection.reliable&amp;&amp;(o.sdp=r.higherBandwidthSDP(o.sdp)),<span class=\"code-keyword\">this</span>.connection.options.sdpTransform&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.connection.options.sdpTransform&amp;&amp;(o.sdp=<span class=\"code-keyword\">this</span>.connection.options.sdpTransform(o.sdp)||o.sdp),t.label=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">3</span>,<span class=\"code-number\">5</span>,,<span class=\"code-number\">6</span>]),[<span class=\"code-number\">4</span>,e.setLocalDescription(o)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span> t.sent(),a.default.log(<span class=\"code-string\">\"Set localDescription:\"</span>,o,<span class=\"code-string\">\"for:\"</span>+<span class=\"code-keyword\">this</span>.connection.peer),n.socket.send({<span class=\"code-attr\">type</span>:l.ServerMessageType.Answer,<span class=\"code-attr\">payload</span>:{<span class=\"code-attr\">sdp</span>:o,<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.connection.type,<span class=\"code-attr\">connectionId</span>:<span class=\"code-keyword\">this</span>.connection.connectionId,<span class=\"code-attr\">browser</span>:c.util.browser},<span class=\"code-attr\">dst</span>:<span class=\"code-keyword\">this</span>.connection.peer}),[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:<span class=\"code-keyword\">return</span> i=t.sent(),n.emitError(l.PeerErrorType.WebRTC,i),a.default.log(<span class=\"code-string\">\"Failed to setLocalDescription, \"</span>,i),[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">3</span>,<span class=\"code-number\">8</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:<span class=\"code-keyword\">return</span> s=t.sent(),n.emitError(l.PeerErrorType.WebRTC,s),a.default.log(<span class=\"code-string\">\"Failed to create answer, \"</span>,s),[<span class=\"code-number\">3</span>,<span class=\"code-number\">8</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">8</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},o.prototype.handleSDP=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,o</span>)</span>{<span class=\"code-keyword\">return</span> n(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,i,r,c;<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:o=<span class=\"code-keyword\">new</span> s.RTCSessionDescription(o),n=<span class=\"code-keyword\">this</span>.connection.peerConnection,i=<span class=\"code-keyword\">this</span>.connection.provider,a.default.log(<span class=\"code-string\">\"Setting remote description\"</span>,o),r=<span class=\"code-keyword\">this</span>,t.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">5</span>,,<span class=\"code-number\">6</span>]),[<span class=\"code-number\">4</span>,n.setRemoteDescription(o)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">return</span> t.sent(),a.default.log(<span class=\"code-string\">\"Set remoteDescription:\"</span>+e+<span class=\"code-string\">\" for:\"</span>+<span class=\"code-keyword\">this</span>.connection.peer),<span class=\"code-string\">\"OFFER\"</span>!==e?[<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>]:[<span class=\"code-number\">4</span>,r._makeAnswer()];<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:t.sent(),t.label=<span class=\"code-number\">4</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:<span class=\"code-keyword\">return</span> c=t.sent(),i.emitError(l.PeerErrorType.WebRTC,c),a.default.log(<span class=\"code-string\">\"Failed to setRemoteDescription, \"</span>,c),[<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},o.prototype.handleCandidate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,o,i,r,c,d;<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:n=e.candidate,o=e.sdpMLineIndex,i=e.sdpMid,r=<span class=\"code-keyword\">this</span>.connection.peerConnection,c=<span class=\"code-keyword\">this</span>.connection.provider,t.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> t.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">3</span>,,<span class=\"code-number\">4</span>]),[<span class=\"code-number\">4</span>,r.addIceCandidate(<span class=\"code-keyword\">new</span> s.RTCIceCandidate({<span class=\"code-attr\">sdpMid</span>:i,<span class=\"code-attr\">sdpMLineIndex</span>:o,<span class=\"code-attr\">candidate</span>:n}))];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">return</span> t.sent(),a.default.log(<span class=\"code-string\">\"Added ICE candidate for:\"</span>+<span class=\"code-keyword\">this</span>.connection.peer),[<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">return</span> d=t.sent(),c.emitError(l.PeerErrorType.WebRTC,d),a.default.log(<span class=\"code-string\">\"Failed to handleCandidate, \"</span>,d),[<span class=\"code-number\">3</span>,<span class=\"code-number\">4</span>];<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},o.prototype._addTracksToConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">if</span>(a.default.log(<span class=\"code-string\">\"add tracks from stream \"</span>+e.id+<span class=\"code-string\">\" to peer connection\"</span>),!n.addTrack)<span class=\"code-keyword\">return</span> a.default.error(<span class=\"code-string\">\"Your browser does't support RTCPeerConnection#addTrack. Ignored.\"</span>);e.getTracks().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{n.addTrack(t,e)})},o.prototype._addStreamToMediaConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{a.default.log(<span class=\"code-string\">\"add stream \"</span>+e.id+<span class=\"code-string\">\" to media connection \"</span>+n.connectionId),n.addStream(e)},o}();exports.Negotiator=d;\n","},{<span class=\"code-string\">\"reliable\"</span>:<span class=\"code-string\">\"aYFJ\"</span>,<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>,<span class=\"code-string\">\"./adapter\"</span>:<span class=\"code-string\">\"sXtV\"</span>,<span class=\"code-string\">\"./enums\"</span>:<span class=\"code-string\">\"9ZRY\"</span>}],<span class=\"code-string\">\"tQFK\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__extends||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{t.__proto__=e}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r <span class=\"code-keyword\">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(e,r)};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=e}t(e,r),e.prototype=<span class=\"code-literal\">null</span>===r?<span class=\"code-built_in\">Object</span>.create(r):(n.prototype=r.prototype,<span class=\"code-keyword\">new</span> n)}}();<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"eventemitter3\"</span>),r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t,r,n</span>)</span>{<span class=\"code-keyword\">var</span> o=e.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> o.peer=t,o.provider=r,o.options=n,o._open=!<span class=\"code-number\">1</span>,o.metadata=n.metadata,o}<span class=\"code-keyword\">return</span> t(r,e),<span class=\"code-built_in\">Object</span>.defineProperty(r.prototype,<span class=\"code-string\">\"open\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._open},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),r}(e.EventEmitter);exports.BaseConnection=r;\n","},{<span class=\"code-string\">\"eventemitter3\"</span>:<span class=\"code-string\">\"2JJl\"</span>}],<span class=\"code-string\">\"dbHP\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__extends||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,o</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.__proto__=t}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> t)t.hasOwnProperty(o)&amp;&amp;(e[o]=t[o])})(t,o)};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,o</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}e(t,o),t.prototype=<span class=\"code-literal\">null</span>===o?<span class=\"code-built_in\">Object</span>.create(o):(r.prototype=o.prototype,<span class=\"code-keyword\">new</span> r)}}(),t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-built_in\">Object</span>.assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,o=<span class=\"code-number\">1</span>,r=<span class=\"code-built_in\">arguments</span>.length;o&lt;r;o++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t=<span class=\"code-built_in\">arguments</span>[o])<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(t,n)&amp;&amp;(e[n]=t[n]);<span class=\"code-keyword\">return</span> e}).apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},o=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__values||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator],o=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> t?t.call(e):{<span class=\"code-attr\">next</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;o&gt;=e.length&amp;&amp;(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>),{<span class=\"code-attr\">value</span>:e&amp;&amp;e[o++],<span class=\"code-attr\">done</span>:!e}}}},r=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importDefault||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.__esModule?e:{<span class=\"code-attr\">default</span>:e}};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),i=r(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),a=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./negotiator\"</span>),s=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./enums\"</span>),l=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./baseconnection\"</span>),c=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">e,t,o</span>)</span>{<span class=\"code-keyword\">var</span> i=r.call(<span class=\"code-keyword\">this</span>,e,t,o)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i._localStream=i.options._stream,i.connectionId=i.options.connectionId||l.ID_PREFIX+n.util.randomToken(),i._negotiator=<span class=\"code-keyword\">new</span> a.Negotiator(i),i._localStream&amp;&amp;i._negotiator.startConnection({<span class=\"code-attr\">_stream</span>:i._localStream,<span class=\"code-attr\">originator</span>:!<span class=\"code-number\">0</span>}),i}<span class=\"code-keyword\">return</span> e(l,r),<span class=\"code-built_in\">Object</span>.defineProperty(l.prototype,<span class=\"code-string\">\"type\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> s.ConnectionType.Media},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(l.prototype,<span class=\"code-string\">\"localStream\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._localStream},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(l.prototype,<span class=\"code-string\">\"remoteStream\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._remoteStream},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),l.prototype.addStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.default.log(<span class=\"code-string\">\"Receiving stream\"</span>,e),<span class=\"code-keyword\">this</span>._remoteStream=e,r.prototype.emit.call(<span class=\"code-keyword\">this</span>,s.ConnectionEventType.Stream,e)},l.prototype.handleMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type,o=e.payload;<span class=\"code-keyword\">switch</span>(e.type){<span class=\"code-keyword\">case</span> s.ServerMessageType.Answer:<span class=\"code-keyword\">this</span>._negotiator.handleSDP(t,o.sdp),<span class=\"code-keyword\">this</span>._open=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> s.ServerMessageType.Candidate:<span class=\"code-keyword\">this</span>._negotiator.handleCandidate(o.candidate);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:i.default.warn(<span class=\"code-string\">\"Unrecognized message type:\"</span>+t+<span class=\"code-string\">\" from peer:\"</span>+<span class=\"code-keyword\">this</span>.peer)}},l.prototype.answer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">var</span> n,a;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={}),<span class=\"code-keyword\">this</span>._localStream)i.default.warn(<span class=\"code-string\">\"Local stream already exists on this MediaConnection. Are you answering a call twice?\"</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">this</span>._localStream=e,r&amp;&amp;r.sdpTransform&amp;&amp;(<span class=\"code-keyword\">this</span>.options.sdpTransform=r.sdpTransform),<span class=\"code-keyword\">this</span>._negotiator.startConnection(t({},<span class=\"code-keyword\">this</span>.options._payload,{<span class=\"code-attr\">_stream</span>:e}));<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.provider._getMessages(<span class=\"code-keyword\">this</span>.connectionId);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=o(s),c=l.next();!c.done;c=l.next()){<span class=\"code-keyword\">var</span> p=c.value;<span class=\"code-keyword\">this</span>.handleMessage(p)}}<span class=\"code-keyword\">catch</span>(u){n={<span class=\"code-attr\">error</span>:u}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{c&amp;&amp;!c.done&amp;&amp;(a=l.return)&amp;&amp;a.call(l)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">throw</span> n.error}}<span class=\"code-keyword\">this</span>._open=!<span class=\"code-number\">0</span>}},l.prototype.close=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._negotiator&amp;&amp;(<span class=\"code-keyword\">this</span>._negotiator.cleanup(),<span class=\"code-keyword\">this</span>._negotiator=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>._localStream=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._remoteStream=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.provider&amp;&amp;(<span class=\"code-keyword\">this</span>.provider._removeConnection(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.provider=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.options&amp;&amp;<span class=\"code-keyword\">this</span>.options._stream&amp;&amp;(<span class=\"code-keyword\">this</span>.options._stream=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.open&amp;&amp;(<span class=\"code-keyword\">this</span>._open=!<span class=\"code-number\">1</span>,r.prototype.emit.call(<span class=\"code-keyword\">this</span>,s.ConnectionEventType.Close))},l.ID_PREFIX=<span class=\"code-string\">\"mc_\"</span>,l}(l.BaseConnection);exports.MediaConnection=c;\n","},{<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>,<span class=\"code-string\">\"./negotiator\"</span>:<span class=\"code-string\">\"HCdX\"</span>,<span class=\"code-string\">\"./enums\"</span>:<span class=\"code-string\">\"9ZRY\"</span>,<span class=\"code-string\">\"./baseconnection\"</span>:<span class=\"code-string\">\"tQFK\"</span>}],<span class=\"code-string\">\"GBTQ\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__extends||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.__proto__=t}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t)t.hasOwnProperty(n)&amp;&amp;(e[n]=t[n])})(t,n)};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}e(t,n),t.prototype=<span class=\"code-literal\">null</span>===n?<span class=\"code-built_in\">Object</span>.create(n):(i.prototype=n.prototype,<span class=\"code-keyword\">new</span> i)}}(),t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__values||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator],n=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> t?t.call(e):{<span class=\"code-attr\">next</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;n&gt;=e.length&amp;&amp;(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>),{<span class=\"code-attr\">value</span>:e&amp;&amp;e[n++],<span class=\"code-attr\">done</span>:!e}}}},n=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importStar||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.__esModule)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> t={};<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e)<span class=\"code-built_in\">Object</span>.hasOwnProperty.call(e,n)&amp;&amp;(t[n]=e[n]);<span class=\"code-keyword\">return</span> t.default=e,t};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"reliable\"</span>),r=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),o=n(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),a=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./negotiator\"</span>),s=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./enums\"</span>),u=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./baseconnection\"</span>),l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> o=n.call(<span class=\"code-keyword\">this</span>,e,t,i)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> o._buffer=[],o._bufferSize=<span class=\"code-number\">0</span>,o._buffering=!<span class=\"code-number\">1</span>,o._chunkedData={},o.connectionId=o.options.connectionId||u.ID_PREFIX+r.util.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||s.SerializationType.Binary,o.reliable=o.options.reliable,o.options._payload&amp;&amp;(o._peerBrowser=o.options._payload.browser),o._negotiator=<span class=\"code-keyword\">new</span> a.Negotiator(o),o._negotiator.startConnection(o.options._payload||{<span class=\"code-attr\">originator</span>:!<span class=\"code-number\">0</span>}),o}<span class=\"code-keyword\">return</span> e(u,n),<span class=\"code-built_in\">Object</span>.defineProperty(u.prototype,<span class=\"code-string\">\"type\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> s.ConnectionType.Data},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(u.prototype,<span class=\"code-string\">\"dataChannel\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._dc},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(u.prototype,<span class=\"code-string\">\"bufferSize\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._bufferSize},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),u.prototype.initialize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>._dc=e,<span class=\"code-keyword\">this</span>._configureDataChannel()},u.prototype._configureDataChannel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(r.util.supports.sctp&amp;&amp;(<span class=\"code-keyword\">this</span>.dataChannel.binaryType=<span class=\"code-string\">\"arraybuffer\"</span>),<span class=\"code-keyword\">this</span>.dataChannel.onopen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{o.default.log(<span class=\"code-string\">\"Data channel connection success\"</span>),e._open=!<span class=\"code-number\">0</span>,e.emit(s.ConnectionEventType.Open)},!r.util.supports.sctp&amp;&amp;<span class=\"code-keyword\">this</span>.reliable){<span class=\"code-keyword\">var</span> t=o.default.logLevel&gt;o.LogLevel.Disabled;<span class=\"code-keyword\">this</span>._reliable=<span class=\"code-keyword\">new</span> i.Reliable(<span class=\"code-keyword\">this</span>.dataChannel,t)}<span class=\"code-keyword\">this</span>._reliable?<span class=\"code-keyword\">this</span>._reliable.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e.emit(s.ConnectionEventType.Data,t)}:<span class=\"code-keyword\">this</span>.dataChannel.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e._handleDataMessage(t)},<span class=\"code-keyword\">this</span>.dataChannel.onclose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{o.default.log(<span class=\"code-string\">\"DataChannel closed for:\"</span>,e.peer),e.close()}},u.prototype._handleDataMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,i=e.data,o=i.constructor,a=i;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.serialization===s.SerializationType.Binary||<span class=\"code-keyword\">this</span>.serialization===s.SerializationType.BinaryUTF8){<span class=\"code-keyword\">if</span>(o===Blob)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> r.util.blobToArrayBuffer(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=r.util.unpack(e);t.emit(s.ConnectionEventType.Data,n)});<span class=\"code-keyword\">if</span>(o===<span class=\"code-built_in\">ArrayBuffer</span>)a=r.util.unpack(i);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(o===<span class=\"code-built_in\">String</span>){<span class=\"code-keyword\">var</span> u=r.util.binaryStringToArrayBuffer(i);a=r.util.unpack(u)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.serialization===s.SerializationType.JSON&amp;&amp;(a=<span class=\"code-built_in\">JSON</span>.parse(i));a.__peerData?<span class=\"code-keyword\">this</span>._handleChunk(a):n.prototype.emit.call(<span class=\"code-keyword\">this</span>,s.ConnectionEventType.Data,a)},u.prototype._handleChunk=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.__peerData,n=<span class=\"code-keyword\">this</span>._chunkedData[t]||{<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">count</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">total</span>:e.total};<span class=\"code-keyword\">if</span>(n.data[e.n]=e.data,n.count++,<span class=\"code-keyword\">this</span>._chunkedData[t]=n,n.total===n.count){<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>._chunkedData[t];<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Blob(n.data);<span class=\"code-keyword\">this</span>._handleDataMessage({<span class=\"code-attr\">data</span>:i})}},u.prototype.close=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._buffer=[],<span class=\"code-keyword\">this</span>._bufferSize=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._chunkedData={},<span class=\"code-keyword\">this</span>._negotiator&amp;&amp;(<span class=\"code-keyword\">this</span>._negotiator.cleanup(),<span class=\"code-keyword\">this</span>._negotiator=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.provider&amp;&amp;(<span class=\"code-keyword\">this</span>.provider._removeConnection(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.provider=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.open&amp;&amp;(<span class=\"code-keyword\">this</span>._open=!<span class=\"code-number\">1</span>,n.prototype.emit.call(<span class=\"code-keyword\">this</span>,s.ConnectionEventType.Close))},u.prototype.send=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.open)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._reliable)<span class=\"code-keyword\">this</span>._reliable.send(e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.serialization===s.SerializationType.JSON)<span class=\"code-keyword\">this</span>._bufferedSend(<span class=\"code-built_in\">JSON</span>.stringify(e));<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.serialization===s.SerializationType.Binary||<span class=\"code-keyword\">this</span>.serialization===s.SerializationType.BinaryUTF8){<span class=\"code-keyword\">var</span> o=r.util.pack(e);<span class=\"code-keyword\">if</span>((r.util.chunkedBrowsers[<span class=\"code-keyword\">this</span>._peerBrowser]||r.util.chunkedBrowsers[r.util.browser])&amp;&amp;!t&amp;&amp;o.size&gt;r.util.chunkedMTU)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>._sendChunks(o);r.util.supports.sctp?r.util.supports.binaryBlob?<span class=\"code-keyword\">this</span>._bufferedSend(o):r.util.blobToArrayBuffer(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i._bufferedSend(e)}):r.util.blobToBinaryString(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i._bufferedSend(e)})}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._bufferedSend(e);<span class=\"code-keyword\">else</span> n.prototype.emit.call(<span class=\"code-keyword\">this</span>,s.ConnectionEventType.Error,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Connection is not open. You should listen for the `open` event before sending messages.\"</span>))},u.prototype._bufferedSend=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-keyword\">this</span>._buffering&amp;&amp;<span class=\"code-keyword\">this</span>._trySend(e)||(<span class=\"code-keyword\">this</span>._buffer.push(e),<span class=\"code-keyword\">this</span>._bufferSize=<span class=\"code-keyword\">this</span>._buffer.length)},u.prototype._trySend=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.open)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.dataChannel.send(e)}<span class=\"code-keyword\">catch</span>(n){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._buffering=!<span class=\"code-number\">0</span>,setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t._buffering=!<span class=\"code-number\">1</span>,t._tryBuffer()},<span class=\"code-number\">100</span>),!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},u.prototype._tryBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.open&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>._buffer.length){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>._buffer[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">this</span>._trySend(e)&amp;&amp;(<span class=\"code-keyword\">this</span>._buffer.shift(),<span class=\"code-keyword\">this</span>._bufferSize=<span class=\"code-keyword\">this</span>._buffer.length,<span class=\"code-keyword\">this</span>._tryBuffer())}},u.prototype._sendChunks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n,i,o=r.util.chunk(e);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=t(o),s=a.next();!s.done;s=a.next()){<span class=\"code-keyword\">var</span> u=s.value;<span class=\"code-keyword\">this</span>.send(u,!<span class=\"code-number\">0</span>)}}<span class=\"code-keyword\">catch</span>(l){n={<span class=\"code-attr\">error</span>:l}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{s&amp;&amp;!s.done&amp;&amp;(i=a.return)&amp;&amp;i.call(a)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">throw</span> n.error}}},u.prototype.handleMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.payload;<span class=\"code-keyword\">switch</span>(e.type){<span class=\"code-keyword\">case</span> s.ServerMessageType.Answer:<span class=\"code-keyword\">this</span>._peerBrowser=t.browser,<span class=\"code-keyword\">this</span>._negotiator.handleSDP(e.type,t.sdp);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> s.ServerMessageType.Candidate:<span class=\"code-keyword\">this</span>._negotiator.handleCandidate(t.candidate);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:o.default.warn(<span class=\"code-string\">\"Unrecognized message type:\"</span>,e.type,<span class=\"code-string\">\"from peer:\"</span>,<span class=\"code-keyword\">this</span>.peer)}},u.ID_PREFIX=<span class=\"code-string\">\"dc_\"</span>,u}(u.BaseConnection);exports.DataConnection=l;\n","},{<span class=\"code-string\">\"reliable\"</span>:<span class=\"code-string\">\"aYFJ\"</span>,<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>,<span class=\"code-string\">\"./negotiator\"</span>:<span class=\"code-string\">\"HCdX\"</span>,<span class=\"code-string\">\"./enums\"</span>:<span class=\"code-string\">\"9ZRY\"</span>,<span class=\"code-string\">\"./baseconnection\"</span>:<span class=\"code-string\">\"tQFK\"</span>}],<span class=\"code-string\">\"in7L\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__awaiter||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e,r,o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span>(r||(r=<span class=\"code-built_in\">Promise</span>))(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,s</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">try</span>{a(o.next(t))}<span class=\"code-keyword\">catch</span>(e){s(e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">try</span>{a(o.throw(t))}<span class=\"code-keyword\">catch</span>(e){s(e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">t</span>)</span>{t.done?n(t.value):<span class=\"code-keyword\">new</span> r(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e(t.value)}).then(i,u)}a((o=o.apply(t,e||[])).next())})},e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__generator||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> r,o,n,s,i={<span class=\"code-attr\">label</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">sent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&amp;n[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">throw</span> n[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span> n[<span class=\"code-number\">1</span>]},<span class=\"code-attr\">trys</span>:[],<span class=\"code-attr\">ops</span>:[]};<span class=\"code-keyword\">return</span> s={<span class=\"code-attr\">next</span>:u(<span class=\"code-number\">0</span>),<span class=\"code-attr\">throw</span>:u(<span class=\"code-number\">1</span>),<span class=\"code-attr\">return</span>:u(<span class=\"code-number\">2</span>)},<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;(s[<span class=\"code-built_in\">Symbol</span>.iterator]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>}),s;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">u</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Generator is already executing.\"</span>);<span class=\"code-keyword\">for</span>(;i;)<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">if</span>(r=<span class=\"code-number\">1</span>,o&amp;&amp;(n=<span class=\"code-number\">2</span>&amp;s[<span class=\"code-number\">0</span>]?o.return:s[<span class=\"code-number\">0</span>]?o.throw||((n=o.return)&amp;&amp;n.call(o),<span class=\"code-number\">0</span>):o.next)&amp;&amp;!(n=n.call(o,s[<span class=\"code-number\">1</span>])).done)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">switch</span>(o=<span class=\"code-number\">0</span>,n&amp;&amp;(s=[<span class=\"code-number\">2</span>&amp;s[<span class=\"code-number\">0</span>],n.value]),s[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:n=s;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span> i.label++,{<span class=\"code-attr\">value</span>:s[<span class=\"code-number\">1</span>],<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>};<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:i.label++,o=s[<span class=\"code-number\">1</span>],s=[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:s=i.ops.pop(),i.trys.pop();<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(!(n=(n=i.trys).length&gt;<span class=\"code-number\">0</span>&amp;&amp;n[n.length<span class=\"code-number\">-1</span>])&amp;&amp;(<span class=\"code-number\">6</span>===s[<span class=\"code-number\">0</span>]||<span class=\"code-number\">2</span>===s[<span class=\"code-number\">0</span>])){i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===s[<span class=\"code-number\">0</span>]&amp;&amp;(!n||s[<span class=\"code-number\">1</span>]&gt;n[<span class=\"code-number\">0</span>]&amp;&amp;s[<span class=\"code-number\">1</span>]&lt;n[<span class=\"code-number\">3</span>])){i.label=s[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">6</span>===s[<span class=\"code-number\">0</span>]&amp;&amp;i.label&lt;n[<span class=\"code-number\">1</span>]){i.label=n[<span class=\"code-number\">1</span>],n=s;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(n&amp;&amp;i.label&lt;n[<span class=\"code-number\">2</span>]){i.label=n[<span class=\"code-number\">2</span>],i.ops.push(s);<span class=\"code-keyword\">break</span>}n[<span class=\"code-number\">2</span>]&amp;&amp;i.ops.pop(),i.trys.pop();<span class=\"code-keyword\">continue</span>}s=e.call(t,i)}<span class=\"code-keyword\">catch</span>(u){s=[<span class=\"code-number\">6</span>,u],o=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">finally</span>{r=n=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">5</span>&amp;s[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">throw</span> s[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:s[<span class=\"code-number\">0</span>]?s[<span class=\"code-number\">1</span>]:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>}}([s,u])}}},r=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importDefault||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;t.__esModule?t:{<span class=\"code-attr\">default</span>:t}};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> o=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),n=r(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>._options=t}<span class=\"code-keyword\">return</span> r.prototype._buildUrl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=(<span class=\"code-keyword\">this</span>._options.secure?<span class=\"code-string\">\"https://\"</span>:<span class=\"code-string\">\"http://\"</span>)+<span class=\"code-keyword\">this</span>._options.host+<span class=\"code-string\">\":\"</span>+<span class=\"code-keyword\">this</span>._options.port+<span class=\"code-keyword\">this</span>._options.path+<span class=\"code-keyword\">this</span>._options.key+<span class=\"code-string\">\"/\"</span>+t;<span class=\"code-keyword\">return</span> e+=<span class=\"code-string\">\"?ts=\"</span>+(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>).getTime()+<span class=\"code-built_in\">Math</span>.random()},r.prototype.retrieveId=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,r,s,i;<span class=\"code-keyword\">return</span> e(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">switch</span>(e.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:t=<span class=\"code-keyword\">this</span>._buildUrl(<span class=\"code-string\">\"id\"</span>),e.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> e.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">3</span>,,<span class=\"code-number\">4</span>]),[<span class=\"code-number\">4</span>,fetch(t)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">200</span>!==(r=e.sent()).status)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error. Status:\"</span>+r.status);<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>,r.text()];<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">throw</span> s=e.sent(),n.default.error(<span class=\"code-string\">\"Error retrieving ID\"</span>,s),i=<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"/\"</span>===<span class=\"code-keyword\">this</span>._options.path&amp;&amp;<span class=\"code-keyword\">this</span>._options.host!==o.util.CLOUD_HOST&amp;&amp;(i=<span class=\"code-string\">\" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer.\"</span>),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Could not get an ID from the server.\"</span>+i);<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},r.prototype.listAllPeers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Promise</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,r,s,i;<span class=\"code-keyword\">return</span> e(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">switch</span>(e.label){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:t=<span class=\"code-keyword\">this</span>._buildUrl(<span class=\"code-string\">\"peers\"</span>),e.label=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">return</span> e.trys.push([<span class=\"code-number\">1</span>,<span class=\"code-number\">3</span>,,<span class=\"code-number\">4</span>]),[<span class=\"code-number\">4</span>,fetch(t)];<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">200</span>!==(r=e.sent()).status){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">401</span>===r.status)<span class=\"code-keyword\">throw</span> s=<span class=\"code-string\">\"\"</span>,s=<span class=\"code-keyword\">this</span>._options.host===o.util.CLOUD_HOST?<span class=\"code-string\">\"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.\"</span>:<span class=\"code-string\">\"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.\"</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"It doesn't look like you have permission to list peers IDs. \"</span>+s);<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error. Status:\"</span>+r.status)}<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>,r.json()];<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:<span class=\"code-keyword\">throw</span> i=e.sent(),n.default.error(<span class=\"code-string\">\"Error retrieving list peers\"</span>,i),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Could not get list peers from the server.\"</span>+i);<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:<span class=\"code-keyword\">return</span>[<span class=\"code-number\">2</span>]}})})},r}();exports.API=s;\n","},{<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>}],<span class=\"code-string\">\"Hxpd\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__extends||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-built_in\">Object</span>.setPrototypeOf||{<span class=\"code-attr\">__proto__</span>:[]}<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.__proto__=t}||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> t)t.hasOwnProperty(n)&amp;&amp;(e[n]=t[n])})(t,n)};<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.constructor=t}e(t,n),t.prototype=<span class=\"code-literal\">null</span>===n?<span class=\"code-built_in\">Object</span>.create(n):(r.prototype=n.prototype,<span class=\"code-keyword\">new</span> r)}}(),t=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-built_in\">Object</span>.assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,n=<span class=\"code-number\">1</span>,r=<span class=\"code-built_in\">arguments</span>.length;n&lt;r;n++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> t=<span class=\"code-built_in\">arguments</span>[n])<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(t,o)&amp;&amp;(e[o]=t[o]);<span class=\"code-keyword\">return</span> e}).apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},n=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__values||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator],n=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> t?t.call(e):{<span class=\"code-attr\">next</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;n&gt;=e.length&amp;&amp;(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>),{<span class=\"code-attr\">value</span>:e&amp;&amp;e[n++],<span class=\"code-attr\">done</span>:!e}}}},r=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__read||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e[<span class=\"code-built_in\">Symbol</span>.iterator];<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> r,o,i=n.call(e),s=[];<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t||t-- &gt;<span class=\"code-number\">0</span>)&amp;&amp;!(r=i.next()).done;)s.push(r.value)}<span class=\"code-keyword\">catch</span>(c){o={<span class=\"code-attr\">error</span>:c}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{r&amp;&amp;!r.done&amp;&amp;(n=i.return)&amp;&amp;n.call(i)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(o)<span class=\"code-keyword\">throw</span> o.error}}<span class=\"code-keyword\">return</span> s},o=<span class=\"code-keyword\">this</span>&amp;&amp;<span class=\"code-keyword\">this</span>.__importDefault||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.__esModule?e:{<span class=\"code-attr\">default</span>:e}};<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"eventemitter3\"</span>),s=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),c=o(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./logger\"</span>)),a=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./socket\"</span>),l=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./mediaconnection\"</span>),d=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./dataconnection\"</span>),u=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./enums\"</span>),p=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./api\"</span>),h=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}(),f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=o.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> r._destroyed=!<span class=\"code-number\">1</span>,r._disconnected=!<span class=\"code-number\">1</span>,r._open=!<span class=\"code-number\">1</span>,r._connections=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>,r._lostMessages=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>,e&amp;&amp;e.constructor==<span class=\"code-built_in\">Object</span>?(n=e,e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>):e&amp;&amp;(e=e.toString()),n=t({<span class=\"code-attr\">debug</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">host</span>:s.util.CLOUD_HOST,<span class=\"code-attr\">port</span>:s.util.CLOUD_PORT,<span class=\"code-attr\">path</span>:<span class=\"code-string\">\"/\"</span>,<span class=\"code-attr\">key</span>:i.DEFAULT_KEY,<span class=\"code-attr\">token</span>:s.util.randomToken(),<span class=\"code-attr\">config</span>:s.util.defaultConfig},n),r._options=n,<span class=\"code-string\">\"/\"</span>===n.host&amp;&amp;(n.host=<span class=\"code-built_in\">window</span>.location.hostname),<span class=\"code-string\">\"/\"</span>!==n.path[<span class=\"code-number\">0</span>]&amp;&amp;(n.path=<span class=\"code-string\">\"/\"</span>+n.path),<span class=\"code-string\">\"/\"</span>!==n.path[n.path.length<span class=\"code-number\">-1</span>]&amp;&amp;(n.path+=<span class=\"code-string\">\"/\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n.secure&amp;&amp;n.host!==s.util.CLOUD_HOST?n.secure=s.util.isSecure():n.host==s.util.CLOUD_HOST&amp;&amp;(n.secure=!<span class=\"code-number\">0</span>),n.logFunction&amp;&amp;c.default.setLogFunction(n.logFunction),c.default.logLevel=n.debug,s.util.supports.audioVideo||s.util.supports.data?s.util.validateId(e)?(r._api=<span class=\"code-keyword\">new</span> p.API(n),r._initializeServerConnection(),e?r._initialize(e):r._api.retrieveId().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r._initialize(e)}).catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r._abort(u.PeerErrorType.ServerError,e)}),r):(r._delayedAbort(u.PeerErrorType.InvalidID,<span class=\"code-string\">'ID \"'</span>+e+<span class=\"code-string\">'\" is invalid'</span>),r):(r._delayedAbort(u.PeerErrorType.BrowserIncompatible,<span class=\"code-string\">\"The current browser does not support WebRTC\"</span>),r)}<span class=\"code-keyword\">return</span> e(i,o),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"id\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._id},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"options\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._options},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"open\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._open},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"socket\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._socket},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"connections\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,o=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n(<span class=\"code-keyword\">this</span>._connections),s=i.next();!s.done;s=i.next()){<span class=\"code-keyword\">var</span> c=r(s.value,<span class=\"code-number\">2</span>),a=c[<span class=\"code-number\">0</span>],l=c[<span class=\"code-number\">1</span>];o[a]=l}}<span class=\"code-keyword\">catch</span>(d){e={<span class=\"code-attr\">error</span>:d}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{s&amp;&amp;!s.done&amp;&amp;(t=i.return)&amp;&amp;t.call(i)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">throw</span> e.error}}<span class=\"code-keyword\">return</span> o},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"destroyed\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._destroyed},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(i.prototype,<span class=\"code-string\">\"disconnected\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._disconnected},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),i.prototype._initializeServerConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>._socket=<span class=\"code-keyword\">new</span> a.Socket(<span class=\"code-keyword\">this</span>._options.secure,<span class=\"code-keyword\">this</span>._options.host,<span class=\"code-keyword\">this</span>._options.port,<span class=\"code-keyword\">this</span>._options.path,<span class=\"code-keyword\">this</span>._options.key,<span class=\"code-keyword\">this</span>._options.pingInterval),<span class=\"code-keyword\">this</span>.socket.on(u.SocketEventType.Message,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e._handleMessage(t)}),<span class=\"code-keyword\">this</span>.socket.on(u.SocketEventType.Error,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e._abort(u.PeerErrorType.SocketError,t)}),<span class=\"code-keyword\">this</span>.socket.on(u.SocketEventType.Disconnected,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.disconnected||(e.emitError(u.PeerErrorType.Network,<span class=\"code-string\">\"Lost connection to server.\"</span>),e.disconnect())}),<span class=\"code-keyword\">this</span>.socket.on(u.SocketEventType.Close,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.disconnected||e._abort(u.PeerErrorType.SocketClosed,<span class=\"code-string\">\"Underlying socket is already closed.\"</span>)})},i.prototype._initialize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>._id=e,<span class=\"code-keyword\">this</span>.socket.start(<span class=\"code-keyword\">this</span>.id,<span class=\"code-keyword\">this</span>._options.token)},i.prototype._handleMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,r,o=e.type,i=e.payload,s=e.src;<span class=\"code-keyword\">switch</span>(o){<span class=\"code-keyword\">case</span> u.ServerMessageType.Open:<span class=\"code-keyword\">this</span>.emit(u.PeerEventType.Open,<span class=\"code-keyword\">this</span>.id),<span class=\"code-keyword\">this</span>._open=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.Error:<span class=\"code-keyword\">this</span>._abort(u.PeerErrorType.ServerError,i.msg);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.IdTaken:<span class=\"code-keyword\">this</span>._abort(u.PeerErrorType.UnavailableID,<span class=\"code-string\">'ID \"'</span>+<span class=\"code-keyword\">this</span>.id+<span class=\"code-string\">'\" is taken'</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.InvalidKey:<span class=\"code-keyword\">this</span>._abort(u.PeerErrorType.InvalidKey,<span class=\"code-string\">'API KEY \"'</span>+<span class=\"code-keyword\">this</span>._options.key+<span class=\"code-string\">'\" is invalid'</span>);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.Leave:c.default.log(<span class=\"code-string\">\"Received leave message from\"</span>,s),<span class=\"code-keyword\">this</span>._cleanupPeer(s),<span class=\"code-keyword\">this</span>._connections.delete(s);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.Expire:<span class=\"code-keyword\">this</span>.emitError(u.PeerErrorType.PeerUnavailable,<span class=\"code-string\">\"Could not connect to peer \"</span>+s);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> u.ServerMessageType.Offer:<span class=\"code-keyword\">var</span> a=i.connectionId;<span class=\"code-keyword\">if</span>((_=<span class=\"code-keyword\">this</span>.getConnection(s,a))&amp;&amp;(_.close(),c.default.warn(<span class=\"code-string\">\"Offer received for existing Connection ID:\"</span>,a)),i.type===u.ConnectionType.Media)_=<span class=\"code-keyword\">new</span> l.MediaConnection(s,<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">connectionId</span>:a,<span class=\"code-attr\">_payload</span>:i,<span class=\"code-attr\">metadata</span>:i.metadata}),<span class=\"code-keyword\">this</span>._addConnection(s,_),<span class=\"code-keyword\">this</span>.emit(u.PeerEventType.Call,_);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(i.type!==u.ConnectionType.Data)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> c.default.warn(<span class=\"code-string\">\"Received malformed connection type:\"</span>,i.type);_=<span class=\"code-keyword\">new</span> d.DataConnection(s,<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">connectionId</span>:a,<span class=\"code-attr\">_payload</span>:i,<span class=\"code-attr\">metadata</span>:i.metadata,<span class=\"code-attr\">label</span>:i.label,<span class=\"code-attr\">serialization</span>:i.serialization,<span class=\"code-attr\">reliable</span>:i.reliable}),<span class=\"code-keyword\">this</span>._addConnection(s,_),<span class=\"code-keyword\">this</span>.emit(u.PeerEventType.Connection,_)}<span class=\"code-keyword\">var</span> p=<span class=\"code-keyword\">this</span>._getMessages(a);<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=n(p),f=h.next();!f.done;f=h.next()){<span class=\"code-keyword\">var</span> y=f.value;_.handleMessage(y)}}<span class=\"code-keyword\">catch</span>(v){t={<span class=\"code-attr\">error</span>:v}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{f&amp;&amp;!f.done&amp;&amp;(r=h.return)&amp;&amp;r.call(h)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">throw</span> t.error}}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> c.default.warn(<span class=\"code-string\">\"You received a malformed message from \"</span>+s+<span class=\"code-string\">\" of type \"</span>+o);<span class=\"code-keyword\">var</span> _;a=i.connectionId;(_=<span class=\"code-keyword\">this</span>.getConnection(s,a))&amp;&amp;_.peerConnection?_.handleMessage(e):a?<span class=\"code-keyword\">this</span>._storeMessage(a,e):c.default.warn(<span class=\"code-string\">\"You received an unrecognized message:\"</span>,e)}},i.prototype._storeMessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>._lostMessages.has(e)||<span class=\"code-keyword\">this</span>._lostMessages.set(e,[]),<span class=\"code-keyword\">this</span>._lostMessages.get(e).push(t)},i.prototype._getMessages=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._lostMessages.get(e);<span class=\"code-keyword\">return</span> t?(<span class=\"code-keyword\">this</span>._lostMessages.delete(e),t):[]},i.prototype.connect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),<span class=\"code-keyword\">this</span>.disconnected)<span class=\"code-keyword\">return</span> c.default.warn(<span class=\"code-string\">\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available.\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.emitError(u.PeerErrorType.Disconnected,<span class=\"code-string\">\"Cannot connect to new Peer after disconnecting from server.\"</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> d.DataConnection(e,<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._addConnection(e,n),n},i.prototype.call=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n={}),<span class=\"code-keyword\">this</span>.disconnected)<span class=\"code-keyword\">return</span> c.default.warn(<span class=\"code-string\">\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect.\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.emitError(u.PeerErrorType.Disconnected,<span class=\"code-string\">\"Cannot connect to new Peer after disconnecting from server.\"</span>);<span class=\"code-keyword\">if</span>(t){n._stream=t;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> l.MediaConnection(e,<span class=\"code-keyword\">this</span>,n);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._addConnection(e,r),r}c.default.error(<span class=\"code-string\">\"To call a peer, you must provide a stream from your browser's `getUserMedia`.\"</span>)},i.prototype._addConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{c.default.log(<span class=\"code-string\">\"add connection \"</span>+t.type+<span class=\"code-string\">\":\"</span>+t.connectionId+<span class=\"code-string\">\"\\n       to peerId:\"</span>+e),<span class=\"code-keyword\">this</span>._connections.has(e)||<span class=\"code-keyword\">this</span>._connections.set(e,[]),<span class=\"code-keyword\">this</span>._connections.get(e).push(t)},i.prototype._removeConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>._connections.get(e.peer);<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> n=t.indexOf(e);<span class=\"code-number\">-1</span>!==n&amp;&amp;t.splice(n,<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">this</span>._lostMessages.delete(e.connectionId)},i.prototype.getConnection=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> r,o,i=<span class=\"code-keyword\">this</span>._connections.get(e);<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=n(i),c=s.next();!c.done;c=s.next()){<span class=\"code-keyword\">var</span> a=c.value;<span class=\"code-keyword\">if</span>(a.connectionId===t)<span class=\"code-keyword\">return</span> a}}<span class=\"code-keyword\">catch</span>(l){r={<span class=\"code-attr\">error</span>:l}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{c&amp;&amp;!c.done&amp;&amp;(o=s.return)&amp;&amp;o.call(s)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">throw</span> r.error}}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},i.prototype._delayedAbort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n._abort(e,t)},<span class=\"code-number\">0</span>)},i.prototype._abort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{c.default.error(<span class=\"code-string\">\"Aborting!\"</span>),<span class=\"code-keyword\">this</span>._lastServerId?<span class=\"code-keyword\">this</span>.disconnect():<span class=\"code-keyword\">this</span>.destroy(),<span class=\"code-keyword\">this</span>.emitError(e,t)},i.prototype.emitError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{c.default.error(<span class=\"code-string\">\"Error:\"</span>,t),<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(t)),t.type=e,<span class=\"code-keyword\">this</span>.emit(u.PeerEventType.Error,t)},i.prototype.destroy=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.destroyed||(<span class=\"code-keyword\">this</span>._cleanup(),<span class=\"code-keyword\">this</span>.disconnect(),<span class=\"code-keyword\">this</span>._destroyed=!<span class=\"code-number\">0</span>)},i.prototype._cleanup=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=n(<span class=\"code-keyword\">this</span>._connections.keys()),o=r.next();!o.done;o=r.next()){<span class=\"code-keyword\">var</span> i=o.value;<span class=\"code-keyword\">this</span>._cleanupPeer(i),<span class=\"code-keyword\">this</span>._connections.delete(i)}}<span class=\"code-keyword\">catch</span>(s){e={<span class=\"code-attr\">error</span>:s}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{o&amp;&amp;!o.done&amp;&amp;(t=r.return)&amp;&amp;t.call(r)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">throw</span> e.error}}<span class=\"code-keyword\">this</span>.emit(u.PeerEventType.Close)},i.prototype._cleanupPeer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,r,o=<span class=\"code-keyword\">this</span>._connections.get(e);<span class=\"code-keyword\">if</span>(o)<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n(o),s=i.next();!s.done;s=i.next()){s.value.close()}}<span class=\"code-keyword\">catch</span>(c){t={<span class=\"code-attr\">error</span>:c}}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{s&amp;&amp;!s.done&amp;&amp;(r=i.return)&amp;&amp;r.call(i)}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">throw</span> t.error}}},i.prototype.disconnect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.disconnected||(e._disconnected=!<span class=\"code-number\">0</span>,e._open=!<span class=\"code-number\">1</span>,e.socket&amp;&amp;e.socket.close(),e.emit(u.PeerEventType.Disconnected,e.id),e._lastServerId=e.id,e._id=<span class=\"code-literal\">null</span>)},<span class=\"code-number\">0</span>)},i.prototype.reconnect=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.disconnected&amp;&amp;!<span class=\"code-keyword\">this</span>.destroyed)c.default.log(<span class=\"code-string\">\"Attempting reconnection to server with ID \"</span>+<span class=\"code-keyword\">this</span>._lastServerId),<span class=\"code-keyword\">this</span>._disconnected=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._initializeServerConnection(),<span class=\"code-keyword\">this</span>._initialize(<span class=\"code-keyword\">this</span>._lastServerId);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"This peer cannot reconnect to the server. It has already been destroyed.\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.disconnected||<span class=\"code-keyword\">this</span>.open)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Peer \"</span>+<span class=\"code-keyword\">this</span>.id+<span class=\"code-string\">\" cannot reconnect because it is not disconnected from the server!\"</span>);c.default.error(<span class=\"code-string\">\"In a hurry? We're still trying to make the initial connection!\"</span>)}},i.prototype.listAllPeers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{}),<span class=\"code-keyword\">this</span>._api.listAllPeers().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e(t)}).catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t._abort(u.PeerErrorType.ServerError,e)})},i.DEFAULT_KEY=<span class=\"code-string\">\"peerjs\"</span>,i}(i.EventEmitter);exports.Peer=f;\n","},{<span class=\"code-string\">\"eventemitter3\"</span>:<span class=\"code-string\">\"2JJl\"</span>,<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./logger\"</span>:<span class=\"code-string\">\"8WOs\"</span>,<span class=\"code-string\">\"./socket\"</span>:<span class=\"code-string\">\"wJlv\"</span>,<span class=\"code-string\">\"./mediaconnection\"</span>:<span class=\"code-string\">\"dbHP\"</span>,<span class=\"code-string\">\"./dataconnection\"</span>:<span class=\"code-string\">\"GBTQ\"</span>,<span class=\"code-string\">\"./enums\"</span>:<span class=\"code-string\">\"9ZRY\"</span>,<span class=\"code-string\">\"./api\"</span>:<span class=\"code-string\">\"in7L\"</span>}],<span class=\"code-string\">\"iTK6\"</span>:[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">require,module,exports</span>) </span>{\n","<span class=\"code-meta\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(exports,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>});<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./util\"</span>),r=<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"./peer\"</span>);exports.peerjs={<span class=\"code-attr\">Peer</span>:r.Peer,<span class=\"code-attr\">util</span>:e.util},exports.default=r.Peer,<span class=\"code-built_in\">window</span>.peerjs=exports.peerjs,<span class=\"code-built_in\">window</span>.Peer=r.Peer;\n","},{<span class=\"code-string\">\"./util\"</span>:<span class=\"code-string\">\"BHXf\"</span>,<span class=\"code-string\">\"./peer\"</span>:<span class=\"code-string\">\"Hxpd\"</span>}]},{},[<span class=\"code-string\">\"iTK6\"</span>], <span class=\"code-literal\">null</span>)\n","<span class=\"code-comment\">//# sourceMappingURL=/peerjs.min.js.map</span>"]}}}</script></head><body><div id="root"><style data-emotion-css="262b4o">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="xi606m">.css-xi606m{text-align:center;}</style><header class="css-xi606m"><style data-emotion-css="17kjije">.css-17kjije{font-size:3rem;margin-top:2rem;}</style><h1 class="css-17kjije"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="k4kplh">.css-k4kplh{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;}</style><h1 class="css-k4kplh"><nav><span><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/peerjs@1.0.4/" class="css-xt128v">peerjs</a></span><span><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/peerjs@1.0.4/dist/" class="css-xt128v">dist</a></span><span><span class="css-lllnmq">/</span><strong>peerjs.min.js</strong></span></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.2.0">0.2.0</option><option value="0.3.1">0.3.1</option><option value="0.3.2">0.3.2</option><option value="0.3.4">0.3.4</option><option value="0.3.5">0.3.5</option><option value="0.3.6">0.3.6</option><option value="0.3.8">0.3.8</option><option value="0.3.9">0.3.9</option><option value="0.3.10">0.3.10</option><option value="0.3.12">0.3.12</option><option value="0.3.13">0.3.13</option><option value="0.3.14">0.3.14</option><option value="0.3.15">0.3.15</option><option value="0.3.16">0.3.16</option><option value="0.3.17">0.3.17</option><option value="0.3.18">0.3.18</option><option value="0.3.19">0.3.19</option><option value="0.3.20">0.3.20</option><option value="0.3.21">0.3.21</option><option value="0.3.22">0.3.22</option><option value="0.3.23">0.3.23</option><option value="0.3.24">0.3.24</option><option value="1.0.0">1.0.0</option><option value="1.0.1">1.0.1</option><option value="1.0.2">1.0.2</option><option value="1.0.3">1.0.3</option><option selected="" value="1.0.4">1.0.4</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>62.1 kB</span> <span>JavaScript</span> <style data-emotion-css="12cxnkg">.css-12cxnkg{display:inline-block;-webkit-text-decoration:none;text-decoration:none;padding:2px 8px;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-12cxnkg:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-12cxnkg:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a title="peerjs.min.js" href="/peerjs@1.0.4/dist/peerjs.min.js" class="css-12cxnkg">View Raw</a></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code>parcelRequire=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r,t,n</span>)</span>{<span class="code-keyword">var</span> i,o=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> parcelRequire&amp;&amp;parcelRequire,u=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">require</span>&amp;&amp;<span class="code-built_in">require</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">if</span>(!r[t]){<span class="code-keyword">if</span>(!e[t]){<span class="code-keyword">var</span> i=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> parcelRequire&amp;&amp;parcelRequire;<span class="code-keyword">if</span>(!n&amp;&amp;i)<span class="code-keyword">return</span> i(t,!<span class="code-number">0</span>);<span class="code-keyword">if</span>(o)<span class="code-keyword">return</span> o(t,!<span class="code-number">0</span>);<span class="code-keyword">if</span>(u&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t)<span class="code-keyword">return</span> u(t);<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot find module '"</span>+t+<span class="code-string">"'"</span>);<span class="code-keyword">throw</span> c.code=<span class="code-string">"MODULE_NOT_FOUND"</span>,c}p.resolve=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> e[t][<span class="code-number">1</span>][r]||r},p.cache={};<span class="code-keyword">var</span> l=r[t]=<span class="code-keyword">new</span> f.Module(t);e[t][<span class="code-number">0</span>].call(l.exports,p,l,l.exports,<span class="code-keyword">this</span>)}<span class="code-keyword">return</span> r[t].exports;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> f(p.resolve(e))}}f.isParcelRequire=!<span class="code-number">0</span>,f.Module=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.id=e,<span class="code-keyword">this</span>.bundle=f,<span class="code-keyword">this</span>.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,t</span>)</span>{e[r]=[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{r.exports=t},{}]};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;t.length;c++)<span class="code-keyword">try</span>{f(t[c])}<span class="code-keyword">catch</span>(e){i||(i=e)}<span class="code-keyword">if</span>(t.length){<span class="code-keyword">var</span> l=f(t[t.length<span class="code-number">-1</span>]);<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?<span class="code-built_in">module</span>.exports=l:<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l}):n&amp;&amp;(<span class="code-keyword">this</span>[n]=l)}<span class="code-keyword">if</span>(parcelRequire=f,i)<span class="code-keyword">throw</span> i;<span class="code-keyword">return</span> f}({<span class="code-string">"vHo1"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-keyword">var</span> e={};e.useBlobBuilder=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Blob([]),!<span class="code-number">1</span>}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">0</span>}}(),e.useArrayBufferView=!e.useBlobBuilder&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===<span class="code-keyword">new</span> Blob([<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([])]).size}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">0</span>}}(),<span class="code-built_in">module</span>.exports.binaryFeatures=e;<span class="code-keyword">var</span> r=<span class="code-built_in">module</span>.exports.BlobBuilder;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._pieces=[],<span class="code-keyword">this</span>._parts=[]}<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>&amp;&amp;(r=<span class="code-built_in">module</span>.exports.BlobBuilder=<span class="code-built_in">window</span>.WebKitBlobBuilder||<span class="code-built_in">window</span>.MozBlobBuilder||<span class="code-built_in">window</span>.MSBlobBuilder||<span class="code-built_in">window</span>.BlobBuilder),t.prototype.append=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e?<span class="code-keyword">this</span>._pieces.push(e):(<span class="code-keyword">this</span>.flush(),<span class="code-keyword">this</span>._parts.push(e))},t.prototype.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._pieces.length&gt;<span class="code-number">0</span>){<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">this</span>._pieces);e.useArrayBufferView||(r=r.buffer),<span class="code-keyword">this</span>._parts.push(r),<span class="code-keyword">this</span>._pieces=[]}},t.prototype.getBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.flush(),e.useBlobBuilder){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> r,i=<span class="code-number">0</span>,u=<span class="code-keyword">this</span>._parts.length;i&lt;u;i++)t.append(<span class="code-keyword">this</span>._parts[i]);<span class="code-keyword">return</span> t.getBlob()}<span class="code-keyword">return</span> <span class="code-keyword">new</span> Blob(<span class="code-keyword">this</span>._parts)},<span class="code-built_in">module</span>.exports.BufferBuilder=t;
</code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code>},{}],<span class="code-string">"lHOc"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-keyword">var</span> t=<span class="code-built_in">require</span>(<span class="code-string">"./bufferbuilder"</span>).BufferBuilder,e=<span class="code-built_in">require</span>(<span class="code-string">"./bufferbuilder"</span>).binaryFeatures,i={<span class="code-attr">unpack</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> r(t).unpack()},<span class="code-attr">pack</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> n;<span class="code-keyword">return</span> e.pack(t),e.getBuffer()}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.index=<span class="code-number">0</span>,<span class="code-keyword">this</span>.dataBuffer=t,<span class="code-keyword">this</span>.dataView=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">this</span>.dataBuffer),<span class="code-keyword">this</span>.length=<span class="code-keyword">this</span>.dataBuffer.byteLength}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.bufferBuilder=<span class="code-keyword">new</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.charCodeAt(<span class="code-number">0</span>);<span class="code-keyword">return</span> e&lt;=<span class="code-number">2047</span>?<span class="code-string">"00"</span>:e&lt;=<span class="code-number">65535</span>?<span class="code-string">"000"</span>:e&lt;=<span class="code-number">2097151</span>?<span class="code-string">"0000"</span>:e&lt;=<span class="code-number">67108863</span>?<span class="code-string">"00000"</span>:<span class="code-string">"000000"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t.length&gt;<span class="code-number">600</span>?<span class="code-keyword">new</span> Blob([t]).size:t.replace(<span class="code-regexp">/[^\u0000-\u007F]/g</span>,u).length}<span class="code-built_in">module</span>.exports=i,r.prototype.unpack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,e=<span class="code-keyword">this</span>.unpack_uint8();<span class="code-keyword">if</span>(e&lt;<span class="code-number">128</span>)<span class="code-keyword">return</span> e;<span class="code-keyword">if</span>((<span class="code-number">224</span>^e)&lt;<span class="code-number">32</span>)<span class="code-keyword">return</span>(<span class="code-number">224</span>^e)<span class="code-number">-32</span>;<span class="code-keyword">if</span>((t=<span class="code-number">160</span>^e)&lt;=<span class="code-number">15</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_raw(t);<span class="code-keyword">if</span>((t=<span class="code-number">176</span>^e)&lt;=<span class="code-number">15</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_string(t);<span class="code-keyword">if</span>((t=<span class="code-number">144</span>^e)&lt;=<span class="code-number">15</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_array(t);<span class="code-keyword">if</span>((t=<span class="code-number">128</span>^e)&lt;=<span class="code-number">15</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_map(t);<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span> <span class="code-number">192</span>:<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">case</span> <span class="code-number">193</span>:<span class="code-keyword">return</span>;<span class="code-keyword">case</span> <span class="code-number">194</span>:<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">195</span>:<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">202</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_float();<span class="code-keyword">case</span> <span class="code-number">203</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_double();<span class="code-keyword">case</span> <span class="code-number">204</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_uint8();<span class="code-keyword">case</span> <span class="code-number">205</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_uint16();<span class="code-keyword">case</span> <span class="code-number">206</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_uint32();<span class="code-keyword">case</span> <span class="code-number">207</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_uint64();<span class="code-keyword">case</span> <span class="code-number">208</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_int8();<span class="code-keyword">case</span> <span class="code-number">209</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_int16();<span class="code-keyword">case</span> <span class="code-number">210</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_int32();<span class="code-keyword">case</span> <span class="code-number">211</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.unpack_int64();<span class="code-keyword">case</span> <span class="code-number">212</span>:<span class="code-keyword">case</span> <span class="code-number">213</span>:<span class="code-keyword">case</span> <span class="code-number">214</span>:<span class="code-keyword">case</span> <span class="code-number">215</span>:<span class="code-keyword">return</span>;<span class="code-keyword">case</span> <span class="code-number">216</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint16(),<span class="code-keyword">this</span>.unpack_string(t);<span class="code-keyword">case</span> <span class="code-number">217</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint32(),<span class="code-keyword">this</span>.unpack_string(t);<span class="code-keyword">case</span> <span class="code-number">218</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint16(),<span class="code-keyword">this</span>.unpack_raw(t);<span class="code-keyword">case</span> <span class="code-number">219</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint32(),<span class="code-keyword">this</span>.unpack_raw(t);<span class="code-keyword">case</span> <span class="code-number">220</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint16(),<span class="code-keyword">this</span>.unpack_array(t);<span class="code-keyword">case</span> <span class="code-number">221</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint32(),<span class="code-keyword">this</span>.unpack_array(t);<span class="code-keyword">case</span> <span class="code-number">222</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint16(),<span class="code-keyword">this</span>.unpack_map(t);<span class="code-keyword">case</span> <span class="code-number">223</span>:<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.unpack_uint32(),<span class="code-keyword">this</span>.unpack_map(t)}},r.prototype.unpack_uint8=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">255</span>&amp;<span class="code-keyword">this</span>.dataView[<span class="code-keyword">this</span>.index];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index++,t},r.prototype.unpack_uint16=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.read(<span class="code-number">2</span>),e=<span class="code-number">256</span>*(<span class="code-number">255</span>&amp;t[<span class="code-number">0</span>])+(<span class="code-number">255</span>&amp;t[<span class="code-number">1</span>]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index+=<span class="code-number">2</span>,e},r.prototype.unpack_uint32=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.read(<span class="code-number">4</span>),e=<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*t[<span class="code-number">0</span>]+t[<span class="code-number">1</span>])+t[<span class="code-number">2</span>])+t[<span class="code-number">3</span>];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index+=<span class="code-number">4</span>,e},r.prototype.unpack_uint64=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.read(<span class="code-number">8</span>),e=<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*(<span class="code-number">256</span>*t[<span class="code-number">0</span>]+t[<span class="code-number">1</span>])+t[<span class="code-number">2</span>])+t[<span class="code-number">3</span>])+t[<span class="code-number">4</span>])+t[<span class="code-number">5</span>])+t[<span class="code-number">6</span>])+t[<span class="code-number">7</span>];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index+=<span class="code-number">8</span>,e},r.prototype.unpack_int8=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint8();<span class="code-keyword">return</span> t&lt;<span class="code-number">128</span>?t:t<span class="code-number">-256</span>},r.prototype.unpack_int16=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint16();<span class="code-keyword">return</span> t&lt;<span class="code-number">32768</span>?t:t<span class="code-number">-65536</span>},r.prototype.unpack_int32=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint32();<span class="code-keyword">return</span> t&lt;<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">31</span>)?t:t-<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>)},r.prototype.unpack_int64=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint64();<span class="code-keyword">return</span> t&lt;<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">63</span>)?t:t-<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">64</span>)},r.prototype.unpack_raw=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.length&lt;<span class="code-keyword">this</span>.index+t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"BinaryPackFailure: index is out of range "</span>+<span class="code-keyword">this</span>.index+<span class="code-string">" "</span>+t+<span class="code-string">" "</span>+<span class="code-keyword">this</span>.length);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.dataBuffer.slice(<span class="code-keyword">this</span>.index,<span class="code-keyword">this</span>.index+t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index+=t,e},r.prototype.unpack_string=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,i,r=<span class="code-keyword">this</span>.read(t),n=<span class="code-number">0</span>,u=<span class="code-string">""</span>;n&lt;t;)(e=r[n])&lt;<span class="code-number">128</span>?(u+=<span class="code-built_in">String</span>.fromCharCode(e),n++):(<span class="code-number">192</span>^e)&lt;<span class="code-number">32</span>?(i=(<span class="code-number">192</span>^e)&lt;&lt;<span class="code-number">6</span>|<span class="code-number">63</span>&amp;r[n+<span class="code-number">1</span>],u+=<span class="code-built_in">String</span>.fromCharCode(i),n+=<span class="code-number">2</span>):(i=(<span class="code-number">15</span>&amp;e)&lt;&lt;<span class="code-number">12</span>|(<span class="code-number">63</span>&amp;r[n+<span class="code-number">1</span>])&lt;&lt;<span class="code-number">6</span>|<span class="code-number">63</span>&amp;r[n+<span class="code-number">2</span>],u+=<span class="code-built_in">String</span>.fromCharCode(i),n+=<span class="code-number">3</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.index+=t,u},r.prototype.unpack_array=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(t),i=<span class="code-number">0</span>;i&lt;t;i++)e[i]=<span class="code-keyword">this</span>.unpack();<span class="code-keyword">return</span> e},r.prototype.unpack_map=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e={},i=<span class="code-number">0</span>;i&lt;t;i++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.unpack(),n=<span class="code-keyword">this</span>.unpack();e[r]=n}<span class="code-keyword">return</span> e},r.prototype.unpack_float=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint32(),e=(t&gt;&gt;<span class="code-number">23</span>&amp;<span class="code-number">255</span>)<span class="code-number">-127</span>;<span class="code-keyword">return</span>(<span class="code-number">0</span>==t&gt;&gt;<span class="code-number">31</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>)*(<span class="code-number">8388607</span>&amp;t|<span class="code-number">8388608</span>)*<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,e<span class="code-number">-23</span>)},r.prototype.unpack_double=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.unpack_uint32(),e=<span class="code-keyword">this</span>.unpack_uint32(),i=(t&gt;&gt;<span class="code-number">20</span>&amp;<span class="code-number">2047</span>)<span class="code-number">-1023</span>;<span class="code-keyword">return</span>(<span class="code-number">0</span>==t&gt;&gt;<span class="code-number">31</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>)*((<span class="code-number">1048575</span>&amp;t|<span class="code-number">1048576</span>)*<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,i<span class="code-number">-20</span>)+e*<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,i<span class="code-number">-52</span>))},r.prototype.read=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.index;<span class="code-keyword">if</span>(e+t&lt;=<span class="code-keyword">this</span>.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dataView.subarray(e,e+t);<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"BinaryPackFailure: read index out of range"</span>)},n.prototype.getBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.bufferBuilder.getBuffer()},n.prototype.pack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">typeof</span> t;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==i)<span class="code-keyword">this</span>.pack_string(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"number"</span>==i)<span class="code-built_in">Math</span>.floor(t)===t?<span class="code-keyword">this</span>.pack_integer(t):<span class="code-keyword">this</span>.pack_double(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"boolean"</span>==i)!<span class="code-number">0</span>===t?<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">195</span>):!<span class="code-number">1</span>===t&amp;&amp;<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">194</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==i)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">192</span>);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-string">"object"</span>!=i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Type "'</span>+i+<span class="code-string">'" not yet supported'</span>);<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">192</span>);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> r=t.constructor;<span class="code-keyword">if</span>(r==<span class="code-built_in">Array</span>)<span class="code-keyword">this</span>.pack_array(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r==Blob||r==File)<span class="code-keyword">this</span>.pack_bin(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r==<span class="code-built_in">ArrayBuffer</span>)e.useArrayBufferView?<span class="code-keyword">this</span>.pack_bin(<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t)):<span class="code-keyword">this</span>.pack_bin(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"BYTES_PER_ELEMENT"</span><span class="code-keyword">in</span> t)e.useArrayBufferView?<span class="code-keyword">this</span>.pack_bin(<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.buffer)):<span class="code-keyword">this</span>.pack_bin(t.buffer);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r==<span class="code-built_in">Object</span>)<span class="code-keyword">this</span>.pack_object(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(r==<span class="code-built_in">Date</span>)<span class="code-keyword">this</span>.pack_string(t.toString());<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> t.toBinaryPack)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Type "'</span>+r.toString()+<span class="code-string">'" not yet supported'</span>);<span class="code-keyword">this</span>.bufferBuilder.append(t.toBinaryPack())}}}<span class="code-keyword">this</span>.bufferBuilder.flush()},n.prototype.pack_bin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.length||t.byteLength||t.size;<span class="code-keyword">if</span>(e&lt;=<span class="code-number">15</span>)<span class="code-keyword">this</span>.pack_uint8(<span class="code-number">160</span>+e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e&lt;=<span class="code-number">65535</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">218</span>),<span class="code-keyword">this</span>.pack_uint16(e);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(e&lt;=<span class="code-number">4294967295</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid length"</span>);<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">219</span>),<span class="code-keyword">this</span>.pack_uint32(e)}<span class="code-keyword">this</span>.bufferBuilder.append(t)},n.prototype.pack_string=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=a(t);<span class="code-keyword">if</span>(e&lt;=<span class="code-number">15</span>)<span class="code-keyword">this</span>.pack_uint8(<span class="code-number">176</span>+e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e&lt;=<span class="code-number">65535</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">216</span>),<span class="code-keyword">this</span>.pack_uint16(e);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(e&lt;=<span class="code-number">4294967295</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid length"</span>);<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">217</span>),<span class="code-keyword">this</span>.pack_uint32(e)}<span class="code-keyword">this</span>.bufferBuilder.append(t)},n.prototype.pack_array=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.length;<span class="code-keyword">if</span>(e&lt;=<span class="code-number">15</span>)<span class="code-keyword">this</span>.pack_uint8(<span class="code-number">144</span>+e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e&lt;=<span class="code-number">65535</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">220</span>),<span class="code-keyword">this</span>.pack_uint16(e);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(e&lt;=<span class="code-number">4294967295</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid length"</span>);<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">221</span>),<span class="code-keyword">this</span>.pack_uint32(e)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e;i++)<span class="code-keyword">this</span>.pack(t[i])},n.prototype.pack_integer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">-32</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">127</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">255</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">204</span>),<span class="code-keyword">this</span>.pack_uint8(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">-128</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">127</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">208</span>),<span class="code-keyword">this</span>.pack_int8(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">65535</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">205</span>),<span class="code-keyword">this</span>.pack_uint16(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">-32768</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">32767</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">209</span>),<span class="code-keyword">this</span>.pack_int16(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">4294967295</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">206</span>),<span class="code-keyword">this</span>.pack_uint32(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">-2147483648</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">2147483647</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">210</span>),<span class="code-keyword">this</span>.pack_int32(t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">-0x8000000000000000</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">0x8000000000000000</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">211</span>),<span class="code-keyword">this</span>.pack_int64(t);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(<span class="code-number">0</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">0x10000000000000000</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid integer"</span>);<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">207</span>),<span class="code-keyword">this</span>.pack_uint64(t)}},n.prototype.pack_double=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;t&lt;<span class="code-number">0</span>&amp;&amp;(e=<span class="code-number">1</span>,t=-t);<span class="code-keyword">var</span> i=<span class="code-built_in">Math</span>.floor(<span class="code-built_in">Math</span>.log(t)/<span class="code-built_in">Math</span>.LN2),r=t/<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,i)<span class="code-number">-1</span>,n=<span class="code-built_in">Math</span>.floor(r*<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">52</span>)),u=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>),a=e&lt;&lt;<span class="code-number">31</span>|i+<span class="code-number">1023</span>&lt;&lt;<span class="code-number">20</span>|n/u&amp;<span class="code-number">1048575</span>,p=n%u;<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">203</span>),<span class="code-keyword">this</span>.pack_int32(a),<span class="code-keyword">this</span>.pack_int32(p)},n.prototype.pack_object=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>.keys(t).length;<span class="code-keyword">if</span>(e&lt;=<span class="code-number">15</span>)<span class="code-keyword">this</span>.pack_uint8(<span class="code-number">128</span>+e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e&lt;=<span class="code-number">65535</span>)<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">222</span>),<span class="code-keyword">this</span>.pack_uint16(e);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(e&lt;=<span class="code-number">4294967295</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid length"</span>);<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">223</span>),<span class="code-keyword">this</span>.pack_uint32(e)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> t)t.hasOwnProperty(i)&amp;&amp;(<span class="code-keyword">this</span>.pack(i),<span class="code-keyword">this</span>.pack(t[i]))},n.prototype.pack_uint8=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.bufferBuilder.append(t)},n.prototype.pack_uint16=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.bufferBuilder.append(t&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;t)},n.prototype.pack_uint32=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">4294967295</span>&amp;t;<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">4278190080</span>&amp;e)&gt;&gt;&gt;<span class="code-number">24</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;e)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;e)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;e)},n.prototype.pack_uint64=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t/<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>),i=t%<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>);<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">4278190080</span>&amp;e)&gt;&gt;&gt;<span class="code-number">24</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;e)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;e)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;e),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">4278190080</span>&amp;i)&gt;&gt;&gt;<span class="code-number">24</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;i)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;i)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;i)},n.prototype.pack_int8=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;t)},n.prototype.pack_int16=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;t)&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;t)},n.prototype.pack_int32=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.bufferBuilder.append(t&gt;&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;t)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;t)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;t)},n.prototype.pack_int64=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.floor(t/<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>)),i=t%<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>);<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">4278190080</span>&amp;e)&gt;&gt;&gt;<span class="code-number">24</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;e)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;e)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;e),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">4278190080</span>&amp;i)&gt;&gt;&gt;<span class="code-number">24</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">16711680</span>&amp;i)&gt;&gt;&gt;<span class="code-number">16</span>),<span class="code-keyword">this</span>.bufferBuilder.append((<span class="code-number">65280</span>&amp;i)&gt;&gt;&gt;<span class="code-number">8</span>),<span class="code-keyword">this</span>.bufferBuilder.append(<span class="code-number">255</span>&amp;i)};
</code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code>},{<span class="code-string">"./bufferbuilder"</span>:<span class="code-string">"vHo1"</span>}],<span class="code-string">"sXtV"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),exports.RTCSessionDescription=<span class="code-built_in">window</span>.RTCSessionDescription||<span class="code-built_in">window</span>.mozRTCSessionDescription,exports.RTCPeerConnection=<span class="code-built_in">window</span>.RTCPeerConnection||<span class="code-built_in">window</span>.mozRTCPeerConnection||<span class="code-built_in">window</span>.webkitRTCPeerConnection,exports.RTCIceCandidate=<span class="code-built_in">window</span>.RTCIceCandidate||<span class="code-built_in">window</span>.mozRTCIceCandidate;
</code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code>},{}],<span class="code-string">"BHXf"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code><span class="code-keyword">var</span> global = <span class="code-built_in">arguments</span>[<span class="code-number">3</span>];
</code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code><span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>[<span class="code-number">3</span>],n=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importStar||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.__esModule)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> n={};<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e)<span class="code-built_in">Object</span>.hasOwnProperty.call(e,r)&amp;&amp;(n[r]=e[r]);<span class="code-keyword">return</span> n.default=e,n};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> r=n(<span class="code-built_in">require</span>(<span class="code-string">"js-binarypack"</span>)),t=<span class="code-built_in">require</span>(<span class="code-string">"./adapter"</span>),a={<span class="code-attr">iceServers</span>:[{<span class="code-attr">urls</span>:<span class="code-string">"stun:stun.l.google.com:19302"</span>}],<span class="code-attr">sdpSemantics</span>:<span class="code-string">"unified-plan"</span>},o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{}<span class="code-keyword">var</span> n;<span class="code-keyword">return</span> e.noop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.validateId=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!e||<span class="code-regexp">/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/</span>.test(e)},e.chunk=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,t=[],a=n.size,o=<span class="code-built_in">Math</span>.ceil(a/e.chunkedMTU),i=r=<span class="code-number">0</span>;i&lt;a;){<span class="code-keyword">var</span> u=<span class="code-built_in">Math</span>.min(a,i+e.chunkedMTU),c=n.slice(i,u),d={<span class="code-attr">__peerData</span>:<span class="code-keyword">this</span>._dataCount,<span class="code-attr">n</span>:r,<span class="code-attr">data</span>:c,<span class="code-attr">total</span>:o};t.push(d),i=u,r++}<span class="code-keyword">return</span> <span class="code-keyword">this</span>._dataCount++,t},e.blobToArrayBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> FileReader;r.onload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n(e.target.result)},r.readAsArrayBuffer(e)},e.blobToBinaryString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> FileReader;r.onload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n(e.target.result)},r.readAsBinaryString(e)},e.binaryStringToArrayBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.length),r=<span class="code-number">0</span>;r&lt;e.length;r++)n[r]=<span class="code-number">255</span>&amp;e.charCodeAt(r);<span class="code-keyword">return</span> n.buffer},e.randomToken=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.random().toString(<span class="code-number">36</span>).substr(<span class="code-number">2</span>)},e.isSecure=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"https:"</span>===location.protocol},e.CLOUD_HOST=<span class="code-string">"0.peerjs.com"</span>,e.CLOUD_PORT=<span class="code-number">443</span>,e.chunkedBrowsers={<span class="code-attr">Chrome</span>:<span class="code-number">1</span>},e.chunkedMTU=<span class="code-number">16300</span>,e.defaultConfig=a,e.browser=(n=<span class="code-built_in">window</span>).mozRTCPeerConnection?<span class="code-string">"Firefox"</span>:n.webkitRTCPeerConnection?<span class="code-string">"Chrome"</span>:n.RTCPeerConnection?<span class="code-string">"Supported"</span>:<span class="code-string">"Unsupported"</span>,e.supports=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t.RTCPeerConnection)<span class="code-keyword">return</span>{};<span class="code-keyword">var</span> e,n,r=!<span class="code-number">0</span>,o=!<span class="code-number">0</span>,i=!<span class="code-number">1</span>,u=!<span class="code-number">1</span>,c=!!<span class="code-built_in">window</span>.webkitRTCPeerConnection;<span class="code-keyword">try</span>{e=<span class="code-keyword">new</span> t.RTCPeerConnection(a,{<span class="code-attr">optional</span>:[{<span class="code-attr">RtpDataChannels</span>:!<span class="code-number">0</span>}]})}<span class="code-keyword">catch</span>(l){r=!<span class="code-number">1</span>,o=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(r)<span class="code-keyword">try</span>{n=e.createDataChannel(<span class="code-string">"_PEERJSTEST"</span>)}<span class="code-keyword">catch</span>(l){r=!<span class="code-number">1</span>}<span class="code-keyword">if</span>(r){<span class="code-keyword">try</span>{n.binaryType=<span class="code-string">"blob"</span>,i=!<span class="code-number">0</span>}<span class="code-keyword">catch</span>(l){}<span class="code-keyword">var</span> d=<span class="code-keyword">new</span> t.RTCPeerConnection(a,{});<span class="code-keyword">try</span>{u=d.createDataChannel(<span class="code-string">"_PEERJSRELIABLETEST"</span>,{}).ordered}<span class="code-keyword">catch</span>(l){}d.close()}<span class="code-keyword">return</span> o&amp;&amp;(o=!!e.addStream),e&amp;&amp;e.close(),{<span class="code-attr">audioVideo</span>:o,<span class="code-attr">data</span>:r,<span class="code-attr">binaryBlob</span>:i,<span class="code-attr">binary</span>:u,<span class="code-attr">reliable</span>:u,<span class="code-attr">sctp</span>:u,<span class="code-attr">onnegotiationneeded</span>:c}}(),e.pack=r.pack,e.unpack=r.unpack,e._dataCount=<span class="code-number">1</span>,e}();exports.util=o;
</code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code>},{<span class="code-string">"js-binarypack"</span>:<span class="code-string">"lHOc"</span>,<span class="code-string">"./adapter"</span>:<span class="code-string">"sXtV"</span>}],<span class="code-string">"2JJl"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>.prototype.hasOwnProperty,t=<span class="code-string">"~"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">this</span>.fn=e,<span class="code-keyword">this</span>.context=t,<span class="code-keyword">this</span>.once=n||!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e,n,o,s,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> o)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"The listener must be a function"</span>);<span class="code-keyword">var</span> c=<span class="code-keyword">new</span> r(o,s||e,i),f=t?t+n:n;<span class="code-keyword">return</span> e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t</span>)</span>{<span class="code-number">0</span>==--e._eventsCount?e._events=<span class="code-keyword">new</span> n:<span class="code-keyword">delete</span> e._events[t]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._events=<span class="code-keyword">new</span> n,<span class="code-keyword">this</span>._eventsCount=<span class="code-number">0</span>}<span class="code-built_in">Object</span>.create&amp;&amp;(n.prototype=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span>),(<span class="code-keyword">new</span> n).__proto__||(t=!<span class="code-number">1</span>)),i.prototype.eventNames=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,r,o=[];<span class="code-keyword">if</span>(<span class="code-number">0</span>===<span class="code-keyword">this</span>._eventsCount)<span class="code-keyword">return</span> o;<span class="code-keyword">for</span>(r <span class="code-keyword">in</span> n=<span class="code-keyword">this</span>._events)e.call(n,r)&amp;&amp;o.push(t?r.slice(<span class="code-number">1</span>):r);<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.getOwnPropertySymbols?o.concat(<span class="code-built_in">Object</span>.getOwnPropertySymbols(n)):o},i.prototype.listeners=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=t?t+e:e,r=<span class="code-keyword">this</span>._events[n];<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span>[];<span class="code-keyword">if</span>(r.fn)<span class="code-keyword">return</span>[r.fn];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>,s=r.length,i=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(s);o&lt;s;o++)i[o]=r[o].fn;<span class="code-keyword">return</span> i},i.prototype.listenerCount=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=t?t+e:e,r=<span class="code-keyword">this</span>._events[n];<span class="code-keyword">return</span> r?r.fn?<span class="code-number">1</span>:r.length:<span class="code-number">0</span>},i.prototype.emit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,r,o,s,i</span>)</span>{<span class="code-keyword">var</span> c=t?t+e:e;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>._events[c])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> f,u,a=<span class="code-keyword">this</span>._events[c],l=<span class="code-built_in">arguments</span>.length;<span class="code-keyword">if</span>(a.fn){<span class="code-keyword">switch</span>(a.once&amp;&amp;<span class="code-keyword">this</span>.removeListener(e,a.fn,<span class="code-keyword">void</span> <span class="code-number">0</span>,!<span class="code-number">0</span>),l){<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> a.fn.call(a.context),!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">return</span> a.fn.call(a.context,n),!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">return</span> a.fn.call(a.context,n,r),!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span> a.fn.call(a.context,n,r,o),!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">5</span>:<span class="code-keyword">return</span> a.fn.call(a.context,n,r,o,s),!<span class="code-number">0</span>;<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">return</span> a.fn.call(a.context,n,r,o,s,i),!<span class="code-number">0</span>}<span class="code-keyword">for</span>(u=<span class="code-number">1</span>,f=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(l<span class="code-number">-1</span>);u&lt;l;u++)f[u<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[u];a.fn.apply(a.context,f)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> v,h=a.length;<span class="code-keyword">for</span>(u=<span class="code-number">0</span>;u&lt;h;u++)<span class="code-keyword">switch</span>(a[u].once&amp;&amp;<span class="code-keyword">this</span>.removeListener(e,a[u].fn,<span class="code-keyword">void</span> <span class="code-number">0</span>,!<span class="code-number">0</span>),l){<span class="code-keyword">case</span> <span class="code-number">1</span>:a[u].fn.call(a[u].context);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:a[u].fn.call(a[u].context,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:a[u].fn.call(a[u].context,n,r);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:a[u].fn.call(a[u].context,n,r,o);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(!f)<span class="code-keyword">for</span>(v=<span class="code-number">1</span>,f=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(l<span class="code-number">-1</span>);v&lt;l;v++)f[v<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[v];a[u].fn.apply(a[u].context,f)}}<span class="code-keyword">return</span>!<span class="code-number">0</span>},i.prototype.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> o(<span class="code-keyword">this</span>,e,t,n,!<span class="code-number">1</span>)},i.prototype.once=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> o(<span class="code-keyword">this</span>,e,t,n,!<span class="code-number">0</span>)},i.prototype.removeListener=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,r,o</span>)</span>{<span class="code-keyword">var</span> i=t?t+e:e;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>._events[i])<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> s(<span class="code-keyword">this</span>,i),<span class="code-keyword">this</span>;<span class="code-keyword">var</span> c=<span class="code-keyword">this</span>._events[i];<span class="code-keyword">if</span>(c.fn)c.fn!==n||o&amp;&amp;!c.once||r&amp;&amp;c.context!==r||s(<span class="code-keyword">this</span>,i);<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>,u=[],a=c.length;f&lt;a;f++)(c[f].fn!==n||o&amp;&amp;!c[f].once||r&amp;&amp;c[f].context!==r)&amp;&amp;u.push(c[f]);u.length?<span class="code-keyword">this</span>._events[i]=<span class="code-number">1</span>===u.length?u[<span class="code-number">0</span>]:u:s(<span class="code-keyword">this</span>,i)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},i.prototype.removeAllListeners=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span> e?(r=t?t+e:e,<span class="code-keyword">this</span>._events[r]&amp;&amp;s(<span class="code-keyword">this</span>,r)):(<span class="code-keyword">this</span>._events=<span class="code-keyword">new</span> n,<span class="code-keyword">this</span>._eventsCount=<span class="code-number">0</span>),<span class="code-keyword">this</span>},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>&amp;&amp;(<span class="code-built_in">module</span>.exports=i);
</code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code>},{}],<span class="code-string">"8WOs"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L13" class="css-a4x74f"><span>13</span></td><td id="LC13" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__read||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r,e</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;r[<span class="code-built_in">Symbol</span>.iterator];<span class="code-keyword">if</span>(!o)<span class="code-keyword">return</span> r;<span class="code-keyword">var</span> t,n,l=o.call(r),i=[];<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(;(<span class="code-keyword">void</span> <span class="code-number">0</span>===e||e-- &gt;<span class="code-number">0</span>)&amp;&amp;!(t=l.next()).done;)i.push(t.value)}<span class="code-keyword">catch</span>(s){n={<span class="code-attr">error</span>:s}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{t&amp;&amp;!t.done&amp;&amp;(o=l.return)&amp;&amp;o.call(l)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(n)<span class="code-keyword">throw</span> n.error}}<span class="code-keyword">return</span> i},e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__spread||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],o=<span class="code-number">0</span>;o&lt;<span class="code-built_in">arguments</span>.length;o++)e=e.concat(r(<span class="code-built_in">arguments</span>[o]));<span class="code-keyword">return</span> e};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> o,t=<span class="code-string">"PeerJS: "</span>;!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{r[r.Disabled=<span class="code-number">0</span>]=<span class="code-string">"Disabled"</span>,r[r.Errors=<span class="code-number">1</span>]=<span class="code-string">"Errors"</span>,r[r.Warnings=<span class="code-number">2</span>]=<span class="code-string">"Warnings"</span>,r[r.All=<span class="code-number">3</span>]=<span class="code-string">"All"</span>}(o=exports.LogLevel||(exports.LogLevel={}));<span class="code-keyword">var</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._logLevel=o.Disabled}<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(r.prototype,<span class="code-string">"logLevel"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._logLevel},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">this</span>._logLevel=r},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),r.prototype.log=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],t=<span class="code-number">0</span>;t&lt;<span class="code-built_in">arguments</span>.length;t++)r[t]=<span class="code-built_in">arguments</span>[t];<span class="code-keyword">this</span>._logLevel&gt;=o.All&amp;&amp;<span class="code-keyword">this</span>._print.apply(<span class="code-keyword">this</span>,e([o.All],r))},r.prototype.warn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],t=<span class="code-number">0</span>;t&lt;<span class="code-built_in">arguments</span>.length;t++)r[t]=<span class="code-built_in">arguments</span>[t];<span class="code-keyword">this</span>._logLevel&gt;=o.Warnings&amp;&amp;<span class="code-keyword">this</span>._print.apply(<span class="code-keyword">this</span>,e([o.Warnings],r))},r.prototype.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],t=<span class="code-number">0</span>;t&lt;<span class="code-built_in">arguments</span>.length;t++)r[t]=<span class="code-built_in">arguments</span>[t];<span class="code-keyword">this</span>._logLevel&gt;=o.Errors&amp;&amp;<span class="code-keyword">this</span>._print.apply(<span class="code-keyword">this</span>,e([o.Errors],r))},r.prototype.setLogFunction=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">this</span>._print=r},r.prototype._print=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],l=<span class="code-number">1</span>;l&lt;<span class="code-built_in">arguments</span>.length;l++)n[l<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[l];<span class="code-keyword">var</span> i=e([t],n);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> i)i[s]<span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>&amp;&amp;(i[s]=<span class="code-string">"("</span>+i[s].name+<span class="code-string">") "</span>+i[s].message);r&gt;=o.All?<span class="code-built_in">console</span>.log.apply(<span class="code-built_in">console</span>,e(i)):r&gt;=o.Warnings?<span class="code-built_in">console</span>.warn.apply(<span class="code-built_in">console</span>,e([<span class="code-string">"WARNING"</span>],i)):r&gt;=o.Errors&amp;&amp;<span class="code-built_in">console</span>.error.apply(<span class="code-built_in">console</span>,e([<span class="code-string">"ERROR"</span>],i))},r}();exports.default=<span class="code-keyword">new</span> n;
</code></td></tr><tr><td id="L14" class="css-a4x74f"><span>14</span></td><td id="LC14" class="css-1dcdqdg"><code>},{}],<span class="code-string">"9ZRY"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L15" class="css-a4x74f"><span>15</span></td><td id="LC15" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e,r,n,o,t,a,i;<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Open=<span class="code-string">"open"</span>,e.Stream=<span class="code-string">"stream"</span>,e.Data=<span class="code-string">"data"</span>,e.Close=<span class="code-string">"close"</span>,e.Error=<span class="code-string">"error"</span>,e.IceStateChanged=<span class="code-string">"iceStateChanged"</span>}(e=exports.ConnectionEventType||(exports.ConnectionEventType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Data=<span class="code-string">"data"</span>,e.Media=<span class="code-string">"media"</span>}(r=exports.ConnectionType||(exports.ConnectionType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Open=<span class="code-string">"open"</span>,e.Close=<span class="code-string">"close"</span>,e.Connection=<span class="code-string">"connection"</span>,e.Call=<span class="code-string">"call"</span>,e.Disconnected=<span class="code-string">"disconnected"</span>,e.Error=<span class="code-string">"error"</span>}(n=exports.PeerEventType||(exports.PeerEventType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.BrowserIncompatible=<span class="code-string">"browser-incompatible"</span>,e.Disconnected=<span class="code-string">"disconnected"</span>,e.InvalidID=<span class="code-string">"invalid-id"</span>,e.InvalidKey=<span class="code-string">"invalid-key"</span>,e.Network=<span class="code-string">"network"</span>,e.PeerUnavailable=<span class="code-string">"peer-unavailable"</span>,e.SslUnavailable=<span class="code-string">"ssl-unavailable"</span>,e.ServerError=<span class="code-string">"server-error"</span>,e.SocketError=<span class="code-string">"socket-error"</span>,e.SocketClosed=<span class="code-string">"socket-closed"</span>,e.UnavailableID=<span class="code-string">"unavailable-id"</span>,e.WebRTC=<span class="code-string">"webrtc"</span>}(o=exports.PeerErrorType||(exports.PeerErrorType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Binary=<span class="code-string">"binary"</span>,e.BinaryUTF8=<span class="code-string">"binary-utf8"</span>,e.JSON=<span class="code-string">"json"</span>}(t=exports.SerializationType||(exports.SerializationType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Message=<span class="code-string">"message"</span>,e.Disconnected=<span class="code-string">"disconnected"</span>,e.Error=<span class="code-string">"error"</span>,e.Close=<span class="code-string">"close"</span>}(a=exports.SocketEventType||(exports.SocketEventType={})),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.Heartbeat=<span class="code-string">"HEARTBEAT"</span>,e.Candidate=<span class="code-string">"CANDIDATE"</span>,e.Offer=<span class="code-string">"OFFER"</span>,e.Answer=<span class="code-string">"ANSWER"</span>,e.Open=<span class="code-string">"OPEN"</span>,e.Error=<span class="code-string">"ERROR"</span>,e.IdTaken=<span class="code-string">"ID-TAKEN"</span>,e.InvalidKey=<span class="code-string">"INVALID-KEY"</span>,e.Leave=<span class="code-string">"LEAVE"</span>,e.Expire=<span class="code-string">"EXPIRE"</span>}(i=exports.ServerMessageType||(exports.ServerMessageType={}));
</code></td></tr><tr><td id="L16" class="css-a4x74f"><span>16</span></td><td id="LC16" class="css-1dcdqdg"><code>},{}],<span class="code-string">"wJlv"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L17" class="css-a4x74f"><span>17</span></td><td id="LC17" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__extends||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,s</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.__proto__=t}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> t)t.hasOwnProperty(s)&amp;&amp;(e[s]=t[s])})(t,s)};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,s</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}e(t,s),t.prototype=<span class="code-literal">null</span>===s?<span class="code-built_in">Object</span>.create(s):(n.prototype=s.prototype,<span class="code-keyword">new</span> n)}}(),t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__read||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> s=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator];<span class="code-keyword">if</span>(!s)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> n,r,o=s.call(e),i=[];<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(;(<span class="code-keyword">void</span> <span class="code-number">0</span>===t||t-- &gt;<span class="code-number">0</span>)&amp;&amp;!(n=o.next()).done;)i.push(n.value)}<span class="code-keyword">catch</span>(c){r={<span class="code-attr">error</span>:c}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{n&amp;&amp;!n.done&amp;&amp;(s=o.return)&amp;&amp;s.call(o)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(r)<span class="code-keyword">throw</span> r.error}}<span class="code-keyword">return</span> i},s=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__spread||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],s=<span class="code-number">0</span>;s&lt;<span class="code-built_in">arguments</span>.length;s++)e=e.concat(t(<span class="code-built_in">arguments</span>[s]));<span class="code-keyword">return</span> e},n=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__values||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator],s=<span class="code-number">0</span>;<span class="code-keyword">return</span> t?t.call(e):{<span class="code-attr">next</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;s&gt;=e.length&amp;&amp;(e=<span class="code-keyword">void</span> <span class="code-number">0</span>),{<span class="code-attr">value</span>:e&amp;&amp;e[s++],<span class="code-attr">done</span>:!e}}}},r=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importDefault||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.__esModule?e:{<span class="code-attr">default</span>:e}};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> o=<span class="code-built_in">require</span>(<span class="code-string">"eventemitter3"</span>),i=r(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),c=<span class="code-built_in">require</span>(<span class="code-string">"./enums"</span>),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e,s,n,r,o,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">5e3</span>);<span class="code-keyword">var</span> c=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;c.pingInterval=i,c._disconnected=!<span class="code-number">1</span>,c._messagesQueue=[];<span class="code-keyword">var</span> a=e?<span class="code-string">"wss://"</span>:<span class="code-string">"ws://"</span>;<span class="code-keyword">return</span> c._wsUrl=a+s+<span class="code-string">":"</span>+n+r+<span class="code-string">"peerjs?key="</span>+o,c}<span class="code-keyword">return</span> e(r,t),r.prototype.start=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>._id=e,<span class="code-keyword">this</span>._wsUrl+=<span class="code-string">"&amp;id="</span>+e+<span class="code-string">"&amp;token="</span>+t,<span class="code-keyword">this</span>._startWebSocket()},r.prototype._startWebSocket=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._socket||(<span class="code-keyword">this</span>._socket=<span class="code-keyword">new</span> WebSocket(<span class="code-keyword">this</span>._wsUrl),<span class="code-keyword">this</span>._socket.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> s;<span class="code-keyword">try</span>{s=<span class="code-built_in">JSON</span>.parse(t.data)}<span class="code-keyword">catch</span>(n){<span class="code-keyword">return</span> <span class="code-keyword">void</span> i.default.log(<span class="code-string">"Invalid server message"</span>,t.data)}e.emit(c.SocketEventType.Message,s)},<span class="code-keyword">this</span>._socket.onclose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i.default.log(<span class="code-string">"Socket closed."</span>,t),e._disconnected=!<span class="code-number">0</span>,clearTimeout(e._wsPingTimer),e.emit(c.SocketEventType.Disconnected)},<span class="code-keyword">this</span>._socket.onopen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e._disconnected||(e._sendQueuedMessages(),i.default.log(<span class="code-string">"Socket open"</span>),e._scheduleHeartbeat())})},r.prototype._scheduleHeartbeat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._wsPingTimer=setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e._sendHeartbeat()},<span class="code-keyword">this</span>.pingInterval)},r.prototype._sendHeartbeat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._wsOpen()){<span class="code-keyword">var</span> e=<span class="code-built_in">JSON</span>.stringify({<span class="code-attr">type</span>:c.ServerMessageType.Heartbeat});<span class="code-keyword">this</span>._socket.send(e),<span class="code-keyword">this</span>._scheduleHeartbeat()}<span class="code-keyword">else</span> i.default.log(<span class="code-string">"Cannot send heartbeat, because socket closed"</span>)},r.prototype._wsOpen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>._socket&amp;&amp;<span class="code-number">1</span>==<span class="code-keyword">this</span>._socket.readyState},r.prototype._sendQueuedMessages=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,r=s(<span class="code-keyword">this</span>._messagesQueue);<span class="code-keyword">this</span>._messagesQueue=[];<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=n(r),i=o.next();!i.done;i=o.next()){<span class="code-keyword">var</span> c=i.value;<span class="code-keyword">this</span>.send(c)}}<span class="code-keyword">catch</span>(a){e={<span class="code-attr">error</span>:a}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{i&amp;&amp;!i.done&amp;&amp;(t=o.return)&amp;&amp;t.call(o)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">throw</span> e.error}}},r.prototype.send=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>._disconnected)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._id)<span class="code-keyword">if</span>(e.type){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._wsOpen()){<span class="code-keyword">var</span> t=<span class="code-built_in">JSON</span>.stringify(e);<span class="code-keyword">this</span>._socket.send(t)}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.emit(c.SocketEventType.Error,<span class="code-string">"Invalid message"</span>);<span class="code-keyword">else</span> <span class="code-keyword">this</span>._messagesQueue.push(e)},r.prototype.close=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{!<span class="code-keyword">this</span>._disconnected&amp;&amp;<span class="code-keyword">this</span>._socket&amp;&amp;(<span class="code-keyword">this</span>._socket.close(),<span class="code-keyword">this</span>._disconnected=!<span class="code-number">0</span>,clearTimeout(<span class="code-keyword">this</span>._wsPingTimer))},r}(o.EventEmitter);exports.Socket=a;
</code></td></tr><tr><td id="L18" class="css-a4x74f"><span>18</span></td><td id="LC18" class="css-1dcdqdg"><code>},{<span class="code-string">"eventemitter3"</span>:<span class="code-string">"2JJl"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>,<span class="code-string">"./enums"</span>:<span class="code-string">"9ZRY"</span>}],<span class="code-string">"T9kO"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L19" class="css-a4x74f"><span>19</span></td><td id="LC19" class="css-1dcdqdg"><code><span class="code-keyword">var</span> global = <span class="code-built_in">arguments</span>[<span class="code-number">3</span>];
</code></td></tr><tr><td id="L20" class="css-a4x74f"><span>20</span></td><td id="LC20" class="css-1dcdqdg"><code><span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>[<span class="code-number">3</span>],r=<span class="code-built_in">require</span>(<span class="code-string">"js-binarypack"</span>),t={<span class="code-attr">debug</span>:!<span class="code-number">1</span>,<span class="code-attr">inherits</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{e.super_=r,e.prototype=<span class="code-built_in">Object</span>.create(r.prototype,{<span class="code-attr">constructor</span>:{<span class="code-attr">value</span>:e,<span class="code-attr">enumerable</span>:!<span class="code-number">1</span>,<span class="code-attr">writable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}})},<span class="code-attr">extend</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> r)r.hasOwnProperty(t)&amp;&amp;(e[t]=r[t]);<span class="code-keyword">return</span> e},<span class="code-attr">pack</span>:r.pack,<span class="code-attr">unpack</span>:r.unpack,<span class="code-attr">log</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(t.debug){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],r=<span class="code-number">0</span>;r&lt;<span class="code-built_in">arguments</span>.length;r++)e[r]=<span class="code-built_in">arguments</span>[r];e.unshift(<span class="code-string">"Reliable: "</span>),<span class="code-built_in">console</span>.log.apply(<span class="code-built_in">console</span>,e)}},<span class="code-attr">setZeroTimeout</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r=[],t=<span class="code-string">"zero-timeout-message"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">n</span>)</span>{n.source==e&amp;&amp;n.data==t&amp;&amp;(n.stopPropagation&amp;&amp;n.stopPropagation(),r.length&amp;&amp;r.shift()())}<span class="code-keyword">return</span> e.addEventListener?e.addEventListener(<span class="code-string">"message"</span>,n,!<span class="code-number">0</span>):e.attachEvent&amp;&amp;e.attachEvent(<span class="code-string">"onmessage"</span>,n),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{r.push(n),e.postMessage(t,<span class="code-string">"*"</span>)}}(<span class="code-keyword">this</span>),<span class="code-attr">blobToArrayBuffer</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> FileReader;t.onload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r(e.target.result)},t.readAsArrayBuffer(e)},<span class="code-attr">blobToBinaryString</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> FileReader;t.onload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r(e.target.result)},t.readAsBinaryString(e)},<span class="code-attr">binaryStringToArrayBuffer</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.length),t=<span class="code-number">0</span>;t&lt;e.length;t++)r[t]=<span class="code-number">255</span>&amp;e.charCodeAt(t);<span class="code-keyword">return</span> r.buffer},<span class="code-attr">randomToken</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.random().toString(<span class="code-number">36</span>).substr(<span class="code-number">2</span>)}};<span class="code-built_in">module</span>.exports=t;
</code></td></tr><tr><td id="L21" class="css-a4x74f"><span>21</span></td><td id="LC21" class="css-1dcdqdg"><code>},{<span class="code-string">"js-binarypack"</span>:<span class="code-string">"lHOc"</span>}],<span class="code-string">"aYFJ"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L22" class="css-a4x74f"><span>22</span></td><td id="LC22" class="css-1dcdqdg"><code><span class="code-keyword">var</span> t=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">n,i</span>)</span>{<span class="code-keyword">if</span>(!(<span class="code-keyword">this</span> <span class="code-keyword">instanceof</span> e))<span class="code-keyword">return</span> <span class="code-keyword">new</span> e(n);<span class="code-keyword">this</span>._dc=n,t.debug=i,<span class="code-keyword">this</span>._outgoing={},<span class="code-keyword">this</span>._incoming={},<span class="code-keyword">this</span>._received={},<span class="code-keyword">this</span>._window=<span class="code-number">1e3</span>,<span class="code-keyword">this</span>._mtu=<span class="code-number">500</span>,<span class="code-keyword">this</span>._interval=<span class="code-number">0</span>,<span class="code-keyword">this</span>._count=<span class="code-number">0</span>,<span class="code-keyword">this</span>._queue=[],<span class="code-keyword">this</span>._setupDC()}e.prototype.send=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=t.pack(e);n.size&lt;<span class="code-keyword">this</span>._mtu?<span class="code-keyword">this</span>._handleSend([<span class="code-string">"no"</span>,n]):(<span class="code-keyword">this</span>._outgoing[<span class="code-keyword">this</span>._count]={<span class="code-attr">ack</span>:<span class="code-number">0</span>,<span class="code-attr">chunks</span>:<span class="code-keyword">this</span>._chunk(n)},t.debug&amp;&amp;(<span class="code-keyword">this</span>._outgoing[<span class="code-keyword">this</span>._count].timer=<span class="code-keyword">new</span> <span class="code-built_in">Date</span>),<span class="code-keyword">this</span>._sendWindowedChunks(<span class="code-keyword">this</span>._count),<span class="code-keyword">this</span>._count+=<span class="code-number">1</span>)},e.prototype._setupInterval=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._timeout=setInterval(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t._queue.shift();<span class="code-keyword">if</span>(e._multiple)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>,i=e.length;n&lt;i;n+=<span class="code-number">1</span>)t._intervalSend(e[n]);<span class="code-keyword">else</span> t._intervalSend(e)},<span class="code-keyword">this</span>._interval)},e.prototype._intervalSend=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;e=t.pack(e),t.blobToBinaryString(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{n._dc.send(t)}),<span class="code-number">0</span>===n._queue.length&amp;&amp;(clearTimeout(n._timeout),n._timeout=<span class="code-literal">null</span>)},e.prototype._processAcks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> <span class="code-keyword">this</span>._outgoing)<span class="code-keyword">this</span>._outgoing.hasOwnProperty(t)&amp;&amp;<span class="code-keyword">this</span>._sendWindowedChunks(t)},e.prototype._handleSend=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=!<span class="code-number">0</span>,n=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>._queue.length;n&lt;i;n+=<span class="code-number">1</span>){<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>._queue[n];o===t?e=!<span class="code-number">1</span>:o._multiple&amp;&amp;<span class="code-number">-1</span>!==o.indexOf(t)&amp;&amp;(e=!<span class="code-number">1</span>)}e&amp;&amp;(<span class="code-keyword">this</span>._queue.push(t),<span class="code-keyword">this</span>._timeout||<span class="code-keyword">this</span>._setupInterval())},e.prototype._setupDC=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._dc.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> i=n.data;<span class="code-keyword">if</span>(i.constructor===<span class="code-built_in">String</span>){<span class="code-keyword">var</span> o=t.binaryStringToArrayBuffer(i);i=t.unpack(o),e._handleMessage(i)}}},e.prototype._handleMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n,i=e[<span class="code-number">1</span>],o=<span class="code-keyword">this</span>._incoming[i],s=<span class="code-keyword">this</span>._outgoing[i];<span class="code-keyword">switch</span>(e[<span class="code-number">0</span>]){<span class="code-keyword">case</span><span class="code-string">"no"</span>:<span class="code-keyword">var</span> a=i;a&amp;&amp;<span class="code-keyword">this</span>.onmessage(t.unpack(a));<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"end"</span>:<span class="code-keyword">if</span>(n=o,<span class="code-keyword">this</span>._received[i]=e[<span class="code-number">2</span>],!n)<span class="code-keyword">break</span>;<span class="code-keyword">this</span>._ack(i);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ack"</span>:<span class="code-keyword">if</span>(n=s){<span class="code-keyword">var</span> h=e[<span class="code-number">2</span>];n.ack=<span class="code-built_in">Math</span>.max(h,n.ack),n.ack&gt;=n.chunks.length?(t.log(<span class="code-string">"Time: "</span>,<span class="code-keyword">new</span> <span class="code-built_in">Date</span>-n.timer),<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._outgoing[i]):<span class="code-keyword">this</span>._processAcks()}<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"chunk"</span>:<span class="code-keyword">if</span>(!(n=o)){<span class="code-keyword">if</span>(!<span class="code-number">0</span>===<span class="code-keyword">this</span>._received[i])<span class="code-keyword">break</span>;n={<span class="code-attr">ack</span>:[<span class="code-string">"ack"</span>,i,<span class="code-number">0</span>],<span class="code-attr">chunks</span>:[]},<span class="code-keyword">this</span>._incoming[i]=n}<span class="code-keyword">var</span> r=e[<span class="code-number">2</span>],u=e[<span class="code-number">3</span>];n.chunks[r]=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(u),r===n.ack[<span class="code-number">2</span>]&amp;&amp;<span class="code-keyword">this</span>._calculateNextAck(i),<span class="code-keyword">this</span>._ack(i);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">this</span>._handleSend(e)}},e.prototype._chunk=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],i=e.size,o=<span class="code-number">0</span>;o&lt;i;){<span class="code-keyword">var</span> s=<span class="code-built_in">Math</span>.min(i,o+<span class="code-keyword">this</span>._mtu),a={<span class="code-attr">payload</span>:e.slice(o,s)};n.push(a),o=s}<span class="code-keyword">return</span> t.log(<span class="code-string">"Created"</span>,n.length,<span class="code-string">"chunks."</span>),n},e.prototype._ack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._incoming[t].ack;<span class="code-keyword">this</span>._received[t]===e[<span class="code-number">2</span>]&amp;&amp;(<span class="code-keyword">this</span>._complete(t),<span class="code-keyword">this</span>._received[t]=!<span class="code-number">0</span>),<span class="code-keyword">this</span>._handleSend(e)},e.prototype._calculateNextAck=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._incoming[t],n=e.chunks,i=<span class="code-number">0</span>,o=n.length;i&lt;o;i+=<span class="code-number">1</span>)<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n[i])<span class="code-keyword">return</span> <span class="code-keyword">void</span>(e.ack[<span class="code-number">2</span>]=i);e.ack[<span class="code-number">2</span>]=n.length},e.prototype._sendWindowedChunks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.log(<span class="code-string">"sendWindowedChunks for: "</span>,e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._outgoing[e],i=n.chunks,o=[],s=<span class="code-built_in">Math</span>.min(n.ack+<span class="code-keyword">this</span>._window,i.length),a=n.ack;a&lt;s;a+=<span class="code-number">1</span>)i[a].sent&amp;&amp;a!==n.ack||(i[a].sent=!<span class="code-number">0</span>,o.push([<span class="code-string">"chunk"</span>,e,a,i[a].payload]));n.ack+<span class="code-keyword">this</span>._window&gt;=i.length&amp;&amp;o.push([<span class="code-string">"end"</span>,e,i.length]),o._multiple=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._handleSend(o)},e.prototype._complete=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.log(<span class="code-string">"Completed called for"</span>,e);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,i=<span class="code-keyword">this</span>._incoming[e].chunks,o=<span class="code-keyword">new</span> Blob(i);t.blobToArrayBuffer(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.onmessage(t.unpack(e))}),<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._incoming[e]},e.higherBandwidthSDP=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=navigator.appVersion.match(<span class="code-regexp">/Chrome\/(.*?) /</span>);<span class="code-keyword">if</span>(e&amp;&amp;(e=<span class="code-built_in">parseInt</span>(e[<span class="code-number">1</span>].split(<span class="code-string">"."</span>).shift()))&lt;<span class="code-number">31</span>){<span class="code-keyword">var</span> n=t.split(<span class="code-string">"b=AS:30"</span>);<span class="code-keyword">if</span>(n.length&gt;<span class="code-number">1</span>)<span class="code-keyword">return</span> n[<span class="code-number">0</span>]+<span class="code-string">"b=AS:102400"</span>+n[<span class="code-number">1</span>]}<span class="code-keyword">return</span> t},e.prototype.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{},<span class="code-built_in">module</span>.exports=e;
</code></td></tr><tr><td id="L23" class="css-a4x74f"><span>23</span></td><td id="LC23" class="css-1dcdqdg"><code>},{<span class="code-string">"./util"</span>:<span class="code-string">"T9kO"</span>}],<span class="code-string">"HCdX"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L24" class="css-a4x74f"><span>24</span></td><td id="LC24" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-built_in">Object</span>.assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,t=<span class="code-number">1</span>,o=<span class="code-built_in">arguments</span>.length;t&lt;o;t++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> n=<span class="code-built_in">arguments</span>[t])<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(n,i)&amp;&amp;(e[i]=n[i]);<span class="code-keyword">return</span> e}).apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},n=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__awaiter||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n,t,o</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span>(t||(t=<span class="code-built_in">Promise</span>))(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{s(o.next(e))}<span class="code-keyword">catch</span>(n){r(n)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{s(o.throw(e))}<span class="code-keyword">catch</span>(n){r(n)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e</span>)</span>{e.done?i(e.value):<span class="code-keyword">new</span> t(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{n(e.value)}).then(c,a)}s((o=o.apply(e,n||[])).next())})},t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__generator||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> t,o,i,r,c={<span class="code-attr">label</span>:<span class="code-number">0</span>,<span class="code-attr">sent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>&amp;i[<span class="code-number">0</span>])<span class="code-keyword">throw</span> i[<span class="code-number">1</span>];<span class="code-keyword">return</span> i[<span class="code-number">1</span>]},<span class="code-attr">trys</span>:[],<span class="code-attr">ops</span>:[]};<span class="code-keyword">return</span> r={<span class="code-attr">next</span>:a(<span class="code-number">0</span>),<span class="code-attr">throw</span>:a(<span class="code-number">1</span>),<span class="code-attr">return</span>:a(<span class="code-number">2</span>)},<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;(r[<span class="code-built_in">Symbol</span>.iterator]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>}),r;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">if</span>(t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Generator is already executing."</span>);<span class="code-keyword">for</span>(;c;)<span class="code-keyword">try</span>{<span class="code-keyword">if</span>(t=<span class="code-number">1</span>,o&amp;&amp;(i=<span class="code-number">2</span>&amp;r[<span class="code-number">0</span>]?o.return:r[<span class="code-number">0</span>]?o.throw||((i=o.return)&amp;&amp;i.call(o),<span class="code-number">0</span>):o.next)&amp;&amp;!(i=i.call(o,r[<span class="code-number">1</span>])).done)<span class="code-keyword">return</span> i;<span class="code-keyword">switch</span>(o=<span class="code-number">0</span>,i&amp;&amp;(r=[<span class="code-number">2</span>&amp;r[<span class="code-number">0</span>],i.value]),r[<span class="code-number">0</span>]){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">case</span> <span class="code-number">1</span>:i=r;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span> c.label++,{<span class="code-attr">value</span>:r[<span class="code-number">1</span>],<span class="code-attr">done</span>:!<span class="code-number">1</span>};<span class="code-keyword">case</span> <span class="code-number">5</span>:c.label++,o=r[<span class="code-number">1</span>],r=[<span class="code-number">0</span>];<span class="code-keyword">continue</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:r=c.ops.pop(),c.trys.pop();<span class="code-keyword">continue</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(!(i=(i=c.trys).length&gt;<span class="code-number">0</span>&amp;&amp;i[i.length<span class="code-number">-1</span>])&amp;&amp;(<span class="code-number">6</span>===r[<span class="code-number">0</span>]||<span class="code-number">2</span>===r[<span class="code-number">0</span>])){c=<span class="code-number">0</span>;<span class="code-keyword">continue</span>}<span class="code-keyword">if</span>(<span class="code-number">3</span>===r[<span class="code-number">0</span>]&amp;&amp;(!i||r[<span class="code-number">1</span>]&gt;i[<span class="code-number">0</span>]&amp;&amp;r[<span class="code-number">1</span>]&lt;i[<span class="code-number">3</span>])){c.label=r[<span class="code-number">1</span>];<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(<span class="code-number">6</span>===r[<span class="code-number">0</span>]&amp;&amp;c.label&lt;i[<span class="code-number">1</span>]){c.label=i[<span class="code-number">1</span>],i=r;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(i&amp;&amp;c.label&lt;i[<span class="code-number">2</span>]){c.label=i[<span class="code-number">2</span>],c.ops.push(r);<span class="code-keyword">break</span>}i[<span class="code-number">2</span>]&amp;&amp;c.ops.pop(),c.trys.pop();<span class="code-keyword">continue</span>}r=n.call(e,c)}<span class="code-keyword">catch</span>(a){r=[<span class="code-number">6</span>,a],o=<span class="code-number">0</span>}<span class="code-keyword">finally</span>{t=i=<span class="code-number">0</span>}<span class="code-keyword">if</span>(<span class="code-number">5</span>&amp;r[<span class="code-number">0</span>])<span class="code-keyword">throw</span> r[<span class="code-number">1</span>];<span class="code-keyword">return</span>{<span class="code-attr">value</span>:r[<span class="code-number">0</span>]?r[<span class="code-number">1</span>]:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>}}([r,a])}}},o=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importStar||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.__esModule)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> n={};<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> e)<span class="code-built_in">Object</span>.hasOwnProperty.call(e,t)&amp;&amp;(n[t]=e[t]);<span class="code-keyword">return</span> n.default=e,n},i=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importDefault||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.__esModule?e:{<span class="code-attr">default</span>:e}};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> r=o(<span class="code-built_in">require</span>(<span class="code-string">"reliable"</span>)),c=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),a=i(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),s=<span class="code-built_in">require</span>(<span class="code-string">"./adapter"</span>),l=<span class="code-built_in">require</span>(<span class="code-string">"./enums"</span>),d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.connection=e}<span class="code-keyword">return</span> o.prototype.startConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>._startPeerConnection();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.connection.peerConnection=n,<span class="code-keyword">this</span>.connection.type===l.ConnectionType.Media&amp;&amp;e._stream&amp;&amp;<span class="code-keyword">this</span>._addTracksToConnection(e._stream,n),e.originator){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.connection.type===l.ConnectionType.Data){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.connection,o={};c.util.supports.sctp||(o={<span class="code-attr">reliable</span>:e.reliable});<span class="code-keyword">var</span> i=n.createDataChannel(t.label,o);t.initialize(i)}<span class="code-keyword">this</span>._makeOffer()}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.handleSDP(<span class="code-string">"OFFER"</span>,e.sdp)},o.prototype._startPeerConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.default.log(<span class="code-string">"Creating RTCPeerConnection."</span>);<span class="code-keyword">var</span> e={};<span class="code-keyword">this</span>.connection.type!==l.ConnectionType.Data||c.util.supports.sctp?<span class="code-keyword">this</span>.connection.type===l.ConnectionType.Media&amp;&amp;(e={<span class="code-attr">optional</span>:[{<span class="code-attr">DtlsSrtpKeyAgreement</span>:!<span class="code-number">0</span>}]}):e={<span class="code-attr">optional</span>:[{<span class="code-attr">RtpDataChannels</span>:!<span class="code-number">0</span>}]};<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> s.RTCPeerConnection(<span class="code-keyword">this</span>.connection.provider.options.config,e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._setupListeners(n),n},o.prototype._setupListeners=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.connection.peer,o=<span class="code-keyword">this</span>.connection.connectionId,i=<span class="code-keyword">this</span>.connection.type,r=<span class="code-keyword">this</span>.connection.provider;a.default.log(<span class="code-string">"Listening for ICE candidates."</span>),e.onicecandidate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.candidate&amp;&amp;(a.default.log(<span class="code-string">"Received ICE candidates for:"</span>,t),r.socket.send({<span class="code-attr">type</span>:l.ServerMessageType.Candidate,<span class="code-attr">payload</span>:{<span class="code-attr">candidate</span>:e.candidate,<span class="code-attr">type</span>:i,<span class="code-attr">connectionId</span>:o},<span class="code-attr">dst</span>:t}))},e.oniceconnectionstatechange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">switch</span>(e.iceConnectionState){<span class="code-keyword">case</span><span class="code-string">"failed"</span>:a.default.log(<span class="code-string">"iceConnectionState is failed, closing connections to "</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Negotiation of connection to "</span>+t+<span class="code-string">" failed."</span>)),n.connection.close();<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"closed"</span>:a.default.log(<span class="code-string">"iceConnectionState is closed, closing connections to "</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Connection to "</span>+t+<span class="code-string">" closed."</span>)),n.connection.close();<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"disconnected"</span>:a.default.log(<span class="code-string">"iceConnectionState is disconnected, closing connections to "</span>+t),n.connection.emit(l.ConnectionEventType.Error,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Connection to "</span>+t+<span class="code-string">" disconnected."</span>)),n.connection.close();<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"completed"</span>:e.onicecandidate=c.util.noop}n.connection.emit(l.ConnectionEventType.IceStateChanged,e.iceConnectionState)},a.default.log(<span class="code-string">"Listening for data channel"</span>),e.ondatachannel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.default.log(<span class="code-string">"Received data channel"</span>);<span class="code-keyword">var</span> n=e.channel;r.getConnection(t,o).initialize(n)},a.default.log(<span class="code-string">"Listening for remote stream"</span>),e.ontrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.default.log(<span class="code-string">"Received remote stream"</span>);<span class="code-keyword">var</span> i=e.streams[<span class="code-number">0</span>],c=r.getConnection(t,o);<span class="code-keyword">if</span>(c.type===l.ConnectionType.Media){<span class="code-keyword">var</span> s=c;n._addStreamToMediaConnection(i,s)}}},o.prototype.cleanup=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.default.log(<span class="code-string">"Cleaning up PeerConnection to "</span>+<span class="code-keyword">this</span>.connection.peer);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.connection.peerConnection;<span class="code-keyword">if</span>(e){<span class="code-keyword">this</span>.connection.peerConnection=<span class="code-literal">null</span>,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{};<span class="code-keyword">var</span> n=<span class="code-string">"closed"</span>!==e.signalingState,t=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.connection.type===l.ConnectionType.Data){<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.connection.dataChannel;o&amp;&amp;(t=!!o.readyState&amp;&amp;<span class="code-string">"closed"</span>!==o.readyState)}(n||t)&amp;&amp;e.close()}},o.prototype._makeOffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,o,i,s,d,p,u;<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:n=<span class="code-keyword">this</span>.connection.peerConnection,o=<span class="code-keyword">this</span>.connection.provider,t.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">1</span>,<span class="code-number">7</span>,,<span class="code-number">8</span>]),[<span class="code-number">4</span>,n.createOffer(<span class="code-keyword">this</span>.connection.options.constraints)];<span class="code-keyword">case</span> <span class="code-number">2</span>:i=t.sent(),a.default.log(<span class="code-string">"Created offer."</span>),c.util.supports.sctp||<span class="code-keyword">this</span>.connection.type!==l.ConnectionType.Data||(d=<span class="code-keyword">this</span>.connection).reliable&amp;&amp;(i.sdp=r.higherBandwidthSDP(i.sdp)),<span class="code-keyword">this</span>.connection.options.sdpTransform&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.connection.options.sdpTransform&amp;&amp;(i.sdp=<span class="code-keyword">this</span>.connection.options.sdpTransform(i.sdp)||i.sdp),t.label=<span class="code-number">3</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">3</span>,<span class="code-number">5</span>,,<span class="code-number">6</span>]),[<span class="code-number">4</span>,n.setLocalDescription(i)];<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span> t.sent(),a.default.log(<span class="code-string">"Set localDescription:"</span>,i,<span class="code-string">"for:"</span>+<span class="code-keyword">this</span>.connection.peer),s={<span class="code-attr">sdp</span>:i,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.connection.type,<span class="code-attr">connectionId</span>:<span class="code-keyword">this</span>.connection.connectionId,<span class="code-attr">metadata</span>:<span class="code-keyword">this</span>.connection.metadata,<span class="code-attr">browser</span>:c.util.browser},<span class="code-keyword">this</span>.connection.type===l.ConnectionType.Data&amp;&amp;(d=<span class="code-keyword">this</span>.connection,s=e({},s,{<span class="code-attr">label</span>:d.label,<span class="code-attr">reliable</span>:d.reliable,<span class="code-attr">serialization</span>:d.serialization})),o.socket.send({<span class="code-attr">type</span>:l.ServerMessageType.Offer,<span class="code-attr">payload</span>:s,<span class="code-attr">dst</span>:<span class="code-keyword">this</span>.connection.peer}),[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">5</span>:<span class="code-keyword">return</span><span class="code-string">"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"</span>!=(p=t.sent())&amp;&amp;(o.emitError(l.PeerErrorType.WebRTC,p),a.default.log(<span class="code-string">"Failed to setLocalDescription, "</span>,p)),[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">return</span>[<span class="code-number">3</span>,<span class="code-number">8</span>];<span class="code-keyword">case</span> <span class="code-number">7</span>:<span class="code-keyword">return</span> u=t.sent(),o.emitError(l.PeerErrorType.WebRTC,u),a.default.log(<span class="code-string">"Failed to createOffer, "</span>,u),[<span class="code-number">3</span>,<span class="code-number">8</span>];<span class="code-keyword">case</span> <span class="code-number">8</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},o.prototype._makeAnswer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,n,o,i,s;<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:e=<span class="code-keyword">this</span>.connection.peerConnection,n=<span class="code-keyword">this</span>.connection.provider,t.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">1</span>,<span class="code-number">7</span>,,<span class="code-number">8</span>]),[<span class="code-number">4</span>,e.createAnswer()];<span class="code-keyword">case</span> <span class="code-number">2</span>:o=t.sent(),a.default.log(<span class="code-string">"Created answer."</span>),c.util.supports.sctp||<span class="code-keyword">this</span>.connection.type!==l.ConnectionType.Data||<span class="code-keyword">this</span>.connection.reliable&amp;&amp;(o.sdp=r.higherBandwidthSDP(o.sdp)),<span class="code-keyword">this</span>.connection.options.sdpTransform&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.connection.options.sdpTransform&amp;&amp;(o.sdp=<span class="code-keyword">this</span>.connection.options.sdpTransform(o.sdp)||o.sdp),t.label=<span class="code-number">3</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">3</span>,<span class="code-number">5</span>,,<span class="code-number">6</span>]),[<span class="code-number">4</span>,e.setLocalDescription(o)];<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span> t.sent(),a.default.log(<span class="code-string">"Set localDescription:"</span>,o,<span class="code-string">"for:"</span>+<span class="code-keyword">this</span>.connection.peer),n.socket.send({<span class="code-attr">type</span>:l.ServerMessageType.Answer,<span class="code-attr">payload</span>:{<span class="code-attr">sdp</span>:o,<span class="code-attr">type</span>:<span class="code-keyword">this</span>.connection.type,<span class="code-attr">connectionId</span>:<span class="code-keyword">this</span>.connection.connectionId,<span class="code-attr">browser</span>:c.util.browser},<span class="code-attr">dst</span>:<span class="code-keyword">this</span>.connection.peer}),[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">5</span>:<span class="code-keyword">return</span> i=t.sent(),n.emitError(l.PeerErrorType.WebRTC,i),a.default.log(<span class="code-string">"Failed to setLocalDescription, "</span>,i),[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">return</span>[<span class="code-number">3</span>,<span class="code-number">8</span>];<span class="code-keyword">case</span> <span class="code-number">7</span>:<span class="code-keyword">return</span> s=t.sent(),n.emitError(l.PeerErrorType.WebRTC,s),a.default.log(<span class="code-string">"Failed to create answer, "</span>,s),[<span class="code-number">3</span>,<span class="code-number">8</span>];<span class="code-keyword">case</span> <span class="code-number">8</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},o.prototype.handleSDP=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,o</span>)</span>{<span class="code-keyword">return</span> n(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,i,r,c;<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:o=<span class="code-keyword">new</span> s.RTCSessionDescription(o),n=<span class="code-keyword">this</span>.connection.peerConnection,i=<span class="code-keyword">this</span>.connection.provider,a.default.log(<span class="code-string">"Setting remote description"</span>,o),r=<span class="code-keyword">this</span>,t.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">1</span>,<span class="code-number">5</span>,,<span class="code-number">6</span>]),[<span class="code-number">4</span>,n.setRemoteDescription(o)];<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">return</span> t.sent(),a.default.log(<span class="code-string">"Set remoteDescription:"</span>+e+<span class="code-string">" for:"</span>+<span class="code-keyword">this</span>.connection.peer),<span class="code-string">"OFFER"</span>!==e?[<span class="code-number">3</span>,<span class="code-number">4</span>]:[<span class="code-number">4</span>,r._makeAnswer()];<span class="code-keyword">case</span> <span class="code-number">3</span>:t.sent(),t.label=<span class="code-number">4</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span>[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">5</span>:<span class="code-keyword">return</span> c=t.sent(),i.emitError(l.PeerErrorType.WebRTC,c),a.default.log(<span class="code-string">"Failed to setRemoteDescription, "</span>,c),[<span class="code-number">3</span>,<span class="code-number">6</span>];<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},o.prototype.handleCandidate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,o,i,r,c,d;<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:n=e.candidate,o=e.sdpMLineIndex,i=e.sdpMid,r=<span class="code-keyword">this</span>.connection.peerConnection,c=<span class="code-keyword">this</span>.connection.provider,t.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> t.trys.push([<span class="code-number">1</span>,<span class="code-number">3</span>,,<span class="code-number">4</span>]),[<span class="code-number">4</span>,r.addIceCandidate(<span class="code-keyword">new</span> s.RTCIceCandidate({<span class="code-attr">sdpMid</span>:i,<span class="code-attr">sdpMLineIndex</span>:o,<span class="code-attr">candidate</span>:n}))];<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">return</span> t.sent(),a.default.log(<span class="code-string">"Added ICE candidate for:"</span>+<span class="code-keyword">this</span>.connection.peer),[<span class="code-number">3</span>,<span class="code-number">4</span>];<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">return</span> d=t.sent(),c.emitError(l.PeerErrorType.WebRTC,d),a.default.log(<span class="code-string">"Failed to handleCandidate, "</span>,d),[<span class="code-number">3</span>,<span class="code-number">4</span>];<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},o.prototype._addTracksToConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">if</span>(a.default.log(<span class="code-string">"add tracks from stream "</span>+e.id+<span class="code-string">" to peer connection"</span>),!n.addTrack)<span class="code-keyword">return</span> a.default.error(<span class="code-string">"Your browser does't support RTCPeerConnection#addTrack. Ignored."</span>);e.getTracks().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{n.addTrack(t,e)})},o.prototype._addStreamToMediaConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{a.default.log(<span class="code-string">"add stream "</span>+e.id+<span class="code-string">" to media connection "</span>+n.connectionId),n.addStream(e)},o}();exports.Negotiator=d;
</code></td></tr><tr><td id="L25" class="css-a4x74f"><span>25</span></td><td id="LC25" class="css-1dcdqdg"><code>},{<span class="code-string">"reliable"</span>:<span class="code-string">"aYFJ"</span>,<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>,<span class="code-string">"./adapter"</span>:<span class="code-string">"sXtV"</span>,<span class="code-string">"./enums"</span>:<span class="code-string">"9ZRY"</span>}],<span class="code-string">"tQFK"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L26" class="css-a4x74f"><span>26</span></td><td id="LC26" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__extends||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{t.__proto__=e}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r <span class="code-keyword">in</span> e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])})(e,r)};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=e}t(e,r),e.prototype=<span class="code-literal">null</span>===r?<span class="code-built_in">Object</span>.create(r):(n.prototype=r.prototype,<span class="code-keyword">new</span> n)}}();<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> e=<span class="code-built_in">require</span>(<span class="code-string">"eventemitter3"</span>),r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t,r,n</span>)</span>{<span class="code-keyword">var</span> o=e.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> o.peer=t,o.provider=r,o.options=n,o._open=!<span class="code-number">1</span>,o.metadata=n.metadata,o}<span class="code-keyword">return</span> t(r,e),<span class="code-built_in">Object</span>.defineProperty(r.prototype,<span class="code-string">"open"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._open},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),r}(e.EventEmitter);exports.BaseConnection=r;
</code></td></tr><tr><td id="L27" class="css-a4x74f"><span>27</span></td><td id="LC27" class="css-1dcdqdg"><code>},{<span class="code-string">"eventemitter3"</span>:<span class="code-string">"2JJl"</span>}],<span class="code-string">"dbHP"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L28" class="css-a4x74f"><span>28</span></td><td id="LC28" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__extends||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,o</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.__proto__=t}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> t)t.hasOwnProperty(o)&amp;&amp;(e[o]=t[o])})(t,o)};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,o</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}e(t,o),t.prototype=<span class="code-literal">null</span>===o?<span class="code-built_in">Object</span>.create(o):(r.prototype=o.prototype,<span class="code-keyword">new</span> r)}}(),t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-built_in">Object</span>.assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,o=<span class="code-number">1</span>,r=<span class="code-built_in">arguments</span>.length;o&lt;r;o++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t=<span class="code-built_in">arguments</span>[o])<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(t,n)&amp;&amp;(e[n]=t[n]);<span class="code-keyword">return</span> e}).apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},o=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__values||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator],o=<span class="code-number">0</span>;<span class="code-keyword">return</span> t?t.call(e):{<span class="code-attr">next</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;o&gt;=e.length&amp;&amp;(e=<span class="code-keyword">void</span> <span class="code-number">0</span>),{<span class="code-attr">value</span>:e&amp;&amp;e[o++],<span class="code-attr">done</span>:!e}}}},r=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importDefault||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.__esModule?e:{<span class="code-attr">default</span>:e}};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> n=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),i=r(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),a=<span class="code-built_in">require</span>(<span class="code-string">"./negotiator"</span>),s=<span class="code-built_in">require</span>(<span class="code-string">"./enums"</span>),l=<span class="code-built_in">require</span>(<span class="code-string">"./baseconnection"</span>),c=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">e,t,o</span>)</span>{<span class="code-keyword">var</span> i=r.call(<span class="code-keyword">this</span>,e,t,o)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i._localStream=i.options._stream,i.connectionId=i.options.connectionId||l.ID_PREFIX+n.util.randomToken(),i._negotiator=<span class="code-keyword">new</span> a.Negotiator(i),i._localStream&amp;&amp;i._negotiator.startConnection({<span class="code-attr">_stream</span>:i._localStream,<span class="code-attr">originator</span>:!<span class="code-number">0</span>}),i}<span class="code-keyword">return</span> e(l,r),<span class="code-built_in">Object</span>.defineProperty(l.prototype,<span class="code-string">"type"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> s.ConnectionType.Media},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(l.prototype,<span class="code-string">"localStream"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._localStream},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(l.prototype,<span class="code-string">"remoteStream"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._remoteStream},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),l.prototype.addStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.default.log(<span class="code-string">"Receiving stream"</span>,e),<span class="code-keyword">this</span>._remoteStream=e,r.prototype.emit.call(<span class="code-keyword">this</span>,s.ConnectionEventType.Stream,e)},l.prototype.handleMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type,o=e.payload;<span class="code-keyword">switch</span>(e.type){<span class="code-keyword">case</span> s.ServerMessageType.Answer:<span class="code-keyword">this</span>._negotiator.handleSDP(t,o.sdp),<span class="code-keyword">this</span>._open=!<span class="code-number">0</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> s.ServerMessageType.Candidate:<span class="code-keyword">this</span>._negotiator.handleCandidate(o.candidate);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:i.default.warn(<span class="code-string">"Unrecognized message type:"</span>+t+<span class="code-string">" from peer:"</span>+<span class="code-keyword">this</span>.peer)}},l.prototype.answer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">var</span> n,a;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={}),<span class="code-keyword">this</span>._localStream)i.default.warn(<span class="code-string">"Local stream already exists on this MediaConnection. Are you answering a call twice?"</span>);<span class="code-keyword">else</span>{<span class="code-keyword">this</span>._localStream=e,r&amp;&amp;r.sdpTransform&amp;&amp;(<span class="code-keyword">this</span>.options.sdpTransform=r.sdpTransform),<span class="code-keyword">this</span>._negotiator.startConnection(t({},<span class="code-keyword">this</span>.options._payload,{<span class="code-attr">_stream</span>:e}));<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.provider._getMessages(<span class="code-keyword">this</span>.connectionId);<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=o(s),c=l.next();!c.done;c=l.next()){<span class="code-keyword">var</span> p=c.value;<span class="code-keyword">this</span>.handleMessage(p)}}<span class="code-keyword">catch</span>(u){n={<span class="code-attr">error</span>:u}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{c&amp;&amp;!c.done&amp;&amp;(a=l.return)&amp;&amp;a.call(l)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(n)<span class="code-keyword">throw</span> n.error}}<span class="code-keyword">this</span>._open=!<span class="code-number">0</span>}},l.prototype.close=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._negotiator&amp;&amp;(<span class="code-keyword">this</span>._negotiator.cleanup(),<span class="code-keyword">this</span>._negotiator=<span class="code-literal">null</span>),<span class="code-keyword">this</span>._localStream=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._remoteStream=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.provider&amp;&amp;(<span class="code-keyword">this</span>.provider._removeConnection(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.provider=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.options&amp;&amp;<span class="code-keyword">this</span>.options._stream&amp;&amp;(<span class="code-keyword">this</span>.options._stream=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.open&amp;&amp;(<span class="code-keyword">this</span>._open=!<span class="code-number">1</span>,r.prototype.emit.call(<span class="code-keyword">this</span>,s.ConnectionEventType.Close))},l.ID_PREFIX=<span class="code-string">"mc_"</span>,l}(l.BaseConnection);exports.MediaConnection=c;
</code></td></tr><tr><td id="L29" class="css-a4x74f"><span>29</span></td><td id="LC29" class="css-1dcdqdg"><code>},{<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>,<span class="code-string">"./negotiator"</span>:<span class="code-string">"HCdX"</span>,<span class="code-string">"./enums"</span>:<span class="code-string">"9ZRY"</span>,<span class="code-string">"./baseconnection"</span>:<span class="code-string">"tQFK"</span>}],<span class="code-string">"GBTQ"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L30" class="css-a4x74f"><span>30</span></td><td id="LC30" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__extends||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.__proto__=t}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t)t.hasOwnProperty(n)&amp;&amp;(e[n]=t[n])})(t,n)};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}e(t,n),t.prototype=<span class="code-literal">null</span>===n?<span class="code-built_in">Object</span>.create(n):(i.prototype=n.prototype,<span class="code-keyword">new</span> i)}}(),t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__values||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator],n=<span class="code-number">0</span>;<span class="code-keyword">return</span> t?t.call(e):{<span class="code-attr">next</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;n&gt;=e.length&amp;&amp;(e=<span class="code-keyword">void</span> <span class="code-number">0</span>),{<span class="code-attr">value</span>:e&amp;&amp;e[n++],<span class="code-attr">done</span>:!e}}}},n=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importStar||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.__esModule)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> t={};<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e)<span class="code-built_in">Object</span>.hasOwnProperty.call(e,n)&amp;&amp;(t[n]=e[n]);<span class="code-keyword">return</span> t.default=e,t};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> i=<span class="code-built_in">require</span>(<span class="code-string">"reliable"</span>),r=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),o=n(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),a=<span class="code-built_in">require</span>(<span class="code-string">"./negotiator"</span>),s=<span class="code-built_in">require</span>(<span class="code-string">"./enums"</span>),u=<span class="code-built_in">require</span>(<span class="code-string">"./baseconnection"</span>),l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> o=n.call(<span class="code-keyword">this</span>,e,t,i)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> o._buffer=[],o._bufferSize=<span class="code-number">0</span>,o._buffering=!<span class="code-number">1</span>,o._chunkedData={},o.connectionId=o.options.connectionId||u.ID_PREFIX+r.util.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||s.SerializationType.Binary,o.reliable=o.options.reliable,o.options._payload&amp;&amp;(o._peerBrowser=o.options._payload.browser),o._negotiator=<span class="code-keyword">new</span> a.Negotiator(o),o._negotiator.startConnection(o.options._payload||{<span class="code-attr">originator</span>:!<span class="code-number">0</span>}),o}<span class="code-keyword">return</span> e(u,n),<span class="code-built_in">Object</span>.defineProperty(u.prototype,<span class="code-string">"type"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> s.ConnectionType.Data},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(u.prototype,<span class="code-string">"dataChannel"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._dc},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(u.prototype,<span class="code-string">"bufferSize"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._bufferSize},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),u.prototype.initialize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>._dc=e,<span class="code-keyword">this</span>._configureDataChannel()},u.prototype._configureDataChannel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(r.util.supports.sctp&amp;&amp;(<span class="code-keyword">this</span>.dataChannel.binaryType=<span class="code-string">"arraybuffer"</span>),<span class="code-keyword">this</span>.dataChannel.onopen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{o.default.log(<span class="code-string">"Data channel connection success"</span>),e._open=!<span class="code-number">0</span>,e.emit(s.ConnectionEventType.Open)},!r.util.supports.sctp&amp;&amp;<span class="code-keyword">this</span>.reliable){<span class="code-keyword">var</span> t=o.default.logLevel&gt;o.LogLevel.Disabled;<span class="code-keyword">this</span>._reliable=<span class="code-keyword">new</span> i.Reliable(<span class="code-keyword">this</span>.dataChannel,t)}<span class="code-keyword">this</span>._reliable?<span class="code-keyword">this</span>._reliable.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e.emit(s.ConnectionEventType.Data,t)}:<span class="code-keyword">this</span>.dataChannel.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e._handleDataMessage(t)},<span class="code-keyword">this</span>.dataChannel.onclose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{o.default.log(<span class="code-string">"DataChannel closed for:"</span>,e.peer),e.close()}},u.prototype._handleDataMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,i=e.data,o=i.constructor,a=i;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.serialization===s.SerializationType.Binary||<span class="code-keyword">this</span>.serialization===s.SerializationType.BinaryUTF8){<span class="code-keyword">if</span>(o===Blob)<span class="code-keyword">return</span> <span class="code-keyword">void</span> r.util.blobToArrayBuffer(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=r.util.unpack(e);t.emit(s.ConnectionEventType.Data,n)});<span class="code-keyword">if</span>(o===<span class="code-built_in">ArrayBuffer</span>)a=r.util.unpack(i);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(o===<span class="code-built_in">String</span>){<span class="code-keyword">var</span> u=r.util.binaryStringToArrayBuffer(i);a=r.util.unpack(u)}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.serialization===s.SerializationType.JSON&amp;&amp;(a=<span class="code-built_in">JSON</span>.parse(i));a.__peerData?<span class="code-keyword">this</span>._handleChunk(a):n.prototype.emit.call(<span class="code-keyword">this</span>,s.ConnectionEventType.Data,a)},u.prototype._handleChunk=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.__peerData,n=<span class="code-keyword">this</span>._chunkedData[t]||{<span class="code-attr">data</span>:[],<span class="code-attr">count</span>:<span class="code-number">0</span>,<span class="code-attr">total</span>:e.total};<span class="code-keyword">if</span>(n.data[e.n]=e.data,n.count++,<span class="code-keyword">this</span>._chunkedData[t]=n,n.total===n.count){<span class="code-keyword">delete</span> <span class="code-keyword">this</span>._chunkedData[t];<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Blob(n.data);<span class="code-keyword">this</span>._handleDataMessage({<span class="code-attr">data</span>:i})}},u.prototype.close=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._buffer=[],<span class="code-keyword">this</span>._bufferSize=<span class="code-number">0</span>,<span class="code-keyword">this</span>._chunkedData={},<span class="code-keyword">this</span>._negotiator&amp;&amp;(<span class="code-keyword">this</span>._negotiator.cleanup(),<span class="code-keyword">this</span>._negotiator=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.provider&amp;&amp;(<span class="code-keyword">this</span>.provider._removeConnection(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.provider=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.open&amp;&amp;(<span class="code-keyword">this</span>._open=!<span class="code-number">1</span>,n.prototype.emit.call(<span class="code-keyword">this</span>,s.ConnectionEventType.Close))},u.prototype.send=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.open)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._reliable)<span class="code-keyword">this</span>._reliable.send(e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">this</span>.serialization===s.SerializationType.JSON)<span class="code-keyword">this</span>._bufferedSend(<span class="code-built_in">JSON</span>.stringify(e));<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">this</span>.serialization===s.SerializationType.Binary||<span class="code-keyword">this</span>.serialization===s.SerializationType.BinaryUTF8){<span class="code-keyword">var</span> o=r.util.pack(e);<span class="code-keyword">if</span>((r.util.chunkedBrowsers[<span class="code-keyword">this</span>._peerBrowser]||r.util.chunkedBrowsers[r.util.browser])&amp;&amp;!t&amp;&amp;o.size&gt;r.util.chunkedMTU)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>._sendChunks(o);r.util.supports.sctp?r.util.supports.binaryBlob?<span class="code-keyword">this</span>._bufferedSend(o):r.util.blobToArrayBuffer(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i._bufferedSend(e)}):r.util.blobToBinaryString(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i._bufferedSend(e)})}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._bufferedSend(e);<span class="code-keyword">else</span> n.prototype.emit.call(<span class="code-keyword">this</span>,s.ConnectionEventType.Error,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Connection is not open. You should listen for the `open` event before sending messages."</span>))},u.prototype._bufferedSend=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{!<span class="code-keyword">this</span>._buffering&amp;&amp;<span class="code-keyword">this</span>._trySend(e)||(<span class="code-keyword">this</span>._buffer.push(e),<span class="code-keyword">this</span>._bufferSize=<span class="code-keyword">this</span>._buffer.length)},u.prototype._trySend=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.open)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">try</span>{<span class="code-keyword">this</span>.dataChannel.send(e)}<span class="code-keyword">catch</span>(n){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._buffering=!<span class="code-number">0</span>,setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t._buffering=!<span class="code-number">1</span>,t._tryBuffer()},<span class="code-number">100</span>),!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>},u.prototype._tryBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.open&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>._buffer.length){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>._buffer[<span class="code-number">0</span>];<span class="code-keyword">this</span>._trySend(e)&amp;&amp;(<span class="code-keyword">this</span>._buffer.shift(),<span class="code-keyword">this</span>._bufferSize=<span class="code-keyword">this</span>._buffer.length,<span class="code-keyword">this</span>._tryBuffer())}},u.prototype._sendChunks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n,i,o=r.util.chunk(e);<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=t(o),s=a.next();!s.done;s=a.next()){<span class="code-keyword">var</span> u=s.value;<span class="code-keyword">this</span>.send(u,!<span class="code-number">0</span>)}}<span class="code-keyword">catch</span>(l){n={<span class="code-attr">error</span>:l}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{s&amp;&amp;!s.done&amp;&amp;(i=a.return)&amp;&amp;i.call(a)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(n)<span class="code-keyword">throw</span> n.error}}},u.prototype.handleMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.payload;<span class="code-keyword">switch</span>(e.type){<span class="code-keyword">case</span> s.ServerMessageType.Answer:<span class="code-keyword">this</span>._peerBrowser=t.browser,<span class="code-keyword">this</span>._negotiator.handleSDP(e.type,t.sdp);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> s.ServerMessageType.Candidate:<span class="code-keyword">this</span>._negotiator.handleCandidate(t.candidate);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:o.default.warn(<span class="code-string">"Unrecognized message type:"</span>,e.type,<span class="code-string">"from peer:"</span>,<span class="code-keyword">this</span>.peer)}},u.ID_PREFIX=<span class="code-string">"dc_"</span>,u}(u.BaseConnection);exports.DataConnection=l;
</code></td></tr><tr><td id="L31" class="css-a4x74f"><span>31</span></td><td id="LC31" class="css-1dcdqdg"><code>},{<span class="code-string">"reliable"</span>:<span class="code-string">"aYFJ"</span>,<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>,<span class="code-string">"./negotiator"</span>:<span class="code-string">"HCdX"</span>,<span class="code-string">"./enums"</span>:<span class="code-string">"9ZRY"</span>,<span class="code-string">"./baseconnection"</span>:<span class="code-string">"tQFK"</span>}],<span class="code-string">"in7L"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L32" class="css-a4x74f"><span>32</span></td><td id="LC32" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__awaiter||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e,r,o</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span>(r||(r=<span class="code-built_in">Promise</span>))(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,s</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">try</span>{a(o.next(t))}<span class="code-keyword">catch</span>(e){s(e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">try</span>{a(o.throw(t))}<span class="code-keyword">catch</span>(e){s(e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">t</span>)</span>{t.done?n(t.value):<span class="code-keyword">new</span> r(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e(t.value)}).then(i,u)}a((o=o.apply(t,e||[])).next())})},e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__generator||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> r,o,n,s,i={<span class="code-attr">label</span>:<span class="code-number">0</span>,<span class="code-attr">sent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>&amp;n[<span class="code-number">0</span>])<span class="code-keyword">throw</span> n[<span class="code-number">1</span>];<span class="code-keyword">return</span> n[<span class="code-number">1</span>]},<span class="code-attr">trys</span>:[],<span class="code-attr">ops</span>:[]};<span class="code-keyword">return</span> s={<span class="code-attr">next</span>:u(<span class="code-number">0</span>),<span class="code-attr">throw</span>:u(<span class="code-number">1</span>),<span class="code-attr">return</span>:u(<span class="code-number">2</span>)},<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;(s[<span class="code-built_in">Symbol</span>.iterator]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>}),s;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">u</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">if</span>(r)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Generator is already executing."</span>);<span class="code-keyword">for</span>(;i;)<span class="code-keyword">try</span>{<span class="code-keyword">if</span>(r=<span class="code-number">1</span>,o&amp;&amp;(n=<span class="code-number">2</span>&amp;s[<span class="code-number">0</span>]?o.return:s[<span class="code-number">0</span>]?o.throw||((n=o.return)&amp;&amp;n.call(o),<span class="code-number">0</span>):o.next)&amp;&amp;!(n=n.call(o,s[<span class="code-number">1</span>])).done)<span class="code-keyword">return</span> n;<span class="code-keyword">switch</span>(o=<span class="code-number">0</span>,n&amp;&amp;(s=[<span class="code-number">2</span>&amp;s[<span class="code-number">0</span>],n.value]),s[<span class="code-number">0</span>]){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">case</span> <span class="code-number">1</span>:n=s;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span> i.label++,{<span class="code-attr">value</span>:s[<span class="code-number">1</span>],<span class="code-attr">done</span>:!<span class="code-number">1</span>};<span class="code-keyword">case</span> <span class="code-number">5</span>:i.label++,o=s[<span class="code-number">1</span>],s=[<span class="code-number">0</span>];<span class="code-keyword">continue</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:s=i.ops.pop(),i.trys.pop();<span class="code-keyword">continue</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(!(n=(n=i.trys).length&gt;<span class="code-number">0</span>&amp;&amp;n[n.length<span class="code-number">-1</span>])&amp;&amp;(<span class="code-number">6</span>===s[<span class="code-number">0</span>]||<span class="code-number">2</span>===s[<span class="code-number">0</span>])){i=<span class="code-number">0</span>;<span class="code-keyword">continue</span>}<span class="code-keyword">if</span>(<span class="code-number">3</span>===s[<span class="code-number">0</span>]&amp;&amp;(!n||s[<span class="code-number">1</span>]&gt;n[<span class="code-number">0</span>]&amp;&amp;s[<span class="code-number">1</span>]&lt;n[<span class="code-number">3</span>])){i.label=s[<span class="code-number">1</span>];<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(<span class="code-number">6</span>===s[<span class="code-number">0</span>]&amp;&amp;i.label&lt;n[<span class="code-number">1</span>]){i.label=n[<span class="code-number">1</span>],n=s;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(n&amp;&amp;i.label&lt;n[<span class="code-number">2</span>]){i.label=n[<span class="code-number">2</span>],i.ops.push(s);<span class="code-keyword">break</span>}n[<span class="code-number">2</span>]&amp;&amp;i.ops.pop(),i.trys.pop();<span class="code-keyword">continue</span>}s=e.call(t,i)}<span class="code-keyword">catch</span>(u){s=[<span class="code-number">6</span>,u],o=<span class="code-number">0</span>}<span class="code-keyword">finally</span>{r=n=<span class="code-number">0</span>}<span class="code-keyword">if</span>(<span class="code-number">5</span>&amp;s[<span class="code-number">0</span>])<span class="code-keyword">throw</span> s[<span class="code-number">1</span>];<span class="code-keyword">return</span>{<span class="code-attr">value</span>:s[<span class="code-number">0</span>]?s[<span class="code-number">1</span>]:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>}}([s,u])}}},r=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importDefault||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;t.__esModule?t:{<span class="code-attr">default</span>:t}};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> o=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),n=r(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>._options=t}<span class="code-keyword">return</span> r.prototype._buildUrl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=(<span class="code-keyword">this</span>._options.secure?<span class="code-string">"https://"</span>:<span class="code-string">"http://"</span>)+<span class="code-keyword">this</span>._options.host+<span class="code-string">":"</span>+<span class="code-keyword">this</span>._options.port+<span class="code-keyword">this</span>._options.path+<span class="code-keyword">this</span>._options.key+<span class="code-string">"/"</span>+t;<span class="code-keyword">return</span> e+=<span class="code-string">"?ts="</span>+(<span class="code-keyword">new</span> <span class="code-built_in">Date</span>).getTime()+<span class="code-built_in">Math</span>.random()},r.prototype.retrieveId=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,r,s,i;<span class="code-keyword">return</span> e(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">switch</span>(e.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:t=<span class="code-keyword">this</span>._buildUrl(<span class="code-string">"id"</span>),e.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> e.trys.push([<span class="code-number">1</span>,<span class="code-number">3</span>,,<span class="code-number">4</span>]),[<span class="code-number">4</span>,fetch(t)];<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">if</span>(<span class="code-number">200</span>!==(r=e.sent()).status)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error. Status:"</span>+r.status);<span class="code-keyword">return</span>[<span class="code-number">2</span>,r.text()];<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">throw</span> s=e.sent(),n.default.error(<span class="code-string">"Error retrieving ID"</span>,s),i=<span class="code-string">""</span>,<span class="code-string">"/"</span>===<span class="code-keyword">this</span>._options.path&amp;&amp;<span class="code-keyword">this</span>._options.host!==o.util.CLOUD_HOST&amp;&amp;(i=<span class="code-string">" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."</span>),<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Could not get an ID from the server."</span>+i);<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},r.prototype.listAllPeers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t(<span class="code-keyword">this</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Promise</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,r,s,i;<span class="code-keyword">return</span> e(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">switch</span>(e.label){<span class="code-keyword">case</span> <span class="code-number">0</span>:t=<span class="code-keyword">this</span>._buildUrl(<span class="code-string">"peers"</span>),e.label=<span class="code-number">1</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">return</span> e.trys.push([<span class="code-number">1</span>,<span class="code-number">3</span>,,<span class="code-number">4</span>]),[<span class="code-number">4</span>,fetch(t)];<span class="code-keyword">case</span> <span class="code-number">2</span>:<span class="code-keyword">if</span>(<span class="code-number">200</span>!==(r=e.sent()).status){<span class="code-keyword">if</span>(<span class="code-number">401</span>===r.status)<span class="code-keyword">throw</span> s=<span class="code-string">""</span>,s=<span class="code-keyword">this</span>._options.host===o.util.CLOUD_HOST?<span class="code-string">"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key."</span>:<span class="code-string">"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature."</span>,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"It doesn't look like you have permission to list peers IDs. "</span>+s);<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error. Status:"</span>+r.status)}<span class="code-keyword">return</span>[<span class="code-number">2</span>,r.json()];<span class="code-keyword">case</span> <span class="code-number">3</span>:<span class="code-keyword">throw</span> i=e.sent(),n.default.error(<span class="code-string">"Error retrieving list peers"</span>,i),<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Could not get list peers from the server."</span>+i);<span class="code-keyword">case</span> <span class="code-number">4</span>:<span class="code-keyword">return</span>[<span class="code-number">2</span>]}})})},r}();exports.API=s;
</code></td></tr><tr><td id="L33" class="css-a4x74f"><span>33</span></td><td id="LC33" class="css-1dcdqdg"><code>},{<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>}],<span class="code-string">"Hxpd"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L34" class="css-a4x74f"><span>34</span></td><td id="LC34" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__extends||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-built_in">Object</span>.setPrototypeOf||{<span class="code-attr">__proto__</span>:[]}<span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.__proto__=t}||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> t)t.hasOwnProperty(n)&amp;&amp;(e[n]=t[n])})(t,n)};<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.constructor=t}e(t,n),t.prototype=<span class="code-literal">null</span>===n?<span class="code-built_in">Object</span>.create(n):(r.prototype=n.prototype,<span class="code-keyword">new</span> r)}}(),t=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-built_in">Object</span>.assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,n=<span class="code-number">1</span>,r=<span class="code-built_in">arguments</span>.length;n&lt;r;n++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> t=<span class="code-built_in">arguments</span>[n])<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(t,o)&amp;&amp;(e[o]=t[o]);<span class="code-keyword">return</span> e}).apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},n=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__values||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator],n=<span class="code-number">0</span>;<span class="code-keyword">return</span> t?t.call(e):{<span class="code-attr">next</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;n&gt;=e.length&amp;&amp;(e=<span class="code-keyword">void</span> <span class="code-number">0</span>),{<span class="code-attr">value</span>:e&amp;&amp;e[n++],<span class="code-attr">done</span>:!e}}}},r=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__read||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e[<span class="code-built_in">Symbol</span>.iterator];<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> r,o,i=n.call(e),s=[];<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(;(<span class="code-keyword">void</span> <span class="code-number">0</span>===t||t-- &gt;<span class="code-number">0</span>)&amp;&amp;!(r=i.next()).done;)s.push(r.value)}<span class="code-keyword">catch</span>(c){o={<span class="code-attr">error</span>:c}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{r&amp;&amp;!r.done&amp;&amp;(n=i.return)&amp;&amp;n.call(i)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(o)<span class="code-keyword">throw</span> o.error}}<span class="code-keyword">return</span> s},o=<span class="code-keyword">this</span>&amp;&amp;<span class="code-keyword">this</span>.__importDefault||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.__esModule?e:{<span class="code-attr">default</span>:e}};<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> i=<span class="code-built_in">require</span>(<span class="code-string">"eventemitter3"</span>),s=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),c=o(<span class="code-built_in">require</span>(<span class="code-string">"./logger"</span>)),a=<span class="code-built_in">require</span>(<span class="code-string">"./socket"</span>),l=<span class="code-built_in">require</span>(<span class="code-string">"./mediaconnection"</span>),d=<span class="code-built_in">require</span>(<span class="code-string">"./dataconnection"</span>),u=<span class="code-built_in">require</span>(<span class="code-string">"./enums"</span>),p=<span class="code-built_in">require</span>(<span class="code-string">"./api"</span>),h=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}(),f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r=o.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> r._destroyed=!<span class="code-number">1</span>,r._disconnected=!<span class="code-number">1</span>,r._open=!<span class="code-number">1</span>,r._connections=<span class="code-keyword">new</span> <span class="code-built_in">Map</span>,r._lostMessages=<span class="code-keyword">new</span> <span class="code-built_in">Map</span>,e&amp;&amp;e.constructor==<span class="code-built_in">Object</span>?(n=e,e=<span class="code-keyword">void</span> <span class="code-number">0</span>):e&amp;&amp;(e=e.toString()),n=t({<span class="code-attr">debug</span>:<span class="code-number">0</span>,<span class="code-attr">host</span>:s.util.CLOUD_HOST,<span class="code-attr">port</span>:s.util.CLOUD_PORT,<span class="code-attr">path</span>:<span class="code-string">"/"</span>,<span class="code-attr">key</span>:i.DEFAULT_KEY,<span class="code-attr">token</span>:s.util.randomToken(),<span class="code-attr">config</span>:s.util.defaultConfig},n),r._options=n,<span class="code-string">"/"</span>===n.host&amp;&amp;(n.host=<span class="code-built_in">window</span>.location.hostname),<span class="code-string">"/"</span>!==n.path[<span class="code-number">0</span>]&amp;&amp;(n.path=<span class="code-string">"/"</span>+n.path),<span class="code-string">"/"</span>!==n.path[n.path.length<span class="code-number">-1</span>]&amp;&amp;(n.path+=<span class="code-string">"/"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n.secure&amp;&amp;n.host!==s.util.CLOUD_HOST?n.secure=s.util.isSecure():n.host==s.util.CLOUD_HOST&amp;&amp;(n.secure=!<span class="code-number">0</span>),n.logFunction&amp;&amp;c.default.setLogFunction(n.logFunction),c.default.logLevel=n.debug,s.util.supports.audioVideo||s.util.supports.data?s.util.validateId(e)?(r._api=<span class="code-keyword">new</span> p.API(n),r._initializeServerConnection(),e?r._initialize(e):r._api.retrieveId().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r._initialize(e)}).catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r._abort(u.PeerErrorType.ServerError,e)}),r):(r._delayedAbort(u.PeerErrorType.InvalidID,<span class="code-string">'ID "'</span>+e+<span class="code-string">'" is invalid'</span>),r):(r._delayedAbort(u.PeerErrorType.BrowserIncompatible,<span class="code-string">"The current browser does not support WebRTC"</span>),r)}<span class="code-keyword">return</span> e(i,o),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"id"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._id},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"options"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._options},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"open"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._open},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"socket"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._socket},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"connections"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,o=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span>);<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n(<span class="code-keyword">this</span>._connections),s=i.next();!s.done;s=i.next()){<span class="code-keyword">var</span> c=r(s.value,<span class="code-number">2</span>),a=c[<span class="code-number">0</span>],l=c[<span class="code-number">1</span>];o[a]=l}}<span class="code-keyword">catch</span>(d){e={<span class="code-attr">error</span>:d}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{s&amp;&amp;!s.done&amp;&amp;(t=i.return)&amp;&amp;t.call(i)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">throw</span> e.error}}<span class="code-keyword">return</span> o},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"destroyed"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._destroyed},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(i.prototype,<span class="code-string">"disconnected"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>._disconnected},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),i.prototype._initializeServerConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>._socket=<span class="code-keyword">new</span> a.Socket(<span class="code-keyword">this</span>._options.secure,<span class="code-keyword">this</span>._options.host,<span class="code-keyword">this</span>._options.port,<span class="code-keyword">this</span>._options.path,<span class="code-keyword">this</span>._options.key,<span class="code-keyword">this</span>._options.pingInterval),<span class="code-keyword">this</span>.socket.on(u.SocketEventType.Message,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e._handleMessage(t)}),<span class="code-keyword">this</span>.socket.on(u.SocketEventType.Error,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e._abort(u.PeerErrorType.SocketError,t)}),<span class="code-keyword">this</span>.socket.on(u.SocketEventType.Disconnected,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.disconnected||(e.emitError(u.PeerErrorType.Network,<span class="code-string">"Lost connection to server."</span>),e.disconnect())}),<span class="code-keyword">this</span>.socket.on(u.SocketEventType.Close,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.disconnected||e._abort(u.PeerErrorType.SocketClosed,<span class="code-string">"Underlying socket is already closed."</span>)})},i.prototype._initialize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>._id=e,<span class="code-keyword">this</span>.socket.start(<span class="code-keyword">this</span>.id,<span class="code-keyword">this</span>._options.token)},i.prototype._handleMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,r,o=e.type,i=e.payload,s=e.src;<span class="code-keyword">switch</span>(o){<span class="code-keyword">case</span> u.ServerMessageType.Open:<span class="code-keyword">this</span>.emit(u.PeerEventType.Open,<span class="code-keyword">this</span>.id),<span class="code-keyword">this</span>._open=!<span class="code-number">0</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.Error:<span class="code-keyword">this</span>._abort(u.PeerErrorType.ServerError,i.msg);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.IdTaken:<span class="code-keyword">this</span>._abort(u.PeerErrorType.UnavailableID,<span class="code-string">'ID "'</span>+<span class="code-keyword">this</span>.id+<span class="code-string">'" is taken'</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.InvalidKey:<span class="code-keyword">this</span>._abort(u.PeerErrorType.InvalidKey,<span class="code-string">'API KEY "'</span>+<span class="code-keyword">this</span>._options.key+<span class="code-string">'" is invalid'</span>);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.Leave:c.default.log(<span class="code-string">"Received leave message from"</span>,s),<span class="code-keyword">this</span>._cleanupPeer(s),<span class="code-keyword">this</span>._connections.delete(s);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.Expire:<span class="code-keyword">this</span>.emitError(u.PeerErrorType.PeerUnavailable,<span class="code-string">"Could not connect to peer "</span>+s);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> u.ServerMessageType.Offer:<span class="code-keyword">var</span> a=i.connectionId;<span class="code-keyword">if</span>((_=<span class="code-keyword">this</span>.getConnection(s,a))&amp;&amp;(_.close(),c.default.warn(<span class="code-string">"Offer received for existing Connection ID:"</span>,a)),i.type===u.ConnectionType.Media)_=<span class="code-keyword">new</span> l.MediaConnection(s,<span class="code-keyword">this</span>,{<span class="code-attr">connectionId</span>:a,<span class="code-attr">_payload</span>:i,<span class="code-attr">metadata</span>:i.metadata}),<span class="code-keyword">this</span>._addConnection(s,_),<span class="code-keyword">this</span>.emit(u.PeerEventType.Call,_);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(i.type!==u.ConnectionType.Data)<span class="code-keyword">return</span> <span class="code-keyword">void</span> c.default.warn(<span class="code-string">"Received malformed connection type:"</span>,i.type);_=<span class="code-keyword">new</span> d.DataConnection(s,<span class="code-keyword">this</span>,{<span class="code-attr">connectionId</span>:a,<span class="code-attr">_payload</span>:i,<span class="code-attr">metadata</span>:i.metadata,<span class="code-attr">label</span>:i.label,<span class="code-attr">serialization</span>:i.serialization,<span class="code-attr">reliable</span>:i.reliable}),<span class="code-keyword">this</span>._addConnection(s,_),<span class="code-keyword">this</span>.emit(u.PeerEventType.Connection,_)}<span class="code-keyword">var</span> p=<span class="code-keyword">this</span>._getMessages(a);<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=n(p),f=h.next();!f.done;f=h.next()){<span class="code-keyword">var</span> y=f.value;_.handleMessage(y)}}<span class="code-keyword">catch</span>(v){t={<span class="code-attr">error</span>:v}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{f&amp;&amp;!f.done&amp;&amp;(r=h.return)&amp;&amp;r.call(h)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(t)<span class="code-keyword">throw</span> t.error}}<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span> <span class="code-keyword">void</span> c.default.warn(<span class="code-string">"You received a malformed message from "</span>+s+<span class="code-string">" of type "</span>+o);<span class="code-keyword">var</span> _;a=i.connectionId;(_=<span class="code-keyword">this</span>.getConnection(s,a))&amp;&amp;_.peerConnection?_.handleMessage(e):a?<span class="code-keyword">this</span>._storeMessage(a,e):c.default.warn(<span class="code-string">"You received an unrecognized message:"</span>,e)}},i.prototype._storeMessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>._lostMessages.has(e)||<span class="code-keyword">this</span>._lostMessages.set(e,[]),<span class="code-keyword">this</span>._lostMessages.get(e).push(t)},i.prototype._getMessages=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._lostMessages.get(e);<span class="code-keyword">return</span> t?(<span class="code-keyword">this</span>._lostMessages.delete(e),t):[]},i.prototype.connect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),<span class="code-keyword">this</span>.disconnected)<span class="code-keyword">return</span> c.default.warn(<span class="code-string">"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.emitError(u.PeerErrorType.Disconnected,<span class="code-string">"Cannot connect to new Peer after disconnecting from server."</span>);<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> d.DataConnection(e,<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._addConnection(e,n),n},i.prototype.call=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n={}),<span class="code-keyword">this</span>.disconnected)<span class="code-keyword">return</span> c.default.warn(<span class="code-string">"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.emitError(u.PeerErrorType.Disconnected,<span class="code-string">"Cannot connect to new Peer after disconnecting from server."</span>);<span class="code-keyword">if</span>(t){n._stream=t;<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> l.MediaConnection(e,<span class="code-keyword">this</span>,n);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._addConnection(e,r),r}c.default.error(<span class="code-string">"To call a peer, you must provide a stream from your browser's `getUserMedia`."</span>)},i.prototype._addConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{c.default.log(<span class="code-string">"add connection "</span>+t.type+<span class="code-string">":"</span>+t.connectionId+<span class="code-string">"\n       to peerId:"</span>+e),<span class="code-keyword">this</span>._connections.has(e)||<span class="code-keyword">this</span>._connections.set(e,[]),<span class="code-keyword">this</span>._connections.get(e).push(t)},i.prototype._removeConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>._connections.get(e.peer);<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> n=t.indexOf(e);<span class="code-number">-1</span>!==n&amp;&amp;t.splice(n,<span class="code-number">1</span>)}<span class="code-keyword">this</span>._lostMessages.delete(e.connectionId)},i.prototype.getConnection=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> r,o,i=<span class="code-keyword">this</span>._connections.get(e);<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=n(i),c=s.next();!c.done;c=s.next()){<span class="code-keyword">var</span> a=c.value;<span class="code-keyword">if</span>(a.connectionId===t)<span class="code-keyword">return</span> a}}<span class="code-keyword">catch</span>(l){r={<span class="code-attr">error</span>:l}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{c&amp;&amp;!c.done&amp;&amp;(o=s.return)&amp;&amp;o.call(s)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(r)<span class="code-keyword">throw</span> r.error}}<span class="code-keyword">return</span> <span class="code-literal">null</span>},i.prototype._delayedAbort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n._abort(e,t)},<span class="code-number">0</span>)},i.prototype._abort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{c.default.error(<span class="code-string">"Aborting!"</span>),<span class="code-keyword">this</span>._lastServerId?<span class="code-keyword">this</span>.disconnect():<span class="code-keyword">this</span>.destroy(),<span class="code-keyword">this</span>.emitError(e,t)},i.prototype.emitError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{c.default.error(<span class="code-string">"Error:"</span>,t),<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(t=<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(t)),t.type=e,<span class="code-keyword">this</span>.emit(u.PeerEventType.Error,t)},i.prototype.destroy=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.destroyed||(<span class="code-keyword">this</span>._cleanup(),<span class="code-keyword">this</span>.disconnect(),<span class="code-keyword">this</span>._destroyed=!<span class="code-number">0</span>)},i.prototype._cleanup=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t;<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=n(<span class="code-keyword">this</span>._connections.keys()),o=r.next();!o.done;o=r.next()){<span class="code-keyword">var</span> i=o.value;<span class="code-keyword">this</span>._cleanupPeer(i),<span class="code-keyword">this</span>._connections.delete(i)}}<span class="code-keyword">catch</span>(s){e={<span class="code-attr">error</span>:s}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{o&amp;&amp;!o.done&amp;&amp;(t=r.return)&amp;&amp;t.call(r)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">throw</span> e.error}}<span class="code-keyword">this</span>.emit(u.PeerEventType.Close)},i.prototype._cleanupPeer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,r,o=<span class="code-keyword">this</span>._connections.get(e);<span class="code-keyword">if</span>(o)<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n(o),s=i.next();!s.done;s=i.next()){s.value.close()}}<span class="code-keyword">catch</span>(c){t={<span class="code-attr">error</span>:c}}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{s&amp;&amp;!s.done&amp;&amp;(r=i.return)&amp;&amp;r.call(i)}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(t)<span class="code-keyword">throw</span> t.error}}},i.prototype.disconnect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.disconnected||(e._disconnected=!<span class="code-number">0</span>,e._open=!<span class="code-number">1</span>,e.socket&amp;&amp;e.socket.close(),e.emit(u.PeerEventType.Disconnected,e.id),e._lastServerId=e.id,e._id=<span class="code-literal">null</span>)},<span class="code-number">0</span>)},i.prototype.reconnect=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.disconnected&amp;&amp;!<span class="code-keyword">this</span>.destroyed)c.default.log(<span class="code-string">"Attempting reconnection to server with ID "</span>+<span class="code-keyword">this</span>._lastServerId),<span class="code-keyword">this</span>._disconnected=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._initializeServerConnection(),<span class="code-keyword">this</span>._initialize(<span class="code-keyword">this</span>._lastServerId);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"This peer cannot reconnect to the server. It has already been destroyed."</span>);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.disconnected||<span class="code-keyword">this</span>.open)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Peer "</span>+<span class="code-keyword">this</span>.id+<span class="code-string">" cannot reconnect because it is not disconnected from the server!"</span>);c.default.error(<span class="code-string">"In a hurry? We're still trying to make the initial connection!"</span>)}},i.prototype.listAllPeers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{}),<span class="code-keyword">this</span>._api.listAllPeers().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e(t)}).catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t._abort(u.PeerErrorType.ServerError,e)})},i.DEFAULT_KEY=<span class="code-string">"peerjs"</span>,i}(i.EventEmitter);exports.Peer=f;
</code></td></tr><tr><td id="L35" class="css-a4x74f"><span>35</span></td><td id="LC35" class="css-1dcdqdg"><code>},{<span class="code-string">"eventemitter3"</span>:<span class="code-string">"2JJl"</span>,<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./logger"</span>:<span class="code-string">"8WOs"</span>,<span class="code-string">"./socket"</span>:<span class="code-string">"wJlv"</span>,<span class="code-string">"./mediaconnection"</span>:<span class="code-string">"dbHP"</span>,<span class="code-string">"./dataconnection"</span>:<span class="code-string">"GBTQ"</span>,<span class="code-string">"./enums"</span>:<span class="code-string">"9ZRY"</span>,<span class="code-string">"./api"</span>:<span class="code-string">"in7L"</span>}],<span class="code-string">"iTK6"</span>:[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">require,module,exports</span>) </span>{
</code></td></tr><tr><td id="L36" class="css-a4x74f"><span>36</span></td><td id="LC36" class="css-1dcdqdg"><code><span class="code-meta">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(exports,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>});<span class="code-keyword">var</span> e=<span class="code-built_in">require</span>(<span class="code-string">"./util"</span>),r=<span class="code-built_in">require</span>(<span class="code-string">"./peer"</span>);exports.peerjs={<span class="code-attr">Peer</span>:r.Peer,<span class="code-attr">util</span>:e.util},exports.default=r.Peer,<span class="code-built_in">window</span>.peerjs=exports.peerjs,<span class="code-built_in">window</span>.Peer=r.Peer;
</code></td></tr><tr><td id="L37" class="css-a4x74f"><span>37</span></td><td id="LC37" class="css-1dcdqdg"><code>},{<span class="code-string">"./util"</span>:<span class="code-string">"BHXf"</span>,<span class="code-string">"./peer"</span>:<span class="code-string">"Hxpd"</span>}]},{},[<span class="code-string">"iTK6"</span>], <span class="code-literal">null</span>)
</code></td></tr><tr><td id="L38" class="css-a4x74f"><span>38</span></td><td id="LC38" class="css-1dcdqdg"><code><span class="code-comment">//# sourceMappingURL=/peerjs.min.js.map</span></code></td></tr><tr><td class="css-a4x74f">\</td><style data-emotion-css="jhhjkz">.css-jhhjkz{padding-left:10px;color:rgba(27,31,35,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td class="css-jhhjkz">No newline at end of file</td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p>© <!-- -->2019<!-- --> UNPKG</p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a title="Twitter" href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="ap0i2q">.css-ap0i2q{color:#aaa;display:inline-block;margin-left:1rem;}.css-ap0i2q:hover{color:white;}</style><a title="GitHub" href="https://github.com/mjackson/unpkg" class="css-ap0i2q"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(m,v,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a};return w.apply(this,arguments)}function I(a,b){if(null==a)return{};var c={},f=Object.keys(a),g;for(g=0;g<f.length;g++){var h=f[g];0<=b.indexOf(h)||(c[h]=a[h])}return c}function J(a,b){b||(b=a.slice(0));a.raw=b;return a}function K(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function x(a,b){return b={exports:{}},a(b,b.exports),b.exports}function L(){}function M(){}function fa(a){var b=a.children;a=I(a,["children"]);return E.createElement(N.Provider,{children:b,value:a})}function O(a){return a&&a.map(function(a,c){return m.createElement(a.tag,u({key:c},a.attr),O(a.child))})}function y(a){return function(b){return m.createElement(ha,u({attr:u({},a.attr)},b),O(a.child))}}function ha(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var d=
b.className;a.className&&(d=(d?d+" ":"")+a.className);var h=a.attr,n=a.title,l=["attr","title"],q={},p;for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&0>l.indexOf(p)&&(q[p]=a[p]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var k=0;for(p=Object.getOwnPropertySymbols(a);k<p.length;k++)0>l.indexOf(p[k])&&(q[p[k]]=a[p[k]])}return m.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,q,{className:d,style:u({color:a.color||b.color},b.style,
a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),n&&m.createElement("title",null,n),a.children)};return void 0!==P?m.createElement(P.Consumer,null,function(a){return b(a)}):b(Q)}function z(a,b){var d=b.css;b=I(b,["css"]);return c.jsx(a,w({css:w({},d,{verticalAlign:"text-bottom"})},b))}function ia(a){return z(R,a)}function ja(a){return z(S,a)}function ka(a){return z(T,a)}function la(a){return z(U,a)}function ma(a){var b=a.path,d=a.details,f=[];"/"!==b&&f.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:F}),c.jsx("td",{css:t},c.jsx("a",{title:"Parent directory",href:"../",css:G},"..")),c.jsx("td",{css:t}),c.jsx("td",{css:H})));a=Object.keys(d).reduce(function(a,b){var c=a.subdirs,f=a.files;b=d[b];"directory"===b.type?c.push(b):"file"===b.type&&f.push(b);return a},{subdirs:[],files:[]});var g=a.files;a.subdirs.sort(V("path")).forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var d=a+"/";f.push(c.jsx("tr",{key:a},c.jsx("td",{css:F},c.jsx(ia,null)),c.jsx("td",{css:t},c.jsx("a",{title:a,
href:d,css:G},a)),c.jsx("td",{css:t},"-"),c.jsx("td",{css:H},"-")))});g.sort(V("path")).forEach(function(a){var d=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);f.push(c.jsx("tr",{key:a},c.jsx("td",{css:F},c.jsx(ja,null)),c.jsx("td",{css:t},c.jsx("a",{title:a,href:a,css:G},a)),c.jsx("td",{css:t},W(d)),c.jsx("td",{css:H},g)))});return c.jsx("div",{css:{border:"1px solid #dfe2e5",borderRadius:3,borderTopWidth:0,"@media (max-width: 700px)":{borderRightWidth:0,borderLeftWidth:0}}},c.jsx("table",
{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(A,null,"Icon")),c.jsx("th",null,c.jsx(A,null,"Name")),c.jsx("th",null,c.jsx(A,null,"Size")),c.jsx("th",null,c.jsx(A,null,"Content Type")))),c.jsx("tbody",null,f)))}function na(a){a=a.split("/");return a[a.length-1]}function oa(a){var b=a.uri;return c.jsx("div",{css:{padding:20,
textAlign:"center"}},c.jsx("img",{title:na(a.path),src:b}))}function pa(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var d=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+d,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",
verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,d)),c.jsx("td",{id:"LC"+d,css:{paddingLeft:10,paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},
"No newline at end of file")))))}function qa(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},"No preview available."))}function ra(a){var b=a.path,d=a.details,f=m.useContext(N);a=f.packageName;f=f.packageVersion;var g=d.highlights,h=d.uri,n=d.language;d=d.size;var l=b.split("/");l=l[l.length-1];return c.jsx("div",{css:{border:"1px solid #dfe2e5",borderRadius:3,"@media (max-width: 700px)":{borderRightWidth:0,borderLeftWidth:0}}},c.jsx("div",{css:{padding:10,background:"#f6f8fa",
color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between","@media (max-width: 700px)":{paddingRight:20,paddingLeft:20}}},c.jsx("span",null,W(d))," ",c.jsx("span",null,n)," ",c.jsx("a",{title:l,href:"/"+a+"@"+f+b,css:{display:"inline-block",textDecoration:"none",padding:"2px 8px",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",
borderRadius:3,":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw")),g?c.jsx(pa,{highlights:g}):h?c.jsx(oa,{path:b,uri:h}):c.jsx(qa,null))}function X(){var a=J(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
X=function(){return a};return a}function Y(){var a=J(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
Y=function(){return a};return a}var E="default"in m?m["default"]:m;v=v&&v.hasOwnProperty("default")?v["default"]:v;var sa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Z=x(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case g:switch(a=a.type,a){case r:case e:case n:case q:case l:case B:return a;default:switch(a=a&&a.$$typeof,a){case k:case C:case p:return a;
default:return b}}case m:case D:case h:return b}}}function f(a){return c(a)===e}Object.defineProperty(b,"__esModule",{value:!0});var g=(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,n=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,q=a?Symbol.for("react.profiler"):60114,p=a?Symbol.for("react.provider"):60109,k=a?Symbol.for("react.context"):60110,r=a?Symbol.for("react.async_mode"):60111,e=a?Symbol.for("react.concurrent_mode"):
60111,C=a?Symbol.for("react.forward_ref"):60112,B=a?Symbol.for("react.suspense"):60113,D=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=r;b.ConcurrentMode=e;b.ContextConsumer=k;b.ContextProvider=p;b.Element=g;b.ForwardRef=C;b.Fragment=n;b.Lazy=m;b.Memo=D;b.Portal=h;b.Profiler=q;b.StrictMode=l;b.Suspense=B;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===n||a===e||a===q||a===l||a===B||"object"===typeof a&&null!==a&&(a.$$typeof===
m||a.$$typeof===D||a.$$typeof===p||a.$$typeof===k||a.$$typeof===C)};b.isAsyncMode=function(a){return f(a)||c(a)===r};b.isConcurrentMode=f;b.isContextConsumer=function(a){return c(a)===k};b.isContextProvider=function(a){return c(a)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===g};b.isForwardRef=function(a){return c(a)===C};b.isFragment=function(a){return c(a)===n};b.isLazy=function(a){return c(a)===m};b.isMemo=function(a){return c(a)===D};b.isPortal=function(a){return c(a)===
h};b.isProfiler=function(a){return c(a)===q};b.isStrictMode=function(a){return c(a)===l};b.isSuspense=function(a){return c(a)===B}});K(Z);var ta=x(function(a,b){});K(ta);x(function(a){a.exports=Z});(function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(f){return!1}})();Function.call.bind(Object.prototype.hasOwnProperty);M.resetWarningCache=L;var ua=function(){function a(a,b,c,d,l,q){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==q)throw a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),a.name="Invariant Violation",a;}
function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:M,resetWarningCache:L};return c.PropTypes=c};x(function(a){a.exports=ua()});var N=m.createContext(),va=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a},wa={border:0,clip:"rect(0 0 0 0)",
height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute"},A=function(a){return E.createElement("div",va({style:wa},a))},aa=x(function(a){(function(b,c){a.exports=c()})(sa,function(){function a(a){if(!a)return!0;if(!g(a)||0!==a.length)for(var c in a)if(p.call(a,c))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===q.call(a)}function f(a){return"string"===typeof a||"[object String]"===q.call(a)}function g(a){return"object"===typeof a&&"number"===
typeof a.length&&"[object Array]"===q.call(a)}function h(a){var c=parseInt(a);return c.toString()===a?c:a}function n(b,e,d,g){c(e)&&(e=[e]);if(a(e))return b;if(f(e))return n(b,e.split("."),d,g);var r=h(e[0]);if(1===e.length)return e=b[r],void 0!==e&&g||(b[r]=d),e;void 0===b[r]&&(c(r)?b[r]=[]:b[r]={});return n(b[r],e.slice(1),d,g)}function l(b,e){c(e)&&(e=[e]);if(!a(b)){if(a(e))return b;if(f(e))return l(b,e.split("."));var d=h(e[0]),r=b[d];if(1===e.length)void 0!==r&&(g(b)?b.splice(d,1):delete b[d]);
else if(void 0!==b[d])return l(b[d],e.slice(1));return b}}var q=Object.prototype.toString,p=Object.prototype.hasOwnProperty,k={ensureExists:function(a,b,c){return n(a,b,c,!0)},set:function(a,b,c,d){return n(a,b,c,d)},insert:function(a,b,c,d){var e=k.get(a,b);d=~~d;g(e)||(e=[],k.set(a,b,e));e.splice(d,0,c)},empty:function(b,d){if(a(d))return b;if(!a(b)){var e,h;if(!(e=k.get(b,d)))return b;if(f(e))return k.set(b,d,"");if("boolean"===typeof e||"[object Boolean]"===q.call(e))return k.set(b,d,!1);if(c(e))return k.set(b,
d,0);if(g(e))e.length=0;else if("object"===typeof e&&"[object Object]"===q.call(e))for(h in e)p.call(e,h)&&delete e[h];else return k.set(b,d,null)}},push:function(a,b){var c=k.get(a,b);g(c)||(c=[],k.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=k.get(a,b[e])))return d;return c},get:function(b,d,g){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return g;if(f(d))return k.get(b,d.split("."),g);var e=h(d[0]);return 1===
d.length?void 0===b[e]?g:b[e]:k.get(b[e],d.slice(1),g)},del:function(a,b){return l(a,b)}};return k})});var ba=function(a){return function(b){return typeof b===a}};var xa=function(a,b){var c=1,f=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,d){var g;b=f(a,aa.get(b,a));d=f(a,aa.get(d,a));b<d&&(g=-1);b>d&&(g=1);b===d&&(g=0);return g*c}};var V=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ba("string")),c=a.filter(ba("function"))[0];return function(a,
d){for(var f=b.length,g=0,l=0;0===g&&l<f;)g=xa(b[l],c)(a,d),l++;return g}};let ca="B kB MB GB TB PB EB ZB YB".split(" "),da=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var W=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let f=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=da(a,b.locale),f+a+" B";c=Math.min(Math.floor(Math.log10(a)/
3),ca.length-1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=da(a,b.locale);return f+a+" "+ca[c]},Q={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P=m.createContext&&m.createContext(Q),u=function(){u=Object.assign||function(a){for(var b,c=1,f=arguments.length;c<f;c++){b=arguments[c];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])}return a};return u.apply(this,arguments)},R=function(a){return y({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};R.displayName="GoFileDirectory";var S=function(a){return y({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};S.displayName="GoFile";var U=function(a){return y({tag:"svg",attr:{viewBox:"0 0 496 512"},
child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
U.displayName="FaGithub";var T=function(a){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
T.displayName="FaTwitter";var G={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},t={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},F=w({},t,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),H=w({},t,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}}),ya=c.css(Y(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),za=c.css(X()),ea={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}};v.hydrate(E.createElement(function(a){var b=a.packageName,d=a.packageVersion,f=a.availableVersions;f=void 0===f?[]:f;var g=a.filename;a=a.target;var h=[];if("/"===g)h.push(b);else{var n="/browse/"+b+"@"+d;h.push(c.jsx("a",{href:n+"/",css:ea},b));g=g.replace(/^\/+/,
"").replace(/\/+$/,"").split("/");var l=g.pop();g.forEach(function(a){n+="/"+a;h.push(c.jsx("a",{href:n+"/",css:ea},a))});h.push(l)}return c.jsx(fa,{packageName:b,packageVersion:d},c.jsx(m.Fragment,null,c.jsx(c.Global,{styles:ya}),c.jsx(c.Global,{styles:za}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx("header",{css:{textAlign:"center"}},c.jsx("h1",{css:{fontSize:"3rem",marginTop:"2rem"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},
"UNPKG"))),c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1}},c.jsx("nav",null,h.map(function(a,b,d){return c.jsx("span",{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===d.length-1?c.jsx("strong",null,a):a)}))),c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},
c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:d,onChange:function(a){window.location.href=window.location.href.replace("@"+d,"@"+a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},f.map(function(a){return c.jsx("option",{key:a,value:a},a)})))))),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},"directory"===a.type?c.jsx(ma,{path:a.path,
details:a.details}):"file"===a.type?c.jsx(ra,{path:a.path,details:a.details}):null)),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,"\u00a9 ",(new Date).getFullYear()," UNPKG"),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{title:"Twitter",href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",
":hover":{color:"white"}}},c.jsx(ka,null)),c.jsx("a",{title:"GitHub",href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",marginLeft:"1rem",":hover":{color:"white"}}},c.jsx(la,null)))))))},window.__DATA__||{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>